(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{OYjW:function(l,n,e){"use strict";e.d(n,"a",function(){return a});var t=e("CcnG"),u=(e("flBa"),e("gIcY")),a=function(){function l(l){this.service=l,this.selectedId=null,this.parameterSet=new t.n}return l.prototype.ngOnInit=function(){var l=this;this.formSetup(),this.getParameterSetInfo(),this.service.newParameterSetMeta$.subscribe(function(n){return l.addNewMeta(n)})},l.prototype.ngOnChanges=function(l){l.selectedId&&l.selectedId.currentValue&&this.setSelected(+this.selectedId)},l.prototype.formSetup=function(){this.parentForm.addControl("parameterSetId",new u.f("",u.v.required))},l.prototype.getParameterSetInfo=function(){var l=this;this.service.getParameterSetMeta().subscribe(function(n){l.parameterSets=n,l.selectedId&&l.setSelected(l.selectedId)})},l.prototype.setSelected=function(l){this.parameterSets&&this.parameterSets.length>0&&(this.selected=this.parameterSets.find(function(n){return+n.id===l}),this.parentForm.controls.parameterSetId.setValue(this.selected.id))},l.prototype.onParameterSetSelect=function(l){this.selectParameterSet(+l.value)},l.prototype.selectParameterSet=function(l){this.setSelected(l),this.parameterSet.emit(this.selected)},l.prototype.getError=function(){return this.parentForm.controls.parameterSetId.hasError("required")?"You must select a parameter set":""},l.prototype.addNewMeta=function(l,n){void 0===n&&(n=!1),this.parameterSets.find(function(n){return+n.id==+l.id})||this.parameterSets.unshift(l),n&&(this.selectParameterSet(+l.id),this.parentForm.controls.parameterSetId.setValue(this.selected.id))},l}()},ebK6:function(l,n,e){"use strict";var t=e("CcnG"),u=e("MlvX"),a=e("Wf4p"),i=e("seP3"),r=e("dJrM"),o=e("gIcY"),d=e("Fzqc"),s=e("dWZg"),b=e("wFw1"),c=e("Azqq"),p=e("uGex"),m=e("qAlS"),f=e("lLAP"),h=e("Ip0R");e("OYjW"),e("flBa"),e.d(n,"a",function(){return g}),e.d(n,"b",function(){return y});var g=t.sb({encapsulation:0,styles:[[""]],data:{}});function E(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Eb(l,1)._selectViaInteraction()&&u),"keydown"===n&&(u=!1!==t.Eb(l,1)._handleKeydown(e)&&u),u},u.c,u.a)),t.tb(1,8568832,[[10,4]],0,a.r,[t.k,t.h,[2,a.l],[2,a.q]],{value:[0,"value"]},null),(l()(),t.Lb(2,0,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.id)},function(l,n){l(n,0,0,t.Eb(n,1)._getTabIndex(),t.Eb(n,1).selected,t.Eb(n,1).multiple,t.Eb(n,1).active,t.Eb(n,1).id,t.Eb(n,1)._getAriaSelected(),t.Eb(n,1).disabled.toString(),t.Eb(n,1).disabled),l(n,2,0,n.context.$implicit.reference)})}function v(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.tb(1,16384,[[6,4]],0,i.b,[],null,null),(l()(),t.Lb(2,null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,t.Eb(n,1).id),l(n,2,0,e.getError())})}function _(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,32,"mat-form-field",[["class","mat-form-field"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.Eb(l,1).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Eb(l,1).onReset()&&u),u},r.b,r.a)),t.tb(1,540672,null,0,o.j,[[8,null],[8,null]],{form:[0,"form"]},null),t.Ib(2048,null,o.c,null,[o.j]),t.tb(3,16384,null,0,o.p,[[4,o.c]],null,null),t.tb(4,7520256,null,9,i.c,[t.k,t.h,[2,a.j],[2,d.b],[2,i.a],s.a,t.B,[2,b.a]],null,null),t.Jb(603979776,1,{_controlNonStatic:0}),t.Jb(335544320,2,{_controlStatic:0}),t.Jb(603979776,3,{_labelChildNonStatic:0}),t.Jb(335544320,4,{_labelChildStatic:0}),t.Jb(603979776,5,{_placeholderChild:0}),t.Jb(603979776,6,{_errorChildren:1}),t.Jb(603979776,7,{_hintChildren:1}),t.Jb(603979776,8,{_prefixChildren:1}),t.Jb(603979776,9,{_suffixChildren:1}),(l()(),t.ub(14,0,null,3,2,"mat-label",[],null,null,null,null,null)),t.tb(15,16384,[[3,4],[4,4]],0,i.g,[],null,null),(l()(),t.Lb(-1,null,["Parameter set"])),(l()(),t.ub(17,0,null,1,13,"mat-select",[["class","mat-select"],["formControlName","parameterSetId"],["id","parameterSetId"],["required",""],["role","listbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"selectionChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,a=l.component;return"keydown"===n&&(u=!1!==t.Eb(l,24)._handleKeydown(e)&&u),"focus"===n&&(u=!1!==t.Eb(l,24)._onFocus()&&u),"blur"===n&&(u=!1!==t.Eb(l,24)._onBlur()&&u),"selectionChange"===n&&(u=!1!==a.onParameterSetSelect(e)&&u),u},c.b,c.a)),t.Ib(6144,null,a.l,null,[p.c]),t.tb(19,16384,null,0,o.u,[],{required:[0,"required"]},null),t.Ib(1024,null,o.l,function(l){return[l]},[o.u]),t.tb(21,671744,null,0,o.h,[[3,o.c],[6,o.l],[8,null],[8,null],[2,o.y]],{name:[0,"name"]},null),t.Ib(2048,null,o.n,null,[o.h]),t.tb(23,16384,null,0,o.o,[[4,o.n]],null,null),t.tb(24,2080768,null,3,p.c,[m.e,t.h,t.B,a.d,t.k,[2,d.b],[2,o.q],[2,o.j],[2,i.c],[6,o.n],[8,null],p.a,f.j],{required:[0,"required"],id:[1,"id"]},{selectionChange:"selectionChange"}),t.Jb(603979776,10,{options:1}),t.Jb(603979776,11,{optionGroups:1}),t.Jb(603979776,12,{customTrigger:0}),t.Ib(2048,[[1,4],[2,4]],i.d,null,[p.c]),(l()(),t.jb(16777216,null,1,1,null,E)),t.tb(30,278528,null,0,h.j,[t.S,t.P,t.u],{ngForOf:[0,"ngForOf"]},null),(l()(),t.jb(16777216,null,5,1,null,v)),t.tb(32,16384,null,0,h.k,[t.S,t.P],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,e.parentForm),l(n,19,0,""),l(n,21,0,"parameterSetId"),l(n,24,0,"","parameterSetId"),l(n,30,0,e.parameterSets),l(n,32,0,e.parentForm.controls.parameterSetId.invalid)},function(l,n){l(n,0,1,[t.Eb(n,3).ngClassUntouched,t.Eb(n,3).ngClassTouched,t.Eb(n,3).ngClassPristine,t.Eb(n,3).ngClassDirty,t.Eb(n,3).ngClassValid,t.Eb(n,3).ngClassInvalid,t.Eb(n,3).ngClassPending,"standard"==t.Eb(n,4).appearance,"fill"==t.Eb(n,4).appearance,"outline"==t.Eb(n,4).appearance,"legacy"==t.Eb(n,4).appearance,t.Eb(n,4)._control.errorState,t.Eb(n,4)._canLabelFloat,t.Eb(n,4)._shouldLabelFloat(),t.Eb(n,4)._hasFloatingLabel(),t.Eb(n,4)._hideControlPlaceholder(),t.Eb(n,4)._control.disabled,t.Eb(n,4)._control.autofilled,t.Eb(n,4)._control.focused,"accent"==t.Eb(n,4).color,"warn"==t.Eb(n,4).color,t.Eb(n,4)._shouldForward("untouched"),t.Eb(n,4)._shouldForward("touched"),t.Eb(n,4)._shouldForward("pristine"),t.Eb(n,4)._shouldForward("dirty"),t.Eb(n,4)._shouldForward("valid"),t.Eb(n,4)._shouldForward("invalid"),t.Eb(n,4)._shouldForward("pending"),!t.Eb(n,4)._animationsEnabled]),l(n,17,1,[t.Eb(n,19).required?"":null,t.Eb(n,23).ngClassUntouched,t.Eb(n,23).ngClassTouched,t.Eb(n,23).ngClassPristine,t.Eb(n,23).ngClassDirty,t.Eb(n,23).ngClassValid,t.Eb(n,23).ngClassInvalid,t.Eb(n,23).ngClassPending,t.Eb(n,24).id,t.Eb(n,24).tabIndex,t.Eb(n,24)._getAriaLabel(),t.Eb(n,24)._getAriaLabelledby(),t.Eb(n,24).required.toString(),t.Eb(n,24).disabled.toString(),t.Eb(n,24).errorState,t.Eb(n,24).panelOpen?t.Eb(n,24)._optionIds:null,t.Eb(n,24).multiple,t.Eb(n,24)._ariaDescribedby||null,t.Eb(n,24)._getAriaActiveDescendant(),t.Eb(n,24).disabled,t.Eb(n,24).errorState,t.Eb(n,24).required,t.Eb(n,24).empty])})}function y(l){return t.Nb(0,[(l()(),t.jb(16777216,null,null,1,null,_)),t.tb(1,16384,null,0,h.k,[t.S,t.P],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,e.parameterSets&&e.parameterSets.length>0)},null)}},yaeS:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=function(){return function(){}}(),a=e("t68o"),i=e("zbXB"),r=e("NcP4"),o=e("pMnS"),d=e("yWMr"),s=e("xYTU"),b=e("Mpcu"),c=e("o3x0"),p=e("bujt"),m=e("UodH"),f=e("lLAP"),h=e("wFw1"),g=e("Ip0R"),E=e("flBa"),v=e("xRo1"),_=e("gIcY"),y=e("iSfR"),C=e("dkQB"),S=e("wd/R"),F=function(){return function(l,n){this.dialogRef=l,this.data=n}}(),I=function(){function l(l,n,e,u){this.fb=l,this.parameterService=n,this.validatorService=e,this.dialog=u,this.complete=new t.n,this.inputFileType=5,this.isUploading=!1,this.parameterSets=[]}return l.prototype.ngOnInit=function(){this.parameterUploadForm=this.fb.group({reference:[null,_.v.compose([_.v.required,_.v.minLength(3),_.v.maxLength(45)]),this.validatorService.referenceValidator(this.inputFileType)]})},l.prototype.getReferenceError=function(){return this.parameterUploadForm.controls.reference.hasError("required")?"You must enter a reference":this.parameterUploadForm.controls.reference.hasError("minlength")?"The reference is too short":this.parameterUploadForm.controls.reference.hasError("maxlength")?"The reference is too long":this.parameterUploadForm.controls.reference.hasError("referenceExists")?"A parameter set with this reference already exists":""},l.prototype.onSubmit=function(){this.upload(this.parset,this.filename)},l.prototype.onFileContentsChange=function(l){this.complete.emit(!1),this.parset=Object(v.xml2js)(l.contents,C.a),this.filename=l.filename},l.prototype.upload=function(l,n){var e=this;this.isUploading=!0;var t=this.parameterUploadForm.value.reference;this.parameterService.upload(l,n,t).subscribe(function(n){"File already exists"===n?(e.complete.emit(!1),e.openDialog(!1)):(e.complete.emit(!0),e.openDialog(),e.publishMeta(+n,l,t))})},l.prototype.publishMeta=function(l,n,e){var t=n.ParameterSet.ParameterContainer.ParameterGroup[0].ParameterContainer.Parameter[1].currentValue._text,u=n.ParameterSet.ParameterContainer.ParameterGroup[0].ParameterContainer.Parameter[0].currentValue._text,a={id:l,reference:e,startDate:(t=S(t,"DD/MM/YYYY")).format("YYYY-MM-DD"),timesteps:u,modelVersion:null,lastEditDate:null,modelVersionId:null};this.parameterService.emitNewParameterSetMeta(a)},l.prototype.openDialog=function(l){var n=this;void 0===l&&(l=!0),this.dialog.open(F,{width:"350px",data:{success:l}}).afterClosed().subscribe(function(l){n.resetForm()})},l.prototype.resetForm=function(){this.parameterUploadForm.markAsPristine(),this.parameterUploadForm.reset(),this.isUploading=!1},l}(),w=e("seP3"),k=e("lzlj"),x=e("FVSy"),q=e("dJrM"),L=e("Wf4p"),T=e("Fzqc"),U=e("dWZg"),P=e("b716"),D=e("/VYK"),J=e("lGhA"),N=e("R3ZY"),j=t.sb({encapsulation:2,styles:[],data:{}});function R(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.ub(1,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t.tb(2,81920,null,0,c.m,[[2,c.l],t.k,c.e],null,null),(l()(),t.Lb(-1,null,["Upload complete"])),(l()(),t.ub(4,0,null,null,3,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),t.tb(5,16384,null,0,c.j,[],null,null),(l()(),t.ub(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["The parameter file was successfully uploaded and imported."])),(l()(),t.ub(8,0,null,null,5,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),t.tb(9,16384,null,0,c.f,[],null,null),(l()(),t.ub(10,0,null,null,3,"button",[["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Eb(l,12).dialogRef.close(t.Eb(l,12).dialogResult)&&u),u},p.d,p.b)),t.tb(11,180224,null,0,m.b,[t.k,f.h,[2,h.a]],null,null),t.tb(12,606208,null,0,c.g,[[2,c.l],t.k,c.e],{dialogResult:[0,"dialogResult"]},null),(l()(),t.Lb(-1,0,["Ok"]))],function(l,n){l(n,2,0),l(n,12,0,!0)},function(l,n){l(n,1,0,t.Eb(n,2).id),l(n,10,0,t.Eb(n,11).disabled||null,"NoopAnimations"===t.Eb(n,11)._animationMode,t.Eb(n,12).ariaLabel||null)})}function M(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t.tb(1,81920,null,0,c.m,[[2,c.l],t.k,c.e],null,null),(l()(),t.Lb(-1,null,["File already exists"])),(l()(),t.ub(3,0,null,null,3,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),t.tb(4,16384,null,0,c.j,[],null,null),(l()(),t.ub(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["The parameter file already exists in the database. It has NOT been imported."])),(l()(),t.ub(7,0,null,null,5,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),t.tb(8,16384,null,0,c.f,[],null,null),(l()(),t.ub(9,0,null,null,3,"button",[["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Eb(l,11).dialogRef.close(t.Eb(l,11).dialogResult)&&u),u},p.d,p.b)),t.tb(10,180224,null,0,m.b,[t.k,f.h,[2,h.a]],null,null),t.tb(11,606208,null,0,c.g,[[2,c.l],t.k,c.e],{dialogResult:[0,"dialogResult"]},null),(l()(),t.Lb(-1,0,["Ok"]))],function(l,n){l(n,1,0),l(n,11,0,!0)},function(l,n){l(n,0,0,t.Eb(n,1).id),l(n,9,0,t.Eb(n,10).disabled||null,"NoopAnimations"===t.Eb(n,10)._animationMode,t.Eb(n,11).ariaLabel||null)})}function O(l){return t.Nb(0,[(l()(),t.jb(16777216,null,null,1,null,R)),t.tb(1,16384,null,0,g.k,[t.S,t.P],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.jb(0,[["exists",2]],null,0,null,M))],function(l,n){l(n,1,0,n.component.data.success,t.Eb(n,2))},null)}function Y(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,1,"slu-dialog-parameter-file-uploaded",[],null,null,null,O,j)),t.tb(1,49152,null,0,F,[c.l,c.a],null,null)],null,null)}var A=t.qb("slu-dialog-parameter-file-uploaded",F,Y,{},{},[]),V=t.sb({encapsulation:0,styles:[[""]],data:{}});function B(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.tb(1,16384,[[6,4]],0,w.b,[],null,null),(l()(),t.Lb(2,null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,t.Eb(n,1).id),l(n,2,0,e.getReferenceError())})}function G(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,52,"mat-card",[["class","mat-card"]],null,null,null,k.d,k.a)),t.tb(1,49152,null,0,x.a,[],null,null),(l()(),t.ub(2,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,k.c,k.b)),t.tb(3,49152,null,0,x.c,[],null,null),(l()(),t.ub(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),t.tb(5,16384,null,0,x.f,[],null,null),(l()(),t.Lb(-1,null,["XML parameter file"])),(l()(),t.ub(7,0,null,0,45,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),t.tb(8,16384,null,0,x.b,[],null,null),(l()(),t.ub(9,0,null,null,43,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0,a=l.component;return"submit"===n&&(u=!1!==t.Eb(l,11).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Eb(l,11).onReset()&&u),"ngSubmit"===n&&(u=!1!==a.onSubmit()&&u),u},null,null)),t.tb(10,16384,null,0,_.z,[],null,null),t.tb(11,540672,null,0,_.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Ib(2048,null,_.c,null,[_.j]),t.tb(13,16384,null,0,_.p,[[4,_.c]],null,null),(l()(),t.ub(14,0,null,null,38,"div",[["class","flex-column space"]],null,null,null,null,null)),(l()(),t.ub(15,0,null,null,31,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,q.b,q.a)),t.tb(16,7520256,null,9,w.c,[t.k,t.h,[2,L.j],[2,T.b],[2,w.a],U.a,t.B,[2,h.a]],null,null),t.Jb(603979776,1,{_controlNonStatic:0}),t.Jb(335544320,2,{_controlStatic:0}),t.Jb(603979776,3,{_labelChildNonStatic:0}),t.Jb(335544320,4,{_labelChildStatic:0}),t.Jb(603979776,5,{_placeholderChild:0}),t.Jb(603979776,6,{_errorChildren:1}),t.Jb(603979776,7,{_hintChildren:1}),t.Jb(603979776,8,{_prefixChildren:1}),t.Jb(603979776,9,{_suffixChildren:1}),(l()(),t.ub(26,0,null,3,2,"mat-label",[],null,null,null,null,null)),t.tb(27,16384,[[3,4],[4,4]],0,w.g,[],null,null),(l()(),t.Lb(-1,null,["Reference"])),(l()(),t.ub(29,0,[["referenceText",1]],1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","reference"],["id","reference"],["matInput",""],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Eb(l,30)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Eb(l,30).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Eb(l,30)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Eb(l,30)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Eb(l,37)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Eb(l,37)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Eb(l,37)._onInput()&&u),u},null,null)),t.tb(30,16384,null,0,_.d,[t.H,t.k,[2,_.a]],null,null),t.tb(31,16384,null,0,_.u,[],{required:[0,"required"]},null),t.Ib(1024,null,_.l,function(l){return[l]},[_.u]),t.Ib(1024,null,_.m,function(l){return[l]},[_.d]),t.tb(34,671744,null,0,_.h,[[3,_.c],[6,_.l],[8,null],[6,_.m],[2,_.y]],{name:[0,"name"]},null),t.Ib(2048,null,_.n,null,[_.h]),t.tb(36,16384,null,0,_.o,[[4,_.n]],null,null),t.tb(37,999424,null,0,P.b,[t.k,U.a,[6,_.n],[2,_.q],[2,_.j],L.d,[8,null],D.a,t.B],{id:[0,"id"],required:[1,"required"],type:[2,"type"]},null),t.Ib(2048,[[1,4],[2,4]],w.d,null,[P.b]),(l()(),t.ub(39,0,null,6,2,"mat-hint",[["align","start"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.tb(40,16384,[[7,4]],0,w.f,[],{align:[0,"align"]},null),(l()(),t.Lb(-1,null,["To help you identify this parameter set"])),(l()(),t.ub(42,0,null,7,2,"mat-hint",[["align","end"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.tb(43,16384,[[7,4]],0,w.f,[],{align:[0,"align"]},null),(l()(),t.Lb(44,null,["","/45"])),(l()(),t.jb(16777216,null,5,1,null,B)),t.tb(46,16384,null,0,g.k,[t.S,t.P],{ngIf:[0,"ngIf"]},null),(l()(),t.ub(47,0,null,null,1,"slu-file-upload",[],null,[[null,"contents"]],function(l,n,e){var t=!0;return"contents"===n&&(t=!1!==l.component.onFileContentsChange(e)&&t),t},J.b,J.a)),t.tb(48,114688,null,0,N.a,[t.G],{parentForm:[0,"parentForm"],extension:[1,"extension"],allowMultiple:[2,"allowMultiple"],errorMessage:[3,"errorMessage"]},{contents:"contents"}),(l()(),t.ub(49,0,null,null,3,"div",[["class","flex-row end"]],null,null,null,null,null)),(l()(),t.ub(50,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,p.d,p.b)),t.tb(51,180224,null,0,m.b,[t.k,f.h,[2,h.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),t.Lb(-1,0,[" Upload "]))],function(l,n){var e=n.component;l(n,11,0,e.parameterUploadForm),l(n,31,0,""),l(n,34,0,"reference"),l(n,37,0,"reference","","text"),l(n,40,0,"start"),l(n,43,0,"end"),l(n,46,0,e.parameterUploadForm.controls.reference.invalid),l(n,48,0,e.parameterUploadForm,".xml",!0,"You must select a parameter file to upload"),l(n,51,0,e.parameterUploadForm.invalid||e.parameterUploadForm.pending||e.isUploading,"primary")},function(l,n){l(n,9,0,t.Eb(n,13).ngClassUntouched,t.Eb(n,13).ngClassTouched,t.Eb(n,13).ngClassPristine,t.Eb(n,13).ngClassDirty,t.Eb(n,13).ngClassValid,t.Eb(n,13).ngClassInvalid,t.Eb(n,13).ngClassPending),l(n,15,1,["standard"==t.Eb(n,16).appearance,"fill"==t.Eb(n,16).appearance,"outline"==t.Eb(n,16).appearance,"legacy"==t.Eb(n,16).appearance,t.Eb(n,16)._control.errorState,t.Eb(n,16)._canLabelFloat,t.Eb(n,16)._shouldLabelFloat(),t.Eb(n,16)._hasFloatingLabel(),t.Eb(n,16)._hideControlPlaceholder(),t.Eb(n,16)._control.disabled,t.Eb(n,16)._control.autofilled,t.Eb(n,16)._control.focused,"accent"==t.Eb(n,16).color,"warn"==t.Eb(n,16).color,t.Eb(n,16)._shouldForward("untouched"),t.Eb(n,16)._shouldForward("touched"),t.Eb(n,16)._shouldForward("pristine"),t.Eb(n,16)._shouldForward("dirty"),t.Eb(n,16)._shouldForward("valid"),t.Eb(n,16)._shouldForward("invalid"),t.Eb(n,16)._shouldForward("pending"),!t.Eb(n,16)._animationsEnabled]),l(n,29,1,[t.Eb(n,31).required?"":null,t.Eb(n,36).ngClassUntouched,t.Eb(n,36).ngClassTouched,t.Eb(n,36).ngClassPristine,t.Eb(n,36).ngClassDirty,t.Eb(n,36).ngClassValid,t.Eb(n,36).ngClassInvalid,t.Eb(n,36).ngClassPending,t.Eb(n,37)._isServer,t.Eb(n,37).id,t.Eb(n,37).placeholder,t.Eb(n,37).disabled,t.Eb(n,37).required,t.Eb(n,37).readonly&&!t.Eb(n,37)._isNativeSelect||null,t.Eb(n,37)._ariaDescribedby||null,t.Eb(n,37).errorState,t.Eb(n,37).required.toString()]),l(n,39,0,"end"==t.Eb(n,40).align,t.Eb(n,40).id,null),l(n,42,0,"end"==t.Eb(n,43).align,t.Eb(n,43).id,null),l(n,44,0,(null==t.Eb(n,29).value?null:t.Eb(n,29).value.length)||0),l(n,50,0,t.Eb(n,51).disabled||null,"NoopAnimations"===t.Eb(n,51)._animationMode)})}var W=e("6Flb"),z=e("chYJ"),K=function(){return function(l,n){this.dialogRef=l,this.data=n}}(),H=function(){function l(l,n,e,u,a){this.fb=l,this.validatorService=n,this.inputFileService=e,this.parameterService=u,this.dialog=a,this.complete=new t.n,this.fileTypeExtension=".dat",this.fileTypeId=W.f.HYDROLOGY,this.isUploading=!1}return l.prototype.ngOnInit=function(){this.inputUploadForm=this.fb.group({reference:[null,_.v.compose([_.v.required,_.v.minLength(3),_.v.maxLength(45)]),this.validatorService.referenceValidator(this.fileTypeId)],startDate:[null,_.v.compose([_.v.required])]})},l.prototype.getReferenceError=function(){return this.inputUploadForm.controls.reference.hasError("required")?"You must enter a reference":this.inputUploadForm.controls.reference.hasError("minlength")?"The reference is too short":this.inputUploadForm.controls.reference.hasError("maxlength")?"The reference is too long":this.inputUploadForm.controls.reference.hasError("referenceExists")?"A file with this reference already exists":""},l.prototype.getStartDateError=function(){return this.inputUploadForm.controls.startDate.hasError("required")?"You must enter a start date":""},l.prototype.onSubmit=function(){this.upload(this.filename)},l.prototype.onFileContentsChange=function(l){switch(this.complete.emit(!1),this.filename=l.filename,this.fileTypeId){case W.f.HYDROLOGY:this.inputData=new W.b;break;case W.f.OBSERVED:this.inputData=new W.d(this.observedDataTags);break;case W.f.EFFLUENT:this.inputData=new W.c(this.parameterSet.timesteps);break;case W.f.ABSTRACTION:this.inputData=new W.a(this.parameterSet.timesteps);break;case W.f.PET:this.inputData=new W.e(this.parameterSet.timesteps,null,this.extractIndexes("Landscape units"))}var n=this.indexes.reduce(function(l,n){return l.concat(Object.values(n))},[]).reduce(function(l,n){return l.concat(n)},[]).map(function(l){return l.reference}),e=l.contents.split(/\r?\n/).filter(function(l){return!!l.trim()});this.inputData.parseTextFileContents(e,n)},l.prototype.onFileTypeSelect=function(l){this.fileTypeExtension=l.legacy_extension,this.fileTypeId=+l.id,this.inputData=null,this.filename=null,this.inputUploadForm.controls.filename.reset(),this.fileTypeId===W.f.OBSERVED&&this.getObservedDataTags()},l.prototype.getObservedDataTags=function(){var l=this;this.inputFileService.getObservedDataTags().subscribe(function(n){l.observedDataTags=n})},l.prototype.onParameterSetSelect=function(l){var n=this;this.parameterSet=l,this.parameterService.getParameterIndexes(+this.parameterSet.id).subscribe(function(l){n.indexes=JSON.parse(l[0].result)});var e=S(l.startDate,"YYYY-MM-DD");this.inputUploadForm.controls.startDate.setValue(e)},l.prototype.extractIndexes=function(l){return this.indexes.filter(function(n){return Object.keys(n)[0]===l})[0][l].map(function(l){return l.reference})},l.prototype.upload=function(l){var n=this;this.isUploading=!0;var e=this.inputUploadForm.value.reference,t=this.inputUploadForm.value.startDate.format("YYYY-MM-DD");this.inputFileService.upload(this.fileTypeId,this.inputData,l,e,t).subscribe(function(l){"File already exists"===l?(n.complete.emit(!1),n.openDialog(!1)):(n.complete.emit(!0),n.openDialog())})},l.prototype.openDialog=function(l){var n=this;void 0===l&&(l=!0),this.dialog.open(K,{width:"350px",data:{success:l}}).afterClosed().subscribe(function(l){n.resetForm()})},l.prototype.resetForm=function(){this.inputUploadForm.markAsPristine(),this.inputUploadForm.reset(),this.isUploading=!1},l}(),Z=e("MlvX"),$=e("Azqq"),X=e("uGex"),Q=e("qAlS"),ll=function(){function l(l){this.inputFileService=l,this.type=new t.n,this.inputTypes=null,this.selectedType=null}return l.prototype.ngOnInit=function(){this.getOptions()},l.prototype.getOptions=function(){var l=this;this.inputFileService.getInputFileTypes().subscribe(function(n){l.inputTypes=n,l.selectedType=l.inputTypes[0]})},l.prototype.onTypeSelect=function(l){var n=+l.value;this.selectedType=this.inputTypes.find(function(l){return+l.id===n}),this.type.emit(this.selectedType)},l}(),nl=t.sb({encapsulation:0,styles:[[""]],data:{}});function el(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Eb(l,1)._selectViaInteraction()&&u),"keydown"===n&&(u=!1!==t.Eb(l,1)._handleKeydown(e)&&u),u},Z.c,Z.a)),t.tb(1,8568832,[[10,4]],0,L.r,[t.k,t.h,[2,L.l],[2,L.q]],{value:[0,"value"]},null),(l()(),t.Lb(2,0,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.id)},function(l,n){l(n,0,0,t.Eb(n,1)._getTabIndex(),t.Eb(n,1).selected,t.Eb(n,1).multiple,t.Eb(n,1).active,t.Eb(n,1).id,t.Eb(n,1)._getAriaSelected(),t.Eb(n,1).disabled.toString(),t.Eb(n,1).disabled),l(n,2,0,n.context.$implicit.name)})}function tl(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,q.b,q.a)),t.tb(1,7520256,null,9,w.c,[t.k,t.h,[2,L.j],[2,T.b],[2,w.a],U.a,t.B,[2,h.a]],null,null),t.Jb(603979776,1,{_controlNonStatic:0}),t.Jb(335544320,2,{_controlStatic:0}),t.Jb(603979776,3,{_labelChildNonStatic:0}),t.Jb(335544320,4,{_labelChildStatic:0}),t.Jb(603979776,5,{_placeholderChild:0}),t.Jb(603979776,6,{_errorChildren:1}),t.Jb(603979776,7,{_hintChildren:1}),t.Jb(603979776,8,{_prefixChildren:1}),t.Jb(603979776,9,{_suffixChildren:1}),(l()(),t.ub(11,0,null,1,8,"mat-select",[["class","mat-select"],["placeholder","Input type"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"selectionChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,a=l.component;return"keydown"===n&&(u=!1!==t.Eb(l,13)._handleKeydown(e)&&u),"focus"===n&&(u=!1!==t.Eb(l,13)._onFocus()&&u),"blur"===n&&(u=!1!==t.Eb(l,13)._onBlur()&&u),"selectionChange"===n&&(u=!1!==a.onTypeSelect(e)&&u),u},$.b,$.a)),t.Ib(6144,null,L.l,null,[X.c]),t.tb(13,2080768,null,3,X.c,[Q.e,t.h,t.B,L.d,t.k,[2,T.b],[2,_.q],[2,_.j],[2,w.c],[8,null],[8,null],X.a,f.j],{placeholder:[0,"placeholder"],value:[1,"value"]},{selectionChange:"selectionChange"}),t.Jb(603979776,10,{options:1}),t.Jb(603979776,11,{optionGroups:1}),t.Jb(603979776,12,{customTrigger:0}),t.Ib(2048,[[1,4],[2,4]],w.d,null,[X.c]),(l()(),t.jb(16777216,null,1,1,null,el)),t.tb(19,278528,null,0,g.j,[t.S,t.P,t.u],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,13,0,"Input type",null==e.selectedType?null:e.selectedType.id),l(n,19,0,e.inputTypes)},function(l,n){l(n,0,1,["standard"==t.Eb(n,1).appearance,"fill"==t.Eb(n,1).appearance,"outline"==t.Eb(n,1).appearance,"legacy"==t.Eb(n,1).appearance,t.Eb(n,1)._control.errorState,t.Eb(n,1)._canLabelFloat,t.Eb(n,1)._shouldLabelFloat(),t.Eb(n,1)._hasFloatingLabel(),t.Eb(n,1)._hideControlPlaceholder(),t.Eb(n,1)._control.disabled,t.Eb(n,1)._control.autofilled,t.Eb(n,1)._control.focused,"accent"==t.Eb(n,1).color,"warn"==t.Eb(n,1).color,t.Eb(n,1)._shouldForward("untouched"),t.Eb(n,1)._shouldForward("touched"),t.Eb(n,1)._shouldForward("pristine"),t.Eb(n,1)._shouldForward("dirty"),t.Eb(n,1)._shouldForward("valid"),t.Eb(n,1)._shouldForward("invalid"),t.Eb(n,1)._shouldForward("pending"),!t.Eb(n,1)._animationsEnabled]),l(n,11,1,[t.Eb(n,13).id,t.Eb(n,13).tabIndex,t.Eb(n,13)._getAriaLabel(),t.Eb(n,13)._getAriaLabelledby(),t.Eb(n,13).required.toString(),t.Eb(n,13).disabled.toString(),t.Eb(n,13).errorState,t.Eb(n,13).panelOpen?t.Eb(n,13)._optionIds:null,t.Eb(n,13).multiple,t.Eb(n,13)._ariaDescribedby||null,t.Eb(n,13)._getAriaActiveDescendant(),t.Eb(n,13).disabled,t.Eb(n,13).errorState,t.Eb(n,13).required,t.Eb(n,13).empty])})}function ul(l){return t.Nb(0,[(l()(),t.jb(16777216,null,null,1,null,tl)),t.tb(1,16384,null,0,g.k,[t.S,t.P],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,e.inputTypes&&e.inputTypes.length>0)},null)}var al=e("ebK6"),il=e("OYjW"),rl=e("jQLj"),ol=e("eDkP"),dl=t.sb({encapsulation:2,styles:[],data:{}});function sl(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.ub(1,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t.tb(2,81920,null,0,c.m,[[2,c.l],t.k,c.e],null,null),(l()(),t.Lb(-1,null,["Upload complete"])),(l()(),t.ub(4,0,null,null,3,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),t.tb(5,16384,null,0,c.j,[],null,null),(l()(),t.ub(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["The input file was successfully uploaded and imported."])),(l()(),t.ub(8,0,null,null,5,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),t.tb(9,16384,null,0,c.f,[],null,null),(l()(),t.ub(10,0,null,null,3,"button",[["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Eb(l,12).dialogRef.close(t.Eb(l,12).dialogResult)&&u),u},p.d,p.b)),t.tb(11,180224,null,0,m.b,[t.k,f.h,[2,h.a]],null,null),t.tb(12,606208,null,0,c.g,[[2,c.l],t.k,c.e],{dialogResult:[0,"dialogResult"]},null),(l()(),t.Lb(-1,0,["Ok"]))],function(l,n){l(n,2,0),l(n,12,0,!0)},function(l,n){l(n,1,0,t.Eb(n,2).id),l(n,10,0,t.Eb(n,11).disabled||null,"NoopAnimations"===t.Eb(n,11)._animationMode,t.Eb(n,12).ariaLabel||null)})}function bl(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t.tb(1,81920,null,0,c.m,[[2,c.l],t.k,c.e],null,null),(l()(),t.Lb(-1,null,["File already exists"])),(l()(),t.ub(3,0,null,null,3,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),t.tb(4,16384,null,0,c.j,[],null,null),(l()(),t.ub(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["The input file already exists in the database. It has NOT been imported."])),(l()(),t.ub(7,0,null,null,5,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),t.tb(8,16384,null,0,c.f,[],null,null),(l()(),t.ub(9,0,null,null,3,"button",[["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Eb(l,11).dialogRef.close(t.Eb(l,11).dialogResult)&&u),u},p.d,p.b)),t.tb(10,180224,null,0,m.b,[t.k,f.h,[2,h.a]],null,null),t.tb(11,606208,null,0,c.g,[[2,c.l],t.k,c.e],{dialogResult:[0,"dialogResult"]},null),(l()(),t.Lb(-1,0,["Ok"]))],function(l,n){l(n,1,0),l(n,11,0,!0)},function(l,n){l(n,0,0,t.Eb(n,1).id),l(n,9,0,t.Eb(n,10).disabled||null,"NoopAnimations"===t.Eb(n,10)._animationMode,t.Eb(n,11).ariaLabel||null)})}function cl(l){return t.Nb(0,[(l()(),t.jb(16777216,null,null,1,null,sl)),t.tb(1,16384,null,0,g.k,[t.S,t.P],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.jb(0,[["exists",2]],null,0,null,bl))],function(l,n){l(n,1,0,n.component.data.success,t.Eb(n,2))},null)}function pl(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,1,"slu-dialog-input-file-uploaded",[],null,null,null,cl,dl)),t.tb(1,49152,null,0,K,[c.l,c.a],null,null)],null,null)}var ml=t.qb("slu-dialog-input-file-uploaded",K,pl,{},{},[]),fl=t.sb({encapsulation:2,styles:[],data:{}});function hl(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.tb(1,16384,[[6,4]],0,w.b,[],null,null),(l()(),t.Lb(2,null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,t.Eb(n,1).id),l(n,2,0,e.getReferenceError())})}function gl(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.tb(1,16384,[[15,4]],0,w.b,[],null,null),(l()(),t.Lb(2,null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,t.Eb(n,1).id),l(n,2,0,e.getStartDateError())})}function El(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,94,"mat-card",[["class","mat-card"]],null,null,null,k.d,k.a)),t.tb(1,49152,null,0,x.a,[],null,null),(l()(),t.ub(2,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,k.c,k.b)),t.tb(3,49152,null,0,x.c,[],null,null),(l()(),t.ub(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),t.tb(5,16384,null,0,x.f,[],null,null),(l()(),t.Lb(-1,null,["Time series input file"])),(l()(),t.ub(7,0,null,0,87,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),t.tb(8,16384,null,0,x.b,[],null,null),(l()(),t.ub(9,0,null,null,85,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0,a=l.component;return"submit"===n&&(u=!1!==t.Eb(l,11).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Eb(l,11).onReset()&&u),"ngSubmit"===n&&(u=!1!==a.onSubmit()&&u),u},null,null)),t.tb(10,16384,null,0,_.z,[],null,null),t.tb(11,540672,null,0,_.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Ib(2048,null,_.c,null,[_.j]),t.tb(13,16384,null,0,_.p,[[4,_.c]],null,null),(l()(),t.ub(14,0,null,null,80,"div",[["class","flex-column space"]],null,null,null,null,null)),(l()(),t.ub(15,0,null,null,2,"div",[["class","flex-row end"]],null,null,null,null,null)),(l()(),t.ub(16,0,null,null,1,"slu-input-type-select",[],null,[[null,"type"]],function(l,n,e){var t=!0;return"type"===n&&(t=!1!==l.component.onFileTypeSelect(e)&&t),t},ul,nl)),t.tb(17,114688,null,0,ll,[z.a],null,{type:"type"}),(l()(),t.ub(18,0,null,null,1,"slu-parameter-set-select",[],null,[[null,"parameterSet"]],function(l,n,e){var t=!0;return"parameterSet"===n&&(t=!1!==l.component.onParameterSetSelect(e)&&t),t},al.b,al.a)),t.tb(19,638976,null,0,il.a,[E.a],{parentForm:[0,"parentForm"]},{parameterSet:"parameterSet"}),(l()(),t.ub(20,0,null,null,31,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,q.b,q.a)),t.tb(21,7520256,null,9,w.c,[t.k,t.h,[2,L.j],[2,T.b],[2,w.a],U.a,t.B,[2,h.a]],null,null),t.Jb(603979776,1,{_controlNonStatic:0}),t.Jb(335544320,2,{_controlStatic:0}),t.Jb(603979776,3,{_labelChildNonStatic:0}),t.Jb(335544320,4,{_labelChildStatic:0}),t.Jb(603979776,5,{_placeholderChild:0}),t.Jb(603979776,6,{_errorChildren:1}),t.Jb(603979776,7,{_hintChildren:1}),t.Jb(603979776,8,{_prefixChildren:1}),t.Jb(603979776,9,{_suffixChildren:1}),(l()(),t.ub(31,0,null,3,2,"mat-label",[],null,null,null,null,null)),t.tb(32,16384,[[3,4],[4,4]],0,w.g,[],null,null),(l()(),t.Lb(-1,null,["Reference"])),(l()(),t.ub(34,0,[["referenceText",1]],1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","reference"],["id","reference"],["matInput",""],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Eb(l,35)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Eb(l,35).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Eb(l,35)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Eb(l,35)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Eb(l,42)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Eb(l,42)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Eb(l,42)._onInput()&&u),u},null,null)),t.tb(35,16384,null,0,_.d,[t.H,t.k,[2,_.a]],null,null),t.tb(36,16384,null,0,_.u,[],{required:[0,"required"]},null),t.Ib(1024,null,_.l,function(l){return[l]},[_.u]),t.Ib(1024,null,_.m,function(l){return[l]},[_.d]),t.tb(39,671744,null,0,_.h,[[3,_.c],[6,_.l],[8,null],[6,_.m],[2,_.y]],{name:[0,"name"]},null),t.Ib(2048,null,_.n,null,[_.h]),t.tb(41,16384,null,0,_.o,[[4,_.n]],null,null),t.tb(42,999424,null,0,P.b,[t.k,U.a,[6,_.n],[2,_.q],[2,_.j],L.d,[8,null],D.a,t.B],{id:[0,"id"],required:[1,"required"],type:[2,"type"]},null),t.Ib(2048,[[1,4],[2,4]],w.d,null,[P.b]),(l()(),t.ub(44,0,null,6,2,"mat-hint",[["align","start"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.tb(45,16384,[[7,4]],0,w.f,[],{align:[0,"align"]},null),(l()(),t.Lb(-1,null,["To help you identify this input file"])),(l()(),t.ub(47,0,null,7,2,"mat-hint",[["align","end"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.tb(48,16384,[[7,4]],0,w.f,[],{align:[0,"align"]},null),(l()(),t.Lb(49,null,["","/45"])),(l()(),t.jb(16777216,null,5,1,null,hl)),t.tb(51,16384,null,0,g.k,[t.S,t.P],{ngIf:[0,"ngIf"]},null),(l()(),t.ub(52,0,null,null,36,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,q.b,q.a)),t.tb(53,7520256,null,9,w.c,[t.k,t.h,[2,L.j],[2,T.b],[2,w.a],U.a,t.B,[2,h.a]],null,null),t.Jb(603979776,10,{_controlNonStatic:0}),t.Jb(335544320,11,{_controlStatic:0}),t.Jb(603979776,12,{_labelChildNonStatic:0}),t.Jb(335544320,13,{_labelChildStatic:0}),t.Jb(603979776,14,{_placeholderChild:0}),t.Jb(603979776,15,{_errorChildren:1}),t.Jb(603979776,16,{_hintChildren:1}),t.Jb(603979776,17,{_prefixChildren:1}),t.Jb(603979776,18,{_suffixChildren:1}),(l()(),t.ub(63,0,null,3,2,"mat-label",[],null,null,null,null,null)),t.tb(64,16384,[[12,4],[13,4]],0,w.g,[],null,null),(l()(),t.Lb(-1,null,["Start date"])),(l()(),t.ub(66,0,null,1,11,"input",[["aria-haspopup","dialog"],["class","mat-input-element mat-form-field-autofill-control"],["formControlName","startDate"],["id","startDate"],["matInput",""],["required",""]],[[1,"required",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keydown"],[null,"focus"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Eb(l,67)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Eb(l,67).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Eb(l,67)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Eb(l,67)._compositionEnd(e.target.value)&&u),"input"===n&&(u=!1!==t.Eb(l,69)._onInput(e.target.value)&&u),"change"===n&&(u=!1!==t.Eb(l,69)._onChange()&&u),"blur"===n&&(u=!1!==t.Eb(l,69)._onBlur()&&u),"keydown"===n&&(u=!1!==t.Eb(l,69)._onKeydown(e)&&u),"blur"===n&&(u=!1!==t.Eb(l,76)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Eb(l,76)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Eb(l,76)._onInput()&&u),u},null,null)),t.tb(67,16384,null,0,_.d,[t.H,t.k,[2,_.a]],null,null),t.tb(68,16384,null,0,_.u,[],{required:[0,"required"]},null),t.tb(69,147456,null,0,rl.h,[t.k,[2,L.c],[2,L.g],[2,w.c]],{matDatepicker:[0,"matDatepicker"]},null),t.Ib(1024,null,_.l,function(l,n){return[l,n]},[_.u,rl.h]),t.Ib(1024,null,_.m,function(l,n){return[l,n]},[_.d,rl.h]),t.tb(72,671744,null,0,_.h,[[3,_.c],[6,_.l],[8,null],[6,_.m],[2,_.y]],{name:[0,"name"]},null),t.Ib(2048,null,_.n,null,[_.h]),t.tb(74,16384,null,0,_.o,[[4,_.n]],null,null),t.Ib(2048,null,P.a,null,[rl.h]),t.tb(76,999424,null,0,P.b,[t.k,U.a,[6,_.n],[2,_.q],[2,_.j],L.d,[6,P.a],D.a,t.B],{id:[0,"id"],required:[1,"required"]},null),t.Ib(2048,[[10,4],[11,4]],w.d,null,[P.b]),(l()(),t.ub(78,0,null,4,3,"mat-datepicker-toggle",[["class","mat-datepicker-toggle"],["matSuffix",""]],[[1,"tabindex",0],[2,"mat-datepicker-toggle-active",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"focus"]],function(l,n,e){var u=!0;return"focus"===n&&(u=!1!==t.Eb(l,79)._button.focus()&&u),u},i.e,i.d)),t.tb(79,1753088,null,1,rl.k,[rl.i,t.h,[8,null]],{datepicker:[0,"datepicker"]},null),t.Jb(603979776,19,{_customIcon:0}),t.tb(81,16384,[[18,4]],0,w.h,[],null,null),(l()(),t.ub(82,16777216,null,1,1,"mat-datepicker",[],null,null,null,i.f,i.c)),t.tb(83,180224,[["picker",4]],0,rl.f,[c.e,ol.c,t.B,t.S,rl.a,[2,L.c],[2,T.b],[2,g.d]],null,null),(l()(),t.ub(84,0,null,6,2,"mat-hint",[["align","start"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.tb(85,16384,[[16,4]],0,w.f,[],{align:[0,"align"]},null),(l()(),t.Lb(-1,null,["The date of the first row of data in the file"])),(l()(),t.jb(16777216,null,5,1,null,gl)),t.tb(88,16384,null,0,g.k,[t.S,t.P],{ngIf:[0,"ngIf"]},null),(l()(),t.ub(89,0,null,null,1,"slu-file-upload",[],null,[[null,"contents"]],function(l,n,e){var t=!0;return"contents"===n&&(t=!1!==l.component.onFileContentsChange(e)&&t),t},J.b,J.a)),t.tb(90,114688,null,0,N.a,[t.G],{parentForm:[0,"parentForm"],extension:[1,"extension"],errorMessage:[2,"errorMessage"]},{contents:"contents"}),(l()(),t.ub(91,0,null,null,3,"div",[["class","flex-row end"]],null,null,null,null,null)),(l()(),t.ub(92,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,p.d,p.b)),t.tb(93,180224,null,0,m.b,[t.k,f.h,[2,h.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),t.Lb(-1,0,[" Upload "]))],function(l,n){var e=n.component;l(n,11,0,e.inputUploadForm),l(n,17,0),l(n,19,0,e.inputUploadForm),l(n,36,0,""),l(n,39,0,"reference"),l(n,42,0,"reference","","text"),l(n,45,0,"start"),l(n,48,0,"end"),l(n,51,0,e.inputUploadForm.controls.reference.invalid),l(n,68,0,""),l(n,69,0,t.Eb(n,83)),l(n,72,0,"startDate"),l(n,76,0,"startDate",""),l(n,79,0,t.Eb(n,83)),l(n,85,0,"start"),l(n,88,0,e.inputUploadForm.controls.startDate.invalid),l(n,90,0,e.inputUploadForm,e.fileTypeExtension,"You must select an input file to upload"),l(n,93,0,e.inputUploadForm.invalid||e.inputUploadForm.pending||e.isUploading,"primary")},function(l,n){l(n,9,0,t.Eb(n,13).ngClassUntouched,t.Eb(n,13).ngClassTouched,t.Eb(n,13).ngClassPristine,t.Eb(n,13).ngClassDirty,t.Eb(n,13).ngClassValid,t.Eb(n,13).ngClassInvalid,t.Eb(n,13).ngClassPending),l(n,20,1,["standard"==t.Eb(n,21).appearance,"fill"==t.Eb(n,21).appearance,"outline"==t.Eb(n,21).appearance,"legacy"==t.Eb(n,21).appearance,t.Eb(n,21)._control.errorState,t.Eb(n,21)._canLabelFloat,t.Eb(n,21)._shouldLabelFloat(),t.Eb(n,21)._hasFloatingLabel(),t.Eb(n,21)._hideControlPlaceholder(),t.Eb(n,21)._control.disabled,t.Eb(n,21)._control.autofilled,t.Eb(n,21)._control.focused,"accent"==t.Eb(n,21).color,"warn"==t.Eb(n,21).color,t.Eb(n,21)._shouldForward("untouched"),t.Eb(n,21)._shouldForward("touched"),t.Eb(n,21)._shouldForward("pristine"),t.Eb(n,21)._shouldForward("dirty"),t.Eb(n,21)._shouldForward("valid"),t.Eb(n,21)._shouldForward("invalid"),t.Eb(n,21)._shouldForward("pending"),!t.Eb(n,21)._animationsEnabled]),l(n,34,1,[t.Eb(n,36).required?"":null,t.Eb(n,41).ngClassUntouched,t.Eb(n,41).ngClassTouched,t.Eb(n,41).ngClassPristine,t.Eb(n,41).ngClassDirty,t.Eb(n,41).ngClassValid,t.Eb(n,41).ngClassInvalid,t.Eb(n,41).ngClassPending,t.Eb(n,42)._isServer,t.Eb(n,42).id,t.Eb(n,42).placeholder,t.Eb(n,42).disabled,t.Eb(n,42).required,t.Eb(n,42).readonly&&!t.Eb(n,42)._isNativeSelect||null,t.Eb(n,42)._ariaDescribedby||null,t.Eb(n,42).errorState,t.Eb(n,42).required.toString()]),l(n,44,0,"end"==t.Eb(n,45).align,t.Eb(n,45).id,null),l(n,47,0,"end"==t.Eb(n,48).align,t.Eb(n,48).id,null),l(n,49,0,(null==t.Eb(n,34).value?null:t.Eb(n,34).value.length)||0),l(n,52,1,["standard"==t.Eb(n,53).appearance,"fill"==t.Eb(n,53).appearance,"outline"==t.Eb(n,53).appearance,"legacy"==t.Eb(n,53).appearance,t.Eb(n,53)._control.errorState,t.Eb(n,53)._canLabelFloat,t.Eb(n,53)._shouldLabelFloat(),t.Eb(n,53)._hasFloatingLabel(),t.Eb(n,53)._hideControlPlaceholder(),t.Eb(n,53)._control.disabled,t.Eb(n,53)._control.autofilled,t.Eb(n,53)._control.focused,"accent"==t.Eb(n,53).color,"warn"==t.Eb(n,53).color,t.Eb(n,53)._shouldForward("untouched"),t.Eb(n,53)._shouldForward("touched"),t.Eb(n,53)._shouldForward("pristine"),t.Eb(n,53)._shouldForward("dirty"),t.Eb(n,53)._shouldForward("valid"),t.Eb(n,53)._shouldForward("invalid"),t.Eb(n,53)._shouldForward("pending"),!t.Eb(n,53)._animationsEnabled]),l(n,66,1,[t.Eb(n,68).required?"":null,(null==t.Eb(n,69)._datepicker?null:t.Eb(n,69)._datepicker.opened)&&t.Eb(n,69)._datepicker.id||null,t.Eb(n,69).min?t.Eb(n,69)._dateAdapter.toIso8601(t.Eb(n,69).min):null,t.Eb(n,69).max?t.Eb(n,69)._dateAdapter.toIso8601(t.Eb(n,69).max):null,t.Eb(n,69).disabled,t.Eb(n,74).ngClassUntouched,t.Eb(n,74).ngClassTouched,t.Eb(n,74).ngClassPristine,t.Eb(n,74).ngClassDirty,t.Eb(n,74).ngClassValid,t.Eb(n,74).ngClassInvalid,t.Eb(n,74).ngClassPending,t.Eb(n,76)._isServer,t.Eb(n,76).id,t.Eb(n,76).placeholder,t.Eb(n,76).disabled,t.Eb(n,76).required,t.Eb(n,76).readonly&&!t.Eb(n,76)._isNativeSelect||null,t.Eb(n,76)._ariaDescribedby||null,t.Eb(n,76).errorState,t.Eb(n,76).required.toString()]),l(n,78,0,-1,t.Eb(n,79).datepicker&&t.Eb(n,79).datepicker.opened,t.Eb(n,79).datepicker&&"accent"===t.Eb(n,79).datepicker.color,t.Eb(n,79).datepicker&&"warn"===t.Eb(n,79).datepicker.color),l(n,84,0,"end"==t.Eb(n,85).align,t.Eb(n,85).id,null),l(n,92,0,t.Eb(n,93).disabled||null,"NoopAnimations"===t.Eb(n,93)._animationMode)})}var vl=e("AIp+"),_l=function(){return function(l,n){this.dialogRef=l,this.data=n}}(),yl=function(){function l(l,n,e,u,a){this.fb=l,this.validatorService=n,this.inputFileService=e,this.parameterService=u,this.dialog=a,this.complete=new t.n,this.fileTypeExtension=".ssf",this.fileTypeId=W.f.STRUCTURE,this.isUploading=!1}return l.prototype.ngOnInit=function(){this.structureUploadForm=this.fb.group({reference:[null,_.v.compose([_.v.required,_.v.minLength(3),_.v.maxLength(45)]),this.validatorService.referenceValidator(this.fileTypeId)]})},l.prototype.getReferenceError=function(){return this.structureUploadForm.controls.reference.hasError("required")?"You must enter a reference":this.structureUploadForm.controls.reference.hasError("minlength")?"The reference is too short":this.structureUploadForm.controls.reference.hasError("maxlength")?"The reference is too long":this.structureUploadForm.controls.reference.hasError("referenceExists")?"A file with this reference already exists":""},l.prototype.onSubmit=function(){this.upload(this.filename)},l.prototype.onFileContentsChange=function(l){this.complete.emit(!1),this.filename=l.filename;var n=l.contents.split(/\r?\n/).filter(function(l){return!!l.trim()});if(this.structure=new vl.a,this.structure.import(n),!this.structure.reachIndexesMatch(this.indexes))throw new Error("Structure file import error: Structure file reach names do not match parameter set reach names")},l.prototype.onParameterSetSelect=function(l){var n=this;this.parameterSet=l,this.parameterService.getParameterIndexes(+this.parameterSet.id).subscribe(function(l){n.indexes=JSON.parse(l[0].result)})},l.prototype.upload=function(l){var n=this;this.isUploading=!0,this.inputFileService.uploadStructure(this.structure,l,this.structureUploadForm.value.reference,this.parameterSet.id).subscribe(function(l){"File already exists"===l?(n.complete.emit(!1),n.openDialog(!1)):(n.complete.emit(!0),n.openDialog())})},l.prototype.openDialog=function(l){var n=this;void 0===l&&(l=!0),this.dialog.open(_l,{width:"350px",data:{success:l}}).afterClosed().subscribe(function(l){n.resetForm()})},l.prototype.resetForm=function(){this.structureUploadForm.markAsPristine(),this.structureUploadForm.reset(),this.isUploading=!1},l}(),Cl=t.sb({encapsulation:2,styles:[],data:{}});function Sl(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.ub(1,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t.tb(2,81920,null,0,c.m,[[2,c.l],t.k,c.e],null,null),(l()(),t.Lb(-1,null,["Upload complete"])),(l()(),t.ub(4,0,null,null,3,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),t.tb(5,16384,null,0,c.j,[],null,null),(l()(),t.ub(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["The structure file was successfully uploaded and imported."])),(l()(),t.ub(8,0,null,null,5,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),t.tb(9,16384,null,0,c.f,[],null,null),(l()(),t.ub(10,0,null,null,3,"button",[["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Eb(l,12).dialogRef.close(t.Eb(l,12).dialogResult)&&u),u},p.d,p.b)),t.tb(11,180224,null,0,m.b,[t.k,f.h,[2,h.a]],null,null),t.tb(12,606208,null,0,c.g,[[2,c.l],t.k,c.e],{dialogResult:[0,"dialogResult"]},null),(l()(),t.Lb(-1,0,["Ok"]))],function(l,n){l(n,2,0),l(n,12,0,!0)},function(l,n){l(n,1,0,t.Eb(n,2).id),l(n,10,0,t.Eb(n,11).disabled||null,"NoopAnimations"===t.Eb(n,11)._animationMode,t.Eb(n,12).ariaLabel||null)})}function Fl(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t.tb(1,81920,null,0,c.m,[[2,c.l],t.k,c.e],null,null),(l()(),t.Lb(-1,null,["File already exists"])),(l()(),t.ub(3,0,null,null,3,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),t.tb(4,16384,null,0,c.j,[],null,null),(l()(),t.ub(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["The structure file already exists in the database. It has NOT been imported."])),(l()(),t.ub(7,0,null,null,5,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),t.tb(8,16384,null,0,c.f,[],null,null),(l()(),t.ub(9,0,null,null,3,"button",[["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Eb(l,11).dialogRef.close(t.Eb(l,11).dialogResult)&&u),u},p.d,p.b)),t.tb(10,180224,null,0,m.b,[t.k,f.h,[2,h.a]],null,null),t.tb(11,606208,null,0,c.g,[[2,c.l],t.k,c.e],{dialogResult:[0,"dialogResult"]},null),(l()(),t.Lb(-1,0,["Ok"]))],function(l,n){l(n,1,0),l(n,11,0,!0)},function(l,n){l(n,0,0,t.Eb(n,1).id),l(n,9,0,t.Eb(n,10).disabled||null,"NoopAnimations"===t.Eb(n,10)._animationMode,t.Eb(n,11).ariaLabel||null)})}function Il(l){return t.Nb(0,[(l()(),t.jb(16777216,null,null,1,null,Sl)),t.tb(1,16384,null,0,g.k,[t.S,t.P],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.jb(0,[["exists",2]],null,0,null,Fl))],function(l,n){l(n,1,0,n.component.data.success,t.Eb(n,2))},null)}function wl(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,1,"slu-dialog-structure-file-uploaded",[],null,null,null,Il,Cl)),t.tb(1,49152,null,0,_l,[c.l,c.a],null,null)],null,null)}var kl=t.qb("slu-dialog-structure-file-uploaded",_l,wl,{},{},[]),xl=t.sb({encapsulation:0,styles:[[""]],data:{}});function ql(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.tb(1,16384,[[6,4]],0,w.b,[],null,null),(l()(),t.Lb(2,null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,t.Eb(n,1).id),l(n,2,0,e.getReferenceError())})}function Ll(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,54,"mat-card",[["class","mat-card"]],null,null,null,k.d,k.a)),t.tb(1,49152,null,0,x.a,[],null,null),(l()(),t.ub(2,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,k.c,k.b)),t.tb(3,49152,null,0,x.c,[],null,null),(l()(),t.ub(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),t.tb(5,16384,null,0,x.f,[],null,null),(l()(),t.Lb(-1,null,["Reach structure file"])),(l()(),t.ub(7,0,null,0,47,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),t.tb(8,16384,null,0,x.b,[],null,null),(l()(),t.ub(9,0,null,null,45,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0,a=l.component;return"submit"===n&&(u=!1!==t.Eb(l,11).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Eb(l,11).onReset()&&u),"ngSubmit"===n&&(u=!1!==a.onSubmit()&&u),u},null,null)),t.tb(10,16384,null,0,_.z,[],null,null),t.tb(11,540672,null,0,_.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Ib(2048,null,_.c,null,[_.j]),t.tb(13,16384,null,0,_.p,[[4,_.c]],null,null),(l()(),t.ub(14,0,null,null,40,"div",[["class","flex-column space"]],null,null,null,null,null)),(l()(),t.ub(15,0,null,null,1,"slu-parameter-set-select",[],null,[[null,"parameterSet"]],function(l,n,e){var t=!0;return"parameterSet"===n&&(t=!1!==l.component.onParameterSetSelect(e)&&t),t},al.b,al.a)),t.tb(16,638976,null,0,il.a,[E.a],{parentForm:[0,"parentForm"]},{parameterSet:"parameterSet"}),(l()(),t.ub(17,0,null,null,31,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,q.b,q.a)),t.tb(18,7520256,null,9,w.c,[t.k,t.h,[2,L.j],[2,T.b],[2,w.a],U.a,t.B,[2,h.a]],null,null),t.Jb(603979776,1,{_controlNonStatic:0}),t.Jb(335544320,2,{_controlStatic:0}),t.Jb(603979776,3,{_labelChildNonStatic:0}),t.Jb(335544320,4,{_labelChildStatic:0}),t.Jb(603979776,5,{_placeholderChild:0}),t.Jb(603979776,6,{_errorChildren:1}),t.Jb(603979776,7,{_hintChildren:1}),t.Jb(603979776,8,{_prefixChildren:1}),t.Jb(603979776,9,{_suffixChildren:1}),(l()(),t.ub(28,0,null,3,2,"mat-label",[],null,null,null,null,null)),t.tb(29,16384,[[3,4],[4,4]],0,w.g,[],null,null),(l()(),t.Lb(-1,null,["Reference"])),(l()(),t.ub(31,0,[["referenceText",1]],1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","reference"],["id","reference"],["matInput",""],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Eb(l,32)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Eb(l,32).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Eb(l,32)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Eb(l,32)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Eb(l,39)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Eb(l,39)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Eb(l,39)._onInput()&&u),u},null,null)),t.tb(32,16384,null,0,_.d,[t.H,t.k,[2,_.a]],null,null),t.tb(33,16384,null,0,_.u,[],{required:[0,"required"]},null),t.Ib(1024,null,_.l,function(l){return[l]},[_.u]),t.Ib(1024,null,_.m,function(l){return[l]},[_.d]),t.tb(36,671744,null,0,_.h,[[3,_.c],[6,_.l],[8,null],[6,_.m],[2,_.y]],{name:[0,"name"]},null),t.Ib(2048,null,_.n,null,[_.h]),t.tb(38,16384,null,0,_.o,[[4,_.n]],null,null),t.tb(39,999424,null,0,P.b,[t.k,U.a,[6,_.n],[2,_.q],[2,_.j],L.d,[8,null],D.a,t.B],{id:[0,"id"],required:[1,"required"],type:[2,"type"]},null),t.Ib(2048,[[1,4],[2,4]],w.d,null,[P.b]),(l()(),t.ub(41,0,null,6,2,"mat-hint",[["align","start"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.tb(42,16384,[[7,4]],0,w.f,[],{align:[0,"align"]},null),(l()(),t.Lb(-1,null,["To help you identify this input file"])),(l()(),t.ub(44,0,null,7,2,"mat-hint",[["align","end"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.tb(45,16384,[[7,4]],0,w.f,[],{align:[0,"align"]},null),(l()(),t.Lb(46,null,["","/45"])),(l()(),t.jb(16777216,null,5,1,null,ql)),t.tb(48,16384,null,0,g.k,[t.S,t.P],{ngIf:[0,"ngIf"]},null),(l()(),t.ub(49,0,null,null,1,"slu-file-upload",[],null,[[null,"contents"]],function(l,n,e){var t=!0;return"contents"===n&&(t=!1!==l.component.onFileContentsChange(e)&&t),t},J.b,J.a)),t.tb(50,114688,null,0,N.a,[t.G],{parentForm:[0,"parentForm"],extension:[1,"extension"],errorMessage:[2,"errorMessage"]},{contents:"contents"}),(l()(),t.ub(51,0,null,null,3,"div",[["class","flex-row end"]],null,null,null,null,null)),(l()(),t.ub(52,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,p.d,p.b)),t.tb(53,180224,null,0,m.b,[t.k,f.h,[2,h.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),t.Lb(-1,0,[" Upload "]))],function(l,n){var e=n.component;l(n,11,0,e.structureUploadForm),l(n,16,0,e.structureUploadForm),l(n,33,0,""),l(n,36,0,"reference"),l(n,39,0,"reference","","text"),l(n,42,0,"start"),l(n,45,0,"end"),l(n,48,0,e.structureUploadForm.controls.reference.invalid),l(n,50,0,e.structureUploadForm,e.fileTypeExtension,"You must select a file to upload"),l(n,53,0,e.structureUploadForm.invalid||e.structureUploadForm.pending||e.isUploading,"primary")},function(l,n){l(n,9,0,t.Eb(n,13).ngClassUntouched,t.Eb(n,13).ngClassTouched,t.Eb(n,13).ngClassPristine,t.Eb(n,13).ngClassDirty,t.Eb(n,13).ngClassValid,t.Eb(n,13).ngClassInvalid,t.Eb(n,13).ngClassPending),l(n,17,1,["standard"==t.Eb(n,18).appearance,"fill"==t.Eb(n,18).appearance,"outline"==t.Eb(n,18).appearance,"legacy"==t.Eb(n,18).appearance,t.Eb(n,18)._control.errorState,t.Eb(n,18)._canLabelFloat,t.Eb(n,18)._shouldLabelFloat(),t.Eb(n,18)._hasFloatingLabel(),t.Eb(n,18)._hideControlPlaceholder(),t.Eb(n,18)._control.disabled,t.Eb(n,18)._control.autofilled,t.Eb(n,18)._control.focused,"accent"==t.Eb(n,18).color,"warn"==t.Eb(n,18).color,t.Eb(n,18)._shouldForward("untouched"),t.Eb(n,18)._shouldForward("touched"),t.Eb(n,18)._shouldForward("pristine"),t.Eb(n,18)._shouldForward("dirty"),t.Eb(n,18)._shouldForward("valid"),t.Eb(n,18)._shouldForward("invalid"),t.Eb(n,18)._shouldForward("pending"),!t.Eb(n,18)._animationsEnabled]),l(n,31,1,[t.Eb(n,33).required?"":null,t.Eb(n,38).ngClassUntouched,t.Eb(n,38).ngClassTouched,t.Eb(n,38).ngClassPristine,t.Eb(n,38).ngClassDirty,t.Eb(n,38).ngClassValid,t.Eb(n,38).ngClassInvalid,t.Eb(n,38).ngClassPending,t.Eb(n,39)._isServer,t.Eb(n,39).id,t.Eb(n,39).placeholder,t.Eb(n,39).disabled,t.Eb(n,39).required,t.Eb(n,39).readonly&&!t.Eb(n,39)._isNativeSelect||null,t.Eb(n,39)._ariaDescribedby||null,t.Eb(n,39).errorState,t.Eb(n,39).required.toString()]),l(n,41,0,"end"==t.Eb(n,42).align,t.Eb(n,42).id,null),l(n,44,0,"end"==t.Eb(n,45).align,t.Eb(n,45).id,null),l(n,46,0,(null==t.Eb(n,31).value?null:t.Eb(n,31).value.length)||0),l(n,52,0,t.Eb(n,53).disabled||null,"NoopAnimations"===t.Eb(n,53)._animationMode)})}var Tl=function(){return function(){this.isParameterDownloadVisible=!0,this.isInputDownloadVisible=!0}}(),Ul=t.sb({encapsulation:2,styles:[],data:{}});function Pl(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["Upload data"])),(l()(),t.ub(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),t.ub(3,0,null,null,1,"em",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["Import Desktop PERSiST files for use in Web PERSiST"])),(l()(),t.ub(5,0,null,null,6,"div",[["class","flex-row"]],null,null,null,null,null)),(l()(),t.ub(6,0,null,null,1,"slu-parameter-upload",[],null,[[null,"complete"]],function(l,n,e){var t=!0;return"complete"===n&&(t=!1!==(l.component.isParameterDownloadVisible=e)&&t),t},G,V)),t.tb(7,114688,null,0,I,[_.e,E.a,y.a,c.e],null,{complete:"complete"}),(l()(),t.ub(8,0,null,null,1,"slu-input-upload",[],null,[[null,"complete"]],function(l,n,e){var t=!0;return"complete"===n&&(t=!1!==(l.component.isInputDownloadVisible=e)&&t),t},El,fl)),t.tb(9,114688,null,0,H,[_.e,y.a,z.a,E.a,c.e],null,{complete:"complete"}),(l()(),t.ub(10,0,null,null,1,"slu-structure-upload",[],null,null,null,Ll,xl)),t.tb(11,114688,null,0,yl,[_.e,y.a,z.a,E.a,c.e],null,null)],function(l,n){l(n,7,0),l(n,9,0),l(n,11,0)},null)}function Dl(l){return t.Nb(0,[(l()(),t.ub(0,0,null,null,1,"slu-import-data",[],null,null,null,Pl,Ul)),t.tb(1,49152,null,0,Tl,[],null,null)],null,null)}var Jl=t.qb("slu-import-data",Tl,Dl,{},{},[]),Nl=e("M2Lx"),jl=e("hR/J"),Rl=e("v9Dh"),Ml=e("ZYjt"),Ol=e("r43C"),Yl=e("8mMr"),Al=e("aLn0"),Vl=e("4c35"),Bl=e("SMsm"),Gl=e("La40"),Wl=e("ZfjJ"),zl=e("ZYCi"),Kl=e("BgWK"),Hl=e("y4qS"),Zl=e("BHnd"),$l=e("kWGw"),Xl=e("vARd"),Ql=e("b/4Z"),ln=function(){return function(){}}();e.d(n,"ImportDataModuleNgFactory",function(){return nn});var nn=t.rb(u,[],function(l){return t.Bb([t.Cb(512,t.j,t.eb,[[8,[a.a,i.b,i.a,r.a,o.a,d.a,s.a,s.b,b.a,Jl,A,ml,kl]],[3,t.j],t.z]),t.Cb(4608,g.m,g.l,[t.w,[2,g.C]]),t.Cb(4608,_.x,_.x,[]),t.Cb(4608,_.e,_.e,[]),t.Cb(4608,ol.c,ol.c,[ol.i,ol.e,t.j,ol.h,ol.f,t.s,t.B,g.d,T.b,[2,g.g]]),t.Cb(5120,ol.j,ol.k,[ol.c]),t.Cb(5120,c.c,c.d,[ol.c]),t.Cb(135680,c.e,c.e,[ol.c,t.s,[2,g.g],[2,c.b],c.c,[3,c.e],ol.e]),t.Cb(4608,Nl.c,Nl.c,[]),t.Cb(4608,rl.i,rl.i,[]),t.Cb(5120,rl.a,rl.b,[ol.c]),t.Cb(4608,L.c,jl.d,[L.h,jl.a]),t.Cb(4608,L.d,L.d,[]),t.Cb(5120,Rl.b,Rl.c,[ol.c]),t.Cb(4608,Ml.e,L.e,[[2,L.i],[2,L.n]]),t.Cb(5120,X.a,X.b,[ol.c]),t.Cb(1073742336,g.c,g.c,[]),t.Cb(1073742336,T.a,T.a,[]),t.Cb(1073742336,L.n,L.n,[[2,L.f],[2,Ml.f]]),t.Cb(1073742336,x.d,x.d,[]),t.Cb(1073742336,L.o,L.o,[]),t.Cb(1073742336,Ol.a,Ol.a,[]),t.Cb(1073742336,Yl.b,Yl.b,[]),t.Cb(1073742336,Al.a,Al.a,[]),t.Cb(1073742336,_.w,_.w,[]),t.Cb(1073742336,_.k,_.k,[]),t.Cb(1073742336,_.t,_.t,[]),t.Cb(1073742336,U.b,U.b,[]),t.Cb(1073742336,L.w,L.w,[]),t.Cb(1073742336,m.c,m.c,[]),t.Cb(1073742336,Vl.g,Vl.g,[]),t.Cb(1073742336,Q.c,Q.c,[]),t.Cb(1073742336,ol.g,ol.g,[]),t.Cb(1073742336,c.k,c.k,[]),t.Cb(1073742336,Nl.d,Nl.d,[]),t.Cb(1073742336,f.a,f.a,[]),t.Cb(1073742336,rl.j,rl.j,[]),t.Cb(1073742336,jl.e,jl.e,[]),t.Cb(1073742336,jl.c,jl.c,[]),t.Cb(1073742336,D.c,D.c,[]),t.Cb(1073742336,w.e,w.e,[]),t.Cb(1073742336,P.c,P.c,[]),t.Cb(1073742336,Bl.c,Bl.c,[]),t.Cb(1073742336,Rl.e,Rl.e,[]),t.Cb(1073742336,L.u,L.u,[]),t.Cb(1073742336,L.s,L.s,[]),t.Cb(1073742336,X.d,X.d,[]),t.Cb(1073742336,Gl.k,Gl.k,[]),t.Cb(1073742336,Wl.a,Wl.a,[]),t.Cb(1073742336,zl.n,zl.n,[[2,zl.s],[2,zl.l]]),t.Cb(1073742336,Kl.d,Kl.d,[]),t.Cb(1073742336,Hl.p,Hl.p,[]),t.Cb(1073742336,Zl.l,Zl.l,[]),t.Cb(1073742336,$l.c,$l.c,[]),t.Cb(1073742336,Xl.e,Xl.e,[]),t.Cb(1073742336,Ql.a,Ql.a,[]),t.Cb(1073742336,ln,ln,[]),t.Cb(1073742336,u,u,[]),t.Cb(256,c.b,Wl.b,[]),t.Cb(256,L.g,jl.b,[]),t.Cb(1024,zl.j,function(){return[[{path:"",component:Tl}]]},[])])})}}]);