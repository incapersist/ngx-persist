!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.auth0={})}(this,function(t){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var n=i(function(t){var i,n;i=e,n=function(){function t(t){var e=[];if(t[0].match(/^[^\/:]+:\/*$/)&&t.length>1){var i=t.shift();t[0]=i+t[0]}t[0]=t[0].match(/^file:\/\/\//)?t[0].replace(/^([^\/:]+):\/*/,"$1:///"):t[0].replace(/^([^\/:]+):\/*/,"$1://");for(var n=0;n<t.length;n++){var r=t[n];if("string"!=typeof r)throw new TypeError("Url must be a string. Received "+r);""!==r&&(n>0&&(r=r.replace(/^[\/]+/,"")),r=r.replace(/[\/]+$/,n<t.length-1?"":"/"),e.push(r))}var o=e.join("/"),a=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a.shift()+(a.length>0?"?":"")+a.join("&")}return function(){return t("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},t.exports?t.exports=n():i.urljoin=n()}),r=i(function(t,e){var i=Object.prototype.hasOwnProperty,n=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var i=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(i[n]=t[n]);return i},e.merge=function(t,n,r){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(r.plainObjects||r.allowPrototypes||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var o=t;return Array.isArray(t)&&!Array.isArray(n)&&(o=e.arrayToObject(t,r)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,o){i.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e.merge(t[o],n,r):t.push(n):t[o]=n}),t):Object.keys(n).reduce(function(t,i){var o=n[i];return t[i]=Object.prototype.hasOwnProperty.call(t,i)?e.merge(t[i],o,r):o,t},o)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),i="",r=0;r<e.length;++r){var o=e.charCodeAt(r);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?i+=e.charAt(r):o<128?i+=n[o]:o<2048?i+=n[192|o>>6]+n[128|63&o]:o<55296||o>=57344?i+=n[224|o>>12]+n[128|o>>6&63]+n[128|63&o]:(o=65536+((1023&o)<<10|1023&e.charCodeAt(r+=1)),i+=n[240|o>>18]+n[128|o>>12&63]+n[128|o>>6&63]+n[128|63&o])}return i},e.compact=function(t,i){if("object"!=typeof t||null===t)return t;var n=i||[],r=n.indexOf(t);if(-1!==r)return n[r];if(n.push(t),Array.isArray(t)){for(var o=[],a=0;a<t.length;++a)t[a]&&"object"==typeof t[a]?o.push(e.compact(t[a],n)):void 0!==t[a]&&o.push(t[a]);return o}return Object.keys(t).forEach(function(i){t[i]=e.compact(t[i],n)}),t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}}),o=String.prototype.replace,a=/%20/g,s={default:"RFC3986",formatters:{RFC1738:function(t){return o.call(t,a,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"},l={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},h=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},c=function t(e,i,n,o,a,s,l,h,u,c,p,d){var f=e;if("function"==typeof l)f=l(i,f);else if(f instanceof Date)f=c(f);else if(null===f){if(o)return s&&!d?s(i):i;f=""}if("string"==typeof f||"number"==typeof f||"boolean"==typeof f||r.isBuffer(f))return s?[p(d?i:s(i))+"="+p(s(f))]:[p(i)+"="+p(String(f))];var g,y=[];if(void 0===f)return y;if(Array.isArray(l))g=l;else{var v=Object.keys(f);g=h?v.sort(h):v}for(var m=0;m<g.length;++m){var _=g[m];a&&null===f[_]||(y=Array.isArray(f)?y.concat(t(f[_],n(i,_),n,o,a,s,l,h,u,c,p,d)):y.concat(t(f[_],i+(u?"."+_:"["+_+"]"),n,o,a,s,l,h,u,c,p,d)))}return y},p=Object.prototype.hasOwnProperty,d={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},f=function(t,e,i){if(!t.length)return e;var n,r=t.shift();if("[]"===r)n=(n=[]).concat(f(t,e,i));else{n=i.plainObjects?Object.create(null):{};var o="["===r.charAt(0)&&"]"===r.charAt(r.length-1)?r.slice(1,-1):r,a=parseInt(o,10);!isNaN(a)&&r!==o&&String(a)===o&&a>=0&&i.parseArrays&&a<=i.arrayLimit?(n=[])[a]=f(t,e,i):n[o]=f(t,e,i)}return n},g=function(t,e,i){if(t){var n=i.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,r=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(n),a=o?n.slice(0,o.index):n,s=[];if(a){if(!i.plainObjects&&p.call(Object.prototype,a)&&!i.allowPrototypes)return;s.push(a)}for(var l=0;null!==(o=r.exec(n))&&l<i.depth;){if(l+=1,!i.plainObjects&&p.call(Object.prototype,o[1].slice(1,-1))&&!i.allowPrototypes)return;s.push(o[1])}return o&&s.push("["+n.slice(o.index)+"]"),f(s,e,i)}},y=function(t,e){var i=t,n=e||{};if(null!=n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var r=void 0===n.delimiter?u.delimiter:n.delimiter,o="boolean"==typeof n.strictNullHandling?n.strictNullHandling:u.strictNullHandling,a="boolean"==typeof n.skipNulls?n.skipNulls:u.skipNulls,h="boolean"==typeof n.encode?n.encode:u.encode,p="function"==typeof n.encoder?n.encoder:u.encoder,d="function"==typeof n.sort?n.sort:null,f=void 0!==n.allowDots&&n.allowDots,g="function"==typeof n.serializeDate?n.serializeDate:u.serializeDate,y="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:u.encodeValuesOnly;if(void 0===n.format)n.format=s.default;else if(!Object.prototype.hasOwnProperty.call(s.formatters,n.format))throw new TypeError("Unknown format option provided.");var v,m,_=s.formatters[n.format];"function"==typeof n.filter?i=(m=n.filter)("",i):Array.isArray(n.filter)&&(v=m=n.filter);var b=[];if("object"!=typeof i||null===i)return"";var w=l[n.arrayFormat in l?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices"];v||(v=Object.keys(i)),d&&v.sort(d);for(var x=0;x<v.length;++x){var T=v[x];a&&null===i[T]||(b=b.concat(c(i[T],T,w,o,a,h?p:null,m,d,f,g,_,y)))}return b.join(r)},v=i(function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i)for(var n=0,r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),m=function(t){return null!==t&&"object"==typeof t},_=b;function b(t){if(t)return function(t){for(var e in b.prototype)t[e]=b.prototype[e];return t}(t)}b.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},b.prototype.parse=function(t){return this._parser=t,this},b.prototype.responseType=function(t){return this._responseType=t,this},b.prototype.serialize=function(t){return this._serializer=t,this},b.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},b.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var w=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];b.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var i=this._retryCallback(t,e);if(!0===i)return!0;if(!1===i)return!1}catch(n){console.error(n)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~w.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},b.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},b.prototype.then=function(t,e){if(!this._fullfilledPromise){var i=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){i.end(function(i,n){i?e(i):t(n)})})}return this._fullfilledPromise.then(t,e)},b.prototype.catch=function(t){return this.then(void 0,t)},b.prototype.use=function(t){return t(this),this},b.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},b.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},b.prototype.getHeader=b.prototype.get=function(t){return this._header[t.toLowerCase()]},b.prototype.set=function(t,e){if(m(t)){for(var i in t)this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},b.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},b.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),m(t)){for(var i in t)this.field(i,t[i]);return this}if(Array.isArray(e)){for(var n in e)this.field(t,e[n]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},b.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},b.prototype._auth=function(t,e,i,n){switch(i.type){case"basic":this.set("Authorization","Basic "+n(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},b.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},b.prototype.redirects=function(t){return this._maxRedirects=t,this},b.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},b.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},b.prototype.send=function(t){var e=m(t),i=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&m(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(i||this.type("form"),this._data="application/x-www-form-urlencoded"==(i=this._header["content-type"])?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(i||this.type("json"),this)},b.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},b.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var i=this.url.substring(e+1).split("&");"function"==typeof this._sort?i.sort(this._sort):i.sort(),this.url=this.url.substring(0,e)+"?"+i.join("&")}}},b.prototype._appendQueryString=function(){console.trace("Unsupported")},b.prototype._timeoutError=function(t,e,i){if(!this._aborted){var n=new Error(t+e+"ms exceeded");n.timeout=e,n.code="ECONNABORTED",n.errno=i,this.timedout=!0,this.abort(),this.callback(n)}},b.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var x=T;function T(t){if(t)return function(t){for(var e in T.prototype)t[e]=T.prototype[e];return t}(t)}function O(){this._defaults=[]}T.prototype.get=function(t){return this.header[t.toLowerCase()]},T.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=e.split(/ *; */).shift();var i=e.split(/ *; */).reduce(function(t,e){var i=e.split(/ *= */),n=i.shift(),r=i.shift();return n&&r&&(t[n]=r),t},{});for(var n in i)this[n]=i[n];this.links={};try{t.link&&(this.links=t.link.split(/ *, */).reduce(function(t,e){var i=e.split(/ *; */),n=i[0].slice(1,-1);return t[i[1].split(/ *= */)[1].slice(1,-1)]=n,t},{}))}catch(r){}},T.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){O.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),O.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})};for(var A=O,k=i(function(t,i){var n;function r(){}"undefined"!=typeof window?n=window:"undefined"!=typeof self?n=self:(console.warn("Using browser-only version of superagent in non-browser environment"),n=e);var o=i=t.exports=function(t,e){return"function"==typeof e?new i.Request("GET",t).end(e):1==arguments.length?new i.Request("GET",t):new i.Request(t,e)};i.Request=p,o.getXHR=function(){if(!(!n.XMLHttpRequest||n.location&&"file:"==n.location.protocol&&n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var a="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function s(t){if(!m(t))return t;var e=[];for(var i in t)l(e,i,t[i]);return e.join("&")}function l(t,e,i){if(null!=i)if(Array.isArray(i))i.forEach(function(i){l(t,e,i)});else if(m(i))for(var n in i)l(t,e+"["+n+"]",i[n]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));else null===i&&t.push(encodeURIComponent(e))}function h(t){for(var e,i,n={},r=t.split("&"),o=0,a=r.length;o<a;++o)-1==(i=(e=r[o]).indexOf("="))?n[decodeURIComponent(e)]="":n[decodeURIComponent(e.slice(0,i))]=decodeURIComponent(e.slice(i+1));return n}function u(t){return/[\/+]json($|[^-\w])/.test(t)}function c(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,i,n,r,o=t.split(/\r?\n/),s={},l=0,h=o.length;l<h;++l)-1!==(e=(i=o[l]).indexOf(":"))&&(n=i.slice(0,e).toLowerCase(),r=a(i.slice(e+1)),s[n]=r);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.body=null===this.text&&t._responseType?this.xhr.response:"HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function p(t,e){var i=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,n=null;try{n=new c(i)}catch(r){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=r,i.xhr?(e.rawResponse=void 0===i.xhr.responseType?i.xhr.responseText:i.xhr.response,e.status=i.xhr.status?i.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),i.callback(e)}i.emit("response",n);try{i._isResponseOK(n)||(t=new Error(n.statusText||"Unsuccessful HTTP response"))}catch(o){t=o}t?(t.original=e,t.response=n,t.status=n.status,i.callback(t,n)):i.callback(null,n)})}function d(t,e,i){var n=o("DELETE",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n}o.serializeObject=s,o.parseString=h,o.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},o.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},o.parse={"application/x-www-form-urlencoded":h,"application/json":JSON.parse},x(c.prototype),c.prototype._parseBody=function(t){var e=o.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&u(this.type)&&(e=o.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},c.prototype.toError=function(){var t=this.req,e=t.method,i=t.url,n=new Error("cannot "+e+" "+i+" ("+this.status+")");return n.status=this.status,n.method=e,n.url=i,n},o.Response=c,v(p.prototype),_(p.prototype),p.prototype.type=function(t){return this.set("Content-Type",o.types[t]||t),this},p.prototype.accept=function(t){return this.set("Accept",o.types[t]||t),this},p.prototype.auth=function(t,e,i){1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(i=e,e=""),i||(i={type:"function"==typeof btoa?"basic":"auto"});var n=function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,i,n)},p.prototype.query=function(t){return"string"!=typeof t&&(t=s(t)),t&&this._query.push(t),this},p.prototype.attach=function(t,e,i){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,i||e.name)}return this},p.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},p.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var i=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),i(t,e)},p.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},p.prototype.buffer=p.prototype.ca=p.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},p.prototype.pipe=p.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},p.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},p.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||r,this._finalizeQueryString(),this._end()},p.prototype._end=function(){var t=this,e=this.xhr=o.getXHR(),i=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var i=e.readyState;if(i>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==i){var n;try{n=e.status}catch(r){n=0}if(!n){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var n=function(e,i){i.total>0&&(i.percent=i.loaded/i.total*100),i.direction=e,t.emit("progress",i)};if(this.hasListeners("progress"))try{e.onprogress=n.bind(null,"download"),e.upload&&(e.upload.onprogress=n.bind(null,"upload"))}catch(l){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(h){return this.callback(h)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof i&&!this._isHost(i)){var r=this._header["content-type"],a=this._serializer||o.serialize[r?r.split(";")[0]:""];!a&&u(r)&&(a=o.serialize["application/json"]),a&&(i=a(i))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&e.setRequestHeader(s,this.header[s]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==i?i:null),this},o.agent=function(){return new A},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){A.prototype[t.toLowerCase()]=function(e,i){var n=new o.Request(t,e);return this._setDefaults(n),i&&n.end(i),n}}),A.prototype.del=A.prototype.delete,o.get=function(t,e,i){var n=o("GET",t);return"function"==typeof e&&(i=e,e=null),e&&n.query(e),i&&n.end(i),n},o.head=function(t,e,i){var n=o("HEAD",t);return"function"==typeof e&&(i=e,e=null),e&&n.query(e),i&&n.end(i),n},o.options=function(t,e,i){var n=o("OPTIONS",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},o.del=d,o.delete=d,o.patch=function(t,e,i){var n=o("PATCH",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},o.post=function(t,e,i){var n=o("POST",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},o.put=function(t,e,i){var n=o("PUT",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n}}),C=[],S=[],D="undefined"!=typeof Uint8Array?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0,L=E.length;P<L;++P)C[P]=E[P],S[E.charCodeAt(P)]=P;function M(t,e,i){for(var n,r=[],o=e;o<i;o+=3)r.push(C[(n=(t[o]<<16)+(t[o+1]<<8)+t[o+2])>>18&63]+C[n>>12&63]+C[n>>6&63]+C[63&n]);return r.join("")}S["-".charCodeAt(0)]=62,S["_".charCodeAt(0)]=63;var R=function(t){var e,i,n,r,o,a,s=t.length;o=function(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}(t),a=new D(3*s/4-o),n=o>0?s-4:s;var l=0;for(e=0,i=0;e<n;e+=4,i+=3)r=S[t.charCodeAt(e)]<<18|S[t.charCodeAt(e+1)]<<12|S[t.charCodeAt(e+2)]<<6|S[t.charCodeAt(e+3)],a[l++]=r>>16&255,a[l++]=r>>8&255,a[l++]=255&r;return 2===o?(r=S[t.charCodeAt(e)]<<2|S[t.charCodeAt(e+1)]>>4,a[l++]=255&r):1===o&&(r=S[t.charCodeAt(e)]<<10|S[t.charCodeAt(e+1)]<<4|S[t.charCodeAt(e+2)]>>2,a[l++]=r>>8&255,a[l++]=255&r),a},N=function(t){for(var e,i=t.length,n=i%3,r="",o=[],a=0,s=i-n;a<s;a+=16383)o.push(M(t,a,a+16383>s?s:a+16383));return 1===n?(r+=C[(e=t[i-1])>>2],r+=C[e<<4&63],r+="=="):2===n&&(r+=C[(e=(t[i-2]<<8)+t[i-1])>>10],r+=C[e>>4&63],r+=C[e<<2&63],r+="="),o.push(r),o.join("")},I={raw:"9.10.2"},F=Object.prototype.toString;function H(t,e,i,n){if(i="array"===i?"object":i,t&&typeof t[e]!==i)throw new Error(n)}function U(t,e,i){if(typeof t!==e)throw new Error(i)}function j(t,e,i){if(-1===e.indexOf(t))throw new Error(i)}var B={check:function(t,e,i){if(e.optional&&!t||U(t,e.type,e.message),"object"===e.type&&i)for(var n=Object.keys(i),r=0;r<n.length;r++){var o=n[r];i[o].optional&&!t[o]||i[o].condition&&!i[o].condition(t)||(H(t,o,i[o].type,i[o].message),i[o].values&&j(t[o],i[o].values,i[o].value_message))}},attribute:H,variable:U,value:j,isArray:function(t){return this.supportsIsArray()?Array.isArray(t):"[object Array]"===F.call(t)},supportsIsArray:function(){return null!=Array.isArray}};function V(t){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r=Object.keys(Object(n)),o=0,a=r.length;o<a;o++){var s=r[o],l=Object.getOwnPropertyDescriptor(n,s);void 0!==l&&l.enumerable&&(e[s]=n[s])}}return e}var Y={get:function(){return Object.assign?Object.assign:V},objectAssignPolyfill:V};function q(t,e){return e.reduce(function(e,i){return t[i]&&(e[i]=t[i]),e},{})}function X(){var t=function(t){var e=[];for(var i in t)e.push(t[i]);return e}(arguments);return t.unshift({}),Y.get().apply(void 0,t)}function W(t){var e=t.match(/^(https?:|file:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return e&&{href:t,protocol:e[1],host:e[2],hostname:e[3],port:e[4],pathname:e[5],search:e[6],hash:e[7]}}function z(t,e){var i=X(t);return t[e]&&(i[e]=t[e].trim()),i}var Z={toSnakeCase:function t(e,i){return"object"!=typeof e||B.isArray(e)||null===e?e:(i=i||[],Object.keys(e).reduce(function(n,r){return n[-1===i.indexOf(r)?function(t){for(var e,i="",n=0,r=!0,o=!0;n<t.length;)e=t.charCodeAt(n),!o&&e>=65&&e<=90||!r&&e>=48&&e<=57?(i+="_",i+=t[n].toLowerCase()):i+=t[n].toLowerCase(),r=e>=48&&e<=57,o=e>=65&&e<=90,n++;return i}(r):r]=t(e[r]),n},{}))},toCamelCase:function t(e,i,n){return"object"!=typeof e||B.isArray(e)||null===e?e:(i=i||[],n=n||{},Object.keys(e).reduce(function(r,o){var a,s=-1===i.indexOf(o)?(a=o.split("_")).reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)},a.shift()):o;return r[s]=t(e[s]||e[o],[],n),n.keepOriginal&&(r[o]=t(e[o],[],n)),r},{}))},blacklist:function(t,e){return Object.keys(t).reduce(function(i,n){return-1===e.indexOf(n)&&(i[n]=t[n]),i},{})},merge:function(t,e){return{base:e?q(t,e):t,with:function(t,e){return t=e?q(t,e):t,X(this.base,t)}}},pick:q,getKeysNotIn:function(t,e){var i=[];for(var n in t)-1===e.indexOf(n)&&i.push(n);return i},extend:X,getOriginFromUrl:function(t){if(t){var e=W(t),i=e.protocol+"//"+e.hostname;return e.port&&(i+=":"+e.port),i}},getLocationFromUrl:W,trimUserDetails:function(t){return function(t,e){return["username","email","phoneNumber"].reduce(z,t)}(t)}};function G(t){this.request=t,this.method=t.method,this.url=t.url,this.body=t._data,this.headers=t._header}function K(t){this.request=t}function J(t){this._sendTelemetry=!1!==t._sendTelemetry||t._sendTelemetry,this._telemetryInfo=t._telemetryInfo||null,this._timesToRetryFailedRequests=t._timesToRetryFailedRequests,this.headers=t.headers||{},this._universalLoginPage=t.universalLoginPage}function $(){return window}G.prototype.abort=function(){this.request.abort()},G.prototype.getMethod=function(){return this.method},G.prototype.getBody=function(){return this.body},G.prototype.getUrl=function(){return this.url},G.prototype.getHeaders=function(){return this.headers},K.prototype.set=function(t,e){return this.request=this.request.set(t,e),this},K.prototype.send=function(t){return this.request=this.request.send(Z.trimUserDetails(t)),this},K.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},K.prototype.end=function(t){return this.request=this.request.end(t),new G(this.request)},J.prototype.setCommonConfiguration=function(t,e){if(e=e||{},this._timesToRetryFailedRequests>0&&(t=t.retry(this._timesToRetryFailedRequests)),e.noHeaders)return t;var i=this.headers;t=t.set("Content-Type","application/json");for(var n=Object.keys(this.headers),r=0;r<n.length;r++)t=t.set(n[r],i[n[r]]);return this._sendTelemetry&&(t=t.set("Auth0-Client",this.getTelemetryData())),t},J.prototype.getTelemetryData=function(){var t=JSON.stringify(this._telemetryInfo||{name:this._universalLoginPage?"auth0.js-ulp":"auth0.js",version:I.raw});return N(function(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(t)).replace(/\+/g,"-").replace(/\//g,"_")},J.prototype.get=function(t,e){return new K(this.setCommonConfiguration(k.get(t),e))},J.prototype.post=function(t,e){return new K(this.setCommonConfiguration(k.post(t),e))},J.prototype.patch=function(t,e){return new K(this.setCommonConfiguration(k.patch(t),e))};var Q={redirect:function(t){$().location=t},getDocument:function(){return $().document},getWindow:$,getOrigin:function(){var t=$().location,e=t.origin;return e||(e=Z.getOriginFromUrl(t.href)),e}};function tt(){}tt.prototype.getItem=function(){return null},tt.prototype.removeItem=function(){},tt.prototype.setItem=function(){};var et=i(function(t,e){t.exports=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}return function e(i){function n(e,r,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=t({path:"/"},n.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(y){}r=i.write?i.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var h in o)o[h]&&(l+="; "+h,!0!==o[h]&&(l+="="+o[h]));return document.cookie=e+"="+r+l}e||(a={});for(var u=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var d=u[p].split("="),f=d.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var g=d[0].replace(c,decodeURIComponent);if(f=i.read?i.read(f,g):i(f,g)||f.replace(c,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(y){}if(e===g){a=f;break}e||(a[g]=f)}catch(y){}}return a}}return n.set=n,n.get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}(function(){})}()});function it(){}function nt(t){this.disableWarnings=t.disableWarnings}function rt(t){if(this.warn=new nt({}),this.storage=new it,!0===t.__tryLocalStorageFirst)try{var e=Q.getWindow().localStorage;e&&(this.storage=e)}catch(i){this.warn.warning(i),this.warn.warning("Can't use localStorage. Using CookieStorage instead.")}}function ot(t){this.handler=new rt(t)}function at(t){this.storage=new ot(t)}function st(t,e){return{error:t,errorDescription:e}}it.prototype.getItem=function(t){return et.get(t)},it.prototype.removeItem=function(t){et.remove(t)},it.prototype.setItem=function(t,e,i){var n=Z.extend({expires:1},i);et.set(t,e,n)},nt.prototype.warning=function(t){this.disableWarnings||console.warn(t)},rt.prototype.failover=function(){this.storage instanceof tt?this.warn.warning("DummyStorage: ignore failover"):this.storage instanceof it?(this.warn.warning("CookieStorage: failing over DummyStorage"),this.storage=new tt):(this.warn.warning("LocalStorage: failing over CookieStorage"),this.storage=new it)},rt.prototype.getItem=function(t){try{return this.storage.getItem(t)}catch(e){return this.warn.warning(e),this.failover(),this.getItem(t)}},rt.prototype.removeItem=function(t){try{return this.storage.removeItem(t)}catch(e){return this.warn.warning(e),this.failover(),this.removeItem(t)}},rt.prototype.setItem=function(t,e,i){try{return this.storage.setItem(t,e,i)}catch(n){return this.warn.warning(n),this.failover(),this.setItem(t,e,i)}},ot.prototype.getItem=function(t){var e=this.handler.getItem(t);try{return JSON.parse(e)}catch(i){return e}},ot.prototype.removeItem=function(t){return this.handler.removeItem(t)},ot.prototype.setItem=function(t,e,i){var n=JSON.stringify(e);return this.handler.setItem(t,n,i)},at.prototype.set=function(t,e){this.storage.setItem("auth0.ssodata",JSON.stringify({lastUsedConnection:t,lastUsedSub:e}))},at.prototype.get=function(){var t=this.storage.getItem("auth0.ssodata");if(t)return JSON.parse(t)};var lt={buildResponse:st,invalidToken:function(t){return st("invalid_token",t)}};function ht(t,e){return(e=e||{}).ignoreCasing=!!e.ignoreCasing&&e.ignoreCasing,function(i,n){var r;return i||n?(!i&&n.err&&(i=n.err,n=null),!i&&n.error&&(i=n,n=null),i?(r={original:i},i.response&&i.response.statusCode&&(r.statusCode=i.response.statusCode),i.response&&i.response.statusText&&(r.statusText=i.response.statusText),i.response&&i.response.body&&(i=i.response.body),i.err&&(i=i.err),r.code=i.code||i.error||i.error_code||i.status||null,r.description=i.errorDescription||i.error_description||i.description||i.error||i.details||i.err||null,e.forceLegacyError&&(r.error=r.code,r.error_description=r.description),i.name&&(r.name=i.name),i.policy&&(r.policy=i.policy),t(r)):t(null,!n.type||"text/html"!==n.type&&"text/plain"!==n.type?e.ignoreCasing?n.body||n:Z.toCamelCase(n.body||n,[],{keepOriginal:e.keepOriginalCasing}):n.text)):t(lt.buildResponse("generic_error","Something went wrong"))}}var ut=["realm","audience","client_id","client_secret","redirect_uri","scope","code","grant_type","username","password","refresh_token","assertion","client_assertion","client_assertion_type","code_verifier"],ct=["connection","connection_scope","auth0Client","owp","device","realm","protocol","_csrf","_intstate","login_ticket","client_id","response_type","response_mode","redirect_uri","audience","scope","state","nonce","display","prompt","max_age","ui_locales","claims_locales","id_token_hint","login_hint","acr_values","claims","registration","request","request_uri","code_challenge","code_challenge_method","access_type","display"],pt=i(function(t,e){var i;t.exports=i=i||function(t,e){var i=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),n={},r=n.lib={},o=r.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes,r=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<r;o++)e[n+o>>>2]|=(i[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else for(o=0;o<r;o+=4)e[n+o>>>2]=i[o>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i,n=[],r=function(e){e=e;var i=987654321,n=4294967295;return function(){var r=((i=36969*(65535&i)+(i>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return r/=4294967296,(r+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var s=r(4294967296*(i||t.random()));i=987654071*s(),n.push(4294967296*s()|0)}return new a.init(n,e)}}),s=n.enc={},l=s.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++){var o=e[r>>>2]>>>24-r%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(i,e/2)}},h=s.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++)n.push(String.fromCharCode(e[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(i,e)}},u=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},c=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,n=i.words,r=i.sigBytes,o=this.blockSize,s=r/(4*o),l=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,h=t.min(4*l,r);if(l){for(var u=0;u<l;u+=o)this._doProcessBlock(n,u);var c=n.splice(0,l);i.sigBytes-=h}return new a.init(c,h)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(r.Hasher=c.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new p.HMAC.init(t,i).finalize(e)}}}),n.algo={});return n}(Math)}),dt=i(function(t,e){var i;t.exports=(i=pt,function(t){var e=i,n=e.lib,r=n.WordArray,o=n.Hasher,a=e.algo,s=[],l=[];!function(){function e(e){for(var i=t.sqrt(e),n=2;n<=i;n++)if(!(e%n))return!1;return!0}function i(t){return 4294967296*(t-(0|t))|0}for(var n=2,r=0;r<64;)e(n)&&(r<8&&(s[r]=i(t.pow(n,.5))),l[r]=i(t.pow(n,1/3)),r++),n++}();var h=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],r=i[1],o=i[2],a=i[3],s=i[4],u=i[5],c=i[6],p=i[7],d=0;d<64;d++){if(d<16)h[d]=0|t[e+d];else{var f=h[d-15],g=h[d-2];h[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+h[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+h[d-16]}var y=n&r^n&o^r&o,v=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&c)+l[d]+h[d];p=c,c=u,u=s,s=a+v|0,a=o,o=r,r=n,n=v+(((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+y)|0}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+s|0,i[5]=i[5]+u|0,i[6]=i[6]+c|0,i[7]=i[7]+p|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(r+64>>>9<<4)]=t.floor(n/4294967296),i[15+(r+64>>>9<<4)]=n,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(u),e.HmacSHA256=o._createHmacHelper(u)}(Math),i.SHA256)}),ft=i(function(t,e){var i,n;t.exports=(i=(n=pt).lib.WordArray,n.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._map;t.clamp();for(var r=[],o=0;o<i;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<i;s++)r.push(n.charAt(a>>>6*(3-s)&63));var l=n.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,n){for(var r=[],o=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,l=n[t.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=(s|l)<<24-o%4*8,o++}return i.create(r,o)}(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)}),gt=i(function(t,e){t.exports=pt.enc.Hex}),yt=i(function(t,i){(function(){var e;function i(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):this.fromString(t,null==e&&"string"!=typeof t?256:e))}function n(){return new i(null)}var r="undefined"!=typeof navigator;r&&"Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=function(t,e,i,n,r,o){for(var a=32767&e,s=e>>15;--o>=0;){var l=32767&this[t],h=this[t++]>>15,u=s*l+h*a;r=((l=a*l+((32767&u)<<15)+i[n]+(1073741823&r))>>>30)+(u>>>15)+s*h+(r>>>30),i[n++]=1073741823&l}return r},e=30):r&&"Netscape"!=navigator.appName?(i.prototype.am=function(t,e,i,n,r,o){for(;--o>=0;){var a=e*this[t++]+i[n]+r;r=Math.floor(a/67108864),i[n++]=67108863&a}return r},e=26):(i.prototype.am=function(t,e,i,n,r,o){for(var a=16383&e,s=e>>14;--o>=0;){var l=16383&this[t],h=this[t++]>>14,u=s*l+h*a;r=((l=a*l+((16383&u)<<14)+i[n]+r)>>28)+(u>>14)+s*h,i[n++]=268435455&l}return r},e=28),i.prototype.DB=e,i.prototype.DM=(1<<e)-1,i.prototype.DV=1<<e,i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-e,i.prototype.F2=2*e-52;var o,a,s="0123456789abcdefghijklmnopqrstuvwxyz",l=new Array;for(o="0".charCodeAt(0),a=0;a<=9;++a)l[o++]=a;for(o="a".charCodeAt(0),a=10;a<36;++a)l[o++]=a;for(o="A".charCodeAt(0),a=10;a<36;++a)l[o++]=a;function h(t){return s.charAt(t)}function u(t,e){var i=l[t.charCodeAt(e)];return null==i?-1:i}function c(t){var e=n();return e.fromInt(t),e}function p(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function d(t){this.m=t}function f(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function g(t,e){return t&e}function y(t,e){return t|e}function v(t,e){return t^e}function m(t,e){return t&~e}function _(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function b(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function w(){}function x(t){return t}function T(t){this.r2=n(),this.q3=n(),i.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}d.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},d.prototype.revert=function(t){return t},d.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},d.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},d.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},f.prototype.convert=function(t){var e=n();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(i.ZERO)>0&&this.m.subTo(e,e),e},f.prototype.revert=function(t){var e=n();return t.copyTo(e),this.reduce(e),e},f.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var i=32767&t[e],n=i*this.mpl+((i*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[i=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},f.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},f.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},i.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},i.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},i.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var r=t.length,o=!1,a=0;--r>=0;){var s=8==n?255&t[r]:u(t,r);s<0?"-"==t.charAt(r)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&i.ZERO.subTo(this,this)},i.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},i.prototype.dlShiftTo=function(t,e){var i;for(i=this.t-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.t=this.t+t,e.s=this.s},i.prototype.drShiftTo=function(t,e){for(var i=t;i<this.t;++i)e[i-t]=this[i];e.t=Math.max(this.t-t,0),e.s=this.s},i.prototype.lShiftTo=function(t,e){var i,n=t%this.DB,r=this.DB-n,o=(1<<r)-1,a=Math.floor(t/this.DB),s=this.s<<n&this.DM;for(i=this.t-1;i>=0;--i)e[i+a+1]=this[i]>>r|s,s=(this[i]&o)<<n;for(i=a-1;i>=0;--i)e[i]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},i.prototype.rShiftTo=function(t,e){e.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)e.t=0;else{var n=t%this.DB,r=this.DB-n,o=(1<<n)-1;e[0]=this[i]>>n;for(var a=i+1;a<this.t;++a)e[a-i-1]|=(this[a]&o)<<r,e[a-i]=this[a]>>n;n>0&&(e[this.t-i-1]|=(this.s&o)<<r),e.t=this.t-i,e.clamp()}},i.prototype.subTo=function(t,e){for(var i=0,n=0,r=Math.min(t.t,this.t);i<r;)n+=this[i]-t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n-=t[i],e[i++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[i++]=this.DV+n:n>0&&(e[i++]=n),e.t=i,e.clamp()},i.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),o=n.t;for(e.t=o+r.t;--o>=0;)e[o]=0;for(o=0;o<r.t;++o)e[o+n.t]=n.am(0,r[o],e,o,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&i.ZERO.subTo(e,e)},i.prototype.squareTo=function(t){for(var e=this.abs(),i=t.t=2*e.t;--i>=0;)t[i]=0;for(i=0;i<e.t-1;++i){var n=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,n,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp()},i.prototype.divRemTo=function(t,e,r){var o=t.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=n());var s=n(),l=this.s,h=t.s,u=this.DB-p(o[o.t-1]);u>0?(o.lShiftTo(u,s),a.lShiftTo(u,r)):(o.copyTo(s),a.copyTo(r));var c=s.t,d=s[c-1];if(0!=d){var f=d*(1<<this.F1)+(c>1?s[c-2]>>this.F2:0),g=this.FV/f,y=(1<<this.F1)/f,v=1<<this.F2,m=r.t,_=m-c,b=null==e?n():e;for(s.dlShiftTo(_,b),r.compareTo(b)>=0&&(r[r.t++]=1,r.subTo(b,r)),i.ONE.dlShiftTo(c,b),b.subTo(s,s);s.t<c;)s[s.t++]=0;for(;--_>=0;){var w=r[--m]==d?this.DM:Math.floor(r[m]*g+(r[m-1]+v)*y);if((r[m]+=s.am(0,w,r,_,0,c))<w)for(s.dlShiftTo(_,b),r.subTo(b,r);r[m]<--w;)r.subTo(b,r)}null!=e&&(r.drShiftTo(c,e),l!=h&&i.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),l<0&&i.ZERO.subTo(r,r)}}},i.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},i.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},i.prototype.exp=function(t,e){if(t>4294967295||t<1)return i.ONE;var r=n(),o=n(),a=e.convert(this),s=p(t)-1;for(a.copyTo(r);--s>=0;)if(e.sqrTo(r,o),(t&1<<s)>0)e.mulTo(o,a,r);else{var l=r;r=o,o=l}return e.revert(r)},i.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,n=(1<<e)-1,r=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(i=this[a]>>s)>0&&(r=!0,o=h(i));a>=0;)s<e?(i=(this[a]&(1<<s)-1)<<e-s,i|=this[--a]>>(s+=this.DB-e)):(i=this[a]>>(s-=e)&n,s<=0&&(s+=this.DB,--a)),i>0&&(r=!0),r&&(o+=h(i));return r?o:"0"},i.prototype.negate=function(){var t=n();return i.ZERO.subTo(this,t),t},i.prototype.abs=function(){return this.s<0?this.negate():this},i.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var i=this.t;if(0!=(e=i-t.t))return this.s<0?-e:e;for(;--i>=0;)if(0!=(e=this[i]-t[i]))return e;return 0},i.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this[this.t-1]^this.s&this.DM)},i.prototype.mod=function(t){var e=n();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(i.ZERO)>0&&t.subTo(e,e),e},i.prototype.modPowInt=function(t,e){var i;return i=t<256||e.isEven()?new d(e):new f(e),this.exp(t,i)},i.ZERO=c(0),i.ONE=c(1),w.prototype.convert=x,w.prototype.revert=x,w.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i)},w.prototype.sqrTo=function(t,e){t.squareTo(e)},T.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=n();return t.copyTo(e),this.reduce(e),e},T.prototype.revert=function(t){return t},T.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},T.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},T.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var O,A,k,C=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],S=(1<<26)/C[C.length-1];function D(){var t;t=(new Date).getTime(),A[k++]^=255&t,A[k++]^=t>>8&255,A[k++]^=t>>16&255,A[k++]^=t>>24&255,k>=I&&(k-=I)}if(i.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},i.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),r=c(i),o=n(),a=n(),s="";for(this.divRemTo(r,o,a);o.signum()>0;)s=(i+a.intValue()).toString(t).substr(1)+s,o.divRemTo(r,o,a);return a.intValue().toString(t)+s},i.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),r=Math.pow(e,n),o=!1,a=0,s=0,l=0;l<t.length;++l){var h=u(t,l);h<0?"-"==t.charAt(l)&&0==this.signum()&&(o=!0):(s=e*s+h,++a>=n&&(this.dMultiply(r),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),o&&i.ZERO.subTo(this,this)},i.prototype.fromNumber=function(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(i.ONE.shiftLeft(t-1),y,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(i.ONE.shiftLeft(t-1),this);else{var r=new Array,o=7&t;r.length=1+(t>>3),e.nextBytes(r),o>0?r[0]&=(1<<o)-1:r[0]=0,this.fromString(r,256)}},i.prototype.bitwiseTo=function(t,e,i){var n,r,o=Math.min(t.t,this.t);for(n=0;n<o;++n)i[n]=e(this[n],t[n]);if(t.t<this.t){for(r=t.s&this.DM,n=o;n<this.t;++n)i[n]=e(this[n],r);i.t=this.t}else{for(r=this.s&this.DM,n=o;n<t.t;++n)i[n]=e(r,t[n]);i.t=t.t}i.s=e(this.s,t.s),i.clamp()},i.prototype.changeBit=function(t,e){var n=i.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n},i.prototype.addTo=function(t,e){for(var i=0,n=0,r=Math.min(t.t,this.t);i<r;)n+=this[i]+t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n+=t[i],e[i++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[i++]=n:n<-1&&(e[i++]=this.DV+n),e.t=i,e.clamp()},i.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},i.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},i.prototype.multiplyLowerTo=function(t,e,i){var n,r=Math.min(this.t+t.t,e);for(i.s=0,i.t=r;r>0;)i[--r]=0;for(n=i.t-this.t;r<n;++r)i[r+this.t]=this.am(0,t[r],i,r,0,this.t);for(n=Math.min(t.t,e);r<n;++r)this.am(0,t[r],i,r,0,e-r);i.clamp()},i.prototype.multiplyUpperTo=function(t,e,i){var n=i.t=this.t+t.t- --e;for(i.s=0;--n>=0;)i[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)i[this.t+n-e]=this.am(e-n,t[n],i,0,0,this.t+n-e);i.clamp(),i.drShiftTo(1,i)},i.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,i=this.s<0?t-1:0;if(this.t>0)if(0==e)i=this[0]%t;else for(var n=this.t-1;n>=0;--n)i=(e*i+this[n])%t;return i},i.prototype.millerRabin=function(t){var e=this.subtract(i.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var o=e.shiftRight(r);(t=t+1>>1)>C.length&&(t=C.length);for(var a=n(),s=0;s<t;++s){a.fromInt(C[Math.floor(Math.random()*C.length)]);var l=a.modPow(o,this);if(0!=l.compareTo(i.ONE)&&0!=l.compareTo(e)){for(var h=1;h++<r&&0!=l.compareTo(e);)if(0==(l=l.modPowInt(2,this)).compareTo(i.ONE))return!1;if(0!=l.compareTo(e))return!1}}return!0},i.prototype.clone=function(){var t=n();return this.copyTo(t),t},i.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},i.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},i.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},i.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},i.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var i,n=this.DB-t*this.DB%8,r=0;if(t-- >0)for(n<this.DB&&(i=this[t]>>n)!=(this.s&this.DM)>>n&&(e[r++]=i|this.s<<this.DB-n);t>=0;)n<8?(i=(this[t]&(1<<n)-1)<<8-n,i|=this[--t]>>(n+=this.DB-8)):(i=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&i)&&(i|=-256),0==r&&(128&this.s)!=(128&i)&&++r,(r>0||i!=this.s)&&(e[r++]=i);return e},i.prototype.equals=function(t){return 0==this.compareTo(t)},i.prototype.min=function(t){return this.compareTo(t)<0?this:t},i.prototype.max=function(t){return this.compareTo(t)>0?this:t},i.prototype.and=function(t){var e=n();return this.bitwiseTo(t,g,e),e},i.prototype.or=function(t){var e=n();return this.bitwiseTo(t,y,e),e},i.prototype.xor=function(t){var e=n();return this.bitwiseTo(t,v,e),e},i.prototype.andNot=function(t){var e=n();return this.bitwiseTo(t,m,e),e},i.prototype.not=function(){for(var t=n(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},i.prototype.shiftLeft=function(t){var e=n();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},i.prototype.shiftRight=function(t){var e=n();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},i.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+_(this[t]);return this.s<0?this.t*this.DB:-1},i.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,i=0;i<this.t;++i)t+=b(this[i]^e);return t},i.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},i.prototype.setBit=function(t){return this.changeBit(t,y)},i.prototype.clearBit=function(t){return this.changeBit(t,m)},i.prototype.flipBit=function(t){return this.changeBit(t,v)},i.prototype.add=function(t){var e=n();return this.addTo(t,e),e},i.prototype.subtract=function(t){var e=n();return this.subTo(t,e),e},i.prototype.multiply=function(t){var e=n();return this.multiplyTo(t,e),e},i.prototype.divide=function(t){var e=n();return this.divRemTo(t,e,null),e},i.prototype.remainder=function(t){var e=n();return this.divRemTo(t,null,e),e},i.prototype.divideAndRemainder=function(t){var e=n(),i=n();return this.divRemTo(t,e,i),new Array(e,i)},i.prototype.modPow=function(t,e){var i,r,o=t.bitLength(),a=c(1);if(o<=0)return a;i=o<18?1:o<48?3:o<144?4:o<768?5:6,r=o<8?new d(e):e.isEven()?new T(e):new f(e);var s=new Array,l=3,h=i-1,u=(1<<i)-1;if(s[1]=r.convert(this),i>1){var g=n();for(r.sqrTo(s[1],g);l<=u;)s[l]=n(),r.mulTo(g,s[l-2],s[l]),l+=2}var y,v,m=t.t-1,_=!0,b=n();for(o=p(t[m])-1;m>=0;){for(o>=h?y=t[m]>>o-h&u:(y=(t[m]&(1<<o+1)-1)<<h-o,m>0&&(y|=t[m-1]>>this.DB+o-h)),l=i;0==(1&y);)y>>=1,--l;if((o-=l)<0&&(o+=this.DB,--m),_)s[y].copyTo(a),_=!1;else{for(;l>1;)r.sqrTo(a,b),r.sqrTo(b,a),l-=2;l>0?r.sqrTo(a,b):(v=a,a=b,b=v),r.mulTo(b,s[y],a)}for(;m>=0&&0==(t[m]&1<<o);)r.sqrTo(a,b),v=a,a=b,b=v,--o<0&&(o=this.DB-1,--m)}return r.revert(a)},i.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return i.ZERO;for(var n=t.clone(),r=this.clone(),o=c(1),a=c(0),s=c(0),l=c(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;r.isEven();)r.rShiftTo(1,r),e?(s.isEven()&&l.isEven()||(s.addTo(this,s),l.subTo(t,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);n.compareTo(r)>=0?(n.subTo(r,n),e&&o.subTo(s,o),a.subTo(l,a)):(r.subTo(n,r),e&&s.subTo(o,s),l.subTo(a,l))}return 0!=r.compareTo(i.ONE)?i.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l},i.prototype.pow=function(t){return this.exp(t,new w)},i.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(e.compareTo(i)<0){var n=e;e=i,i=n}var r=e.getLowestSetBit(),o=i.getLowestSetBit();if(o<0)return e;for(r<o&&(o=r),o>0&&(e.rShiftTo(o,e),i.rShiftTo(o,i));e.signum()>0;)(r=e.getLowestSetBit())>0&&e.rShiftTo(r,e),(r=i.getLowestSetBit())>0&&i.rShiftTo(r,i),e.compareTo(i)>=0?(e.subTo(i,e),e.rShiftTo(1,e)):(i.subTo(e,i),i.rShiftTo(1,i));return o>0&&i.lShiftTo(o,i),i},i.prototype.isProbablePrime=function(t){var e,i=this.abs();if(1==i.t&&i[0]<=C[C.length-1]){for(e=0;e<C.length;++e)if(i[0]==C[e])return!0;return!1}if(i.isEven())return!1;for(e=1;e<C.length;){for(var n=C[e],r=e+1;r<C.length&&n<S;)n*=C[r++];for(n=i.modInt(n);e<r;)if(n%C[e++]==0)return!1}return i.millerRabin(t)},i.prototype.square=function(){var t=n();return this.squareTo(t),t},i.prototype.Barrett=T,null==A){var E;if(A=new Array,k=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var P=new Uint8Array(32);for(window.crypto.getRandomValues(P),E=0;E<32;++E)A[k++]=P[E]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var L=window.crypto.random(32);for(E=0;E<L.length;++E)A[k++]=255&L.charCodeAt(E)}for(;k<I;)E=Math.floor(65536*Math.random()),A[k++]=E>>>8,A[k++]=255&E;k=0,D()}function M(){if(null==O){for(D(),(O=new N).init(A),k=0;k<A.length;++k)A[k]=0;k=0}return O.next()}function R(){}function N(){this.i=0,this.j=0,this.S=new Array}R.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=M()},N.prototype.init=function(t){var e,i,n;for(e=0;e<256;++e)this.S[e]=e;for(i=0,e=0;e<256;++e)n=this.S[e],this.S[e]=this.S[i=i+this.S[e]+t[e%t.length]&255],this.S[i]=n;this.i=0,this.j=0},N.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var I=256;i.SecureRandom=R,i.BigInteger=i,t.exports=i}).call(e)}).BigInteger,vt={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},mt={sha256:dt};function _t(t,e){if(this.n=null,this.e=0,!(null!=t&&null!=e&&t.length>0&&e.length>0))throw new Error("Invalid key data");this.n=new yt(t,16),this.e=parseInt(e,16)}_t.prototype.verify=function(t,e){e=e.replace(/[^0-9a-f]|[\s\n]]/gi,"");var i=new yt(e,16);if(i.bitLength()>this.n.bitLength())throw new Error("Signature does not match with the key modulus.");var n=function(t){for(var e in vt){var i=vt[e],n=i.length;if(t.substring(0,n)===i)return{alg:e,hash:t.substring(n)}}return[]}(i.modPowInt(this.e,this.n).toString(16).replace(/^1f+00/,""));if(0===n.length)return!1;if(!mt.hasOwnProperty(n.alg))throw new Error("Hashing algorithm is not supported.");var r=mt[n.alg](t).toString();return n.hash===r};var bt=_t;function wt(t){var e=t.length%4;return 0===e?t:t+new Array(4-e+1).join("=")}function xt(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e}function Tt(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}function Ot(t){for(var e="",i=0;i<t.length;i++){var n=t[i].toString(16);e+=2===n.length?n:"0"+n}return e}var At={encodeString:function(t){return N(Tt(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}))).replace(/\+/g,"-").replace(/\//g,"_")},decodeToString:function(t){return t=wt(t).replace(/\-/g,"+").replace(/_/g,"/"),decodeURIComponent(xt(R(t)).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))},byteArrayToString:xt,stringToByteArray:Tt,padding:wt,byteArrayToHex:Ot,decodeToHEX:function(t){return Ot(R(wt(t)))},base64ToBase64Url:function(t){var e={"+":"-","/":"_","=":""};return t.replace(/[+\/=]/g,function(t){return e[t]})}},kt=i(function(t){var i,n;i=e,n=function(){function t(t,e){return(t=(t=(t=t.replace(/:\//g,"://")).replace(/([^:\s])\/+/g,"$1/")).replace(/\/(\?|&|#[^!])/g,"$1")).replace(/(\?.+)\?/g,"$1&")}return function(){var e=arguments;"object"==typeof arguments[0]&&(e=arguments[0]);var i=[].slice.call(e,0).join("/");return t(i)}},t.exports?t.exports=n():i.urljoin=n()});var Ct=function(t,e){var i=t.jwksURI||kt(t.iss,".well-known","jwks.json");return k.get(i).end(function(i,n){var r,o,a=null;if(i)return e(i);for(r=0;r<n.body.keys.length&&null===a;r++)(o=n.body.keys[r]).kid===t.kid&&(a=o);return e(null,function(t){return{modulus:At.decodeToHEX(t.n),exp:At.decodeToHEX(t.e)}}(a))})};function St(t){this.name="ConfigurationError",this.message=t||""}function Dt(t){this.name="TokenValidationError",this.message=t||""}St.prototype=Error.prototype,Dt.prototype=Error.prototype;var Et={ConfigurationError:St,TokenValidationError:Dt};function Pt(){}Pt.prototype.get=function(){return null},Pt.prototype.has=function(){return!1},Pt.prototype.set=function(){};var Lt=Pt,Mt=["RS256"];function Rt(t){var e=t||{};if(this.jwksCache=e.jwksCache||new Lt,this.expectedAlg=e.expectedAlg||"RS256",this.issuer=e.issuer,this.audience=e.audience,this.leeway=e.leeway||0,this.__disableExpirationCheck=e.__disableExpirationCheck||!1,this.jwksURI=e.jwksURI,this.leeway<0||this.leeway>60)throw new Et.ConfigurationError("The leeway should be positive and lower than a minute.");if(-1===Mt.indexOf(this.expectedAlg))throw new Et.ConfigurationError("Algorithm "+this.expectedAlg+" is not supported. (Expected algs: ["+Mt.join(",")+"])")}Rt.prototype.verify=function(t,e,i){var n=this.decode(t);if(n instanceof Error)return i(n,!1);var r=n.encoded.header+"."+n.encoded.payload,o=At.decodeToHEX(n.encoded.signature),a=n.header.alg,s=n.header.kid,l=n.payload.aud,h=n.payload.iss,u=n.payload.exp,c=n.payload.nbf,p=n.payload.nonce||null;if(this.issuer!==h)return i(new Et.TokenValidationError("Issuer "+h+" is not valid."),!1);if(this.audience!==l)return i(new Et.TokenValidationError("Audience "+l+" is not valid."),!1);if(this.expectedAlg!==a)return i(new Et.TokenValidationError("Algorithm "+a+" is not supported. (Expected algs: ["+Mt.join(",")+"])"),!1);if(p!==e)return i(new Et.TokenValidationError("Nonce does not match."),!1);var d=this.verifyExpAndNbf(u,c);return d?i(d,!1):this.getRsaVerifier(h,s,function(t,e){return t?i(t):e.verify(r,o)?i(null,n.payload):i(new Et.TokenValidationError("Invalid signature."))})},Rt.prototype.verifyExpAndNbf=function(t,e){var i=new Date,n=new Date(0),r=new Date(0);return this.__disableExpirationCheck?null:(n.setUTCSeconds(t+this.leeway),i>n?new Et.TokenValidationError("Expired token."):void 0===e?null:(r.setUTCSeconds(e-this.leeway),i<r?new Et.TokenValidationError("The token is not valid until later in the future. Please check your computed clock."):null))},Rt.prototype.verifyExpAndIat=function(t,e){var i=new Date,n=new Date(0),r=new Date(0);return this.__disableExpirationCheck?null:(n.setUTCSeconds(t+this.leeway),i>n?new Et.TokenValidationError("Expired token."):(r.setUTCSeconds(e-this.leeway),i<r?new Et.TokenValidationError("The token was issued in the future. Please check your computed clock."):null))},Rt.prototype.getRsaVerifier=function(t,e,i){var n=this,r=t+e;if(this.jwksCache.has(r)){var o=this.jwksCache.get(r);i(null,new bt(o.modulus,o.exp))}else Ct({jwksURI:this.jwksURI,iss:t,kid:e},function(t,e){return t?i(t):(n.jwksCache.set(r,e),i(null,new bt(e.modulus,e.exp)))})},Rt.prototype.decode=function(t){var e,i,n=t.split(".");if(3!==n.length)return new Et.TokenValidationError("Cannot decode a malformed JWT");try{e=JSON.parse(At.decodeToString(n[0])),i=JSON.parse(At.decodeToString(n[1]))}catch(r){return new Et.TokenValidationError("Token header or payload is not valid JSON")}return{header:e,payload:i,encoded:{header:n[0],payload:n[1],signature:n[2]}}},Rt.prototype.validateAccessToken=function(t,e,i,n){if(this.expectedAlg!==e)return n(new Et.TokenValidationError("Algorithm "+e+" is not supported. (Expected alg: "+this.expectedAlg+")"));var r=dt(t),o=gt.stringify(r),a=o.substring(0,o.length/2),s=gt.parse(a),l=ft.stringify(s);return n(At.base64ToBase64Url(l)!==i?new Et.TokenValidationError("Invalid access_token"):null)};var Nt=Rt;function It(t,e){this.plugins=e;for(var i=0;i<this.plugins.length;i++){if(this.plugins[i].version!==I.raw){var n="";throw this.plugins[i].constructor&&this.plugins[i].constructor.name&&(n=this.plugins[i].constructor.name),new Error("Plugin "+n+" version ("+this.plugins[i].version+") is not compatible with the SDK version ("+I.raw+")")}this.plugins[i].setWebAuth(t)}}It.prototype.get=function(t){for(var e=0;e<this.plugins.length;e++)if(this.plugins[e].supports(t))return this.plugins[e].init();return null};var Ft=function(t){var e=new Uint8Array(t),i=[],n="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~",r=Q.getWindow().crypto||Q.getWindow().msCrypto;if(!r)return null;for(var o=r.getRandomValues(e),a=0;a<o.length;a++)i.push(n[o[a]%n.length]);return i.join("")},Ht="com.auth0.auth.";function Ut(t){var e=t.transaction||{};this.namespace=e.namespace||Ht,this.keyLength=e.keyLength||32,this.storage=new ot(t),this.options=t}function jt(t){if(this.url=t.url,this.callback=t.callback,this.timeout=t.timeout||6e4,this.timeoutCallback=t.timeoutCallback||null,this.eventListenerType=t.eventListenerType||"message",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=t.eventValidator||{isValid:function(){return!0}},"function"!=typeof this.callback)throw new Error("options.callback must be a function")}function Bt(t){this.webAuth=t,this.warn=new nt(t.baseOptions)}function Vt(t,e){this.webAuth=t,this.baseOptions=e,this.request=new J(e),this.webMessageHandler=new Bt(t),this.storage=new ot(e)}function Yt(t,e){return["co/verifier",encodeURIComponent(t),encodeURIComponent(e)].join("/")}function qt(t,e){this.webAuth=t,this.baseOptions=e,this.crossOriginAuthentication=new Vt(t,this.baseOptions),this.warn=new nt({disableWarnings:!!e._disableDeprecationWarnings})}Ut.prototype.process=function(t){if(!t.responseType)throw new Error("responseType is required");var e=t.realm||t.connection,i=-1!==t.responseType.indexOf("id_token"),n=this.generateTransaction(t.appState,t.state,t.nonce,e,i);return t.state||(t.state=n.state),i&&!t.nonce&&(t.nonce=n.nonce),t},Ut.prototype.generateTransaction=function(t,e,i,n,r){return e=e||Ft(this.keyLength),i=i||(r?Ft(this.keyLength):null),Q.getWindow().location.host===this.options.domain||this.storage.setItem(this.namespace+e,{nonce:i,appState:t,state:e,lastUsedConnection:n},{expires:1/48}),{state:e,nonce:i}},Ut.prototype.getStoredTransaction=function(t){var e;return e=this.storage.getItem(this.namespace+t),this.clearTransaction(t),e},Ut.prototype.clearTransaction=function(t){this.storage.removeItem(this.namespace+t)},jt.prototype.init=function(){var t=this,e=Q.getWindow();switch(this.iframe=e.document.createElement("iframe"),this.iframe.style.display="none",this.proxyEventListener=function(e){t.eventListener(e)},this.eventListenerType){case"message":this.eventSourceObject=e;break;case"load":this.eventSourceObject=this.iframe;break;default:throw new Error("Unsupported event listener type: "+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),e.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout(function(){t.timeoutHandler()},this.timeout)},jt.prototype.eventListener=function(t){var e={event:t,sourceObject:this.eventSourceObject};this.eventValidator.isValid(e)&&(this.destroy(),this.callback(e))},jt.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},jt.prototype.destroy=function(){var t=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout(function(){t.eventSourceObject.removeEventListener(t.eventListenerType,t.proxyEventListener,!1),t.iframe.parentNode&&t.iframe.parentNode.removeChild(t.iframe)},0)},Bt.prototype.run=function(t,e){var i=this;t.responseMode="web_message",t.prompt="none";var n=Q.getOrigin(),r=Z.getOriginFromUrl(t.redirectUri);if(r&&n!==r)return e({error:"origin_mismatch",error_description:"The redirectUri's origin ("+r+") should match the window's origin ("+n+")."});!function(t,e,i){new jt({url:t,eventListenerType:"message",callback:function(t){i(null,t)},timeout:e.timeout,eventValidator:{isValid:function(t){return"authorization_response"===t.event.data.type&&e.state===t.event.data.response.state}},timeoutCallback:function(){i({error:"timeout",error_description:"Timeout during executing web_message communication",state:e.state})}}).init()}(this.webAuth.client.buildAuthorizeUrl(t),t,function(n,r){var o=n;return!n&&r.event.data.response.error&&(o=r.event.data.response),o?("consent_required"===o.error&&"localhost"===Q.getWindow().location.hostname&&i.warn.warning("Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients"),i.webAuth.transactionManager.clearTransaction(o.state),e(Z.pick(o,["error","error_description"]))):i.webAuth.validateAuthenticationResponse(t,r.event.data.response,e)})},Vt.prototype.login=function(t,e){var i=this,r=n(this.baseOptions.rootUrl,"/co/authenticate");t.username=t.username||t.email,delete t.email;var o={client_id:t.clientID||this.baseOptions.clientID,username:t.username};t.password&&(o.password=t.password),t.otp&&(o.otp=t.otp);var a=t.realm||this.baseOptions.realm;if(a){var s=t.credentialType||this.baseOptions.credentialType||"http://auth0.com/oauth/grant-type/password-realm";o.realm=a,o.credential_type=s}else o.credential_type="password";this.request.post(r).withCredentials().send(o).end(function(n,r){if(n){var o=n.response&&n.response.body||{error:"request_error",error_description:JSON.stringify(n)};return ht(e,{forceLegacyError:!0})(o)}var a=!0===t.popup;t=Z.blacklist(t,["password","credentialType","otp","popup"]);var s=Z.merge(t).with({loginTicket:r.body.login_ticket}),l=Yt(i.baseOptions.rootUrl,r.body.co_id);i.storage.setItem(l,r.body.co_verifier,{expires:1/96}),a?i.webMessageHandler.run(s,ht(e,{forceLegacyError:!0})):i.webAuth.authorize(s)})},Vt.prototype.callback=function(){var t=decodeURIComponent(function(t){var e=("&"+Q.getWindow().location.hash.substring(1)).split("&origin=");if(2===e.length)return e.pop().split("&").shift()}()),e=Q.getWindow(),i=this;e.addEventListener("message",function(t){if("co_verifier_request"===t.data.type){var e=Yt(t.origin,t.data.request.id),n=function(t,e){try{var i=t.getItem(e);return t.removeItem(e),i||""}catch(n){return""}}(i.storage,e);t.source.postMessage({type:"co_verifier_response",response:{verifier:n}},t.origin)}}),e.parent.postMessage({type:"ready"},t)},qt.prototype.loginWithCredentials=function(t,e){t.realm=t.realm||t.connection,delete t.connection,this.crossOriginAuthentication.login(t,e)},qt.prototype.signupAndLogin=function(t,e){var i=this;return this.webAuth.client.dbConnection.signup(t,function(n){return n?e(n):(t.realm=t.realm||t.connection,delete t.connection,i.webAuth.login(t,e))})};var Xt=i(function(t){var e=function(){var t="die";function e(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener&&t.addEventListener(e,i,!1)}function i(t,e,i){t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener&&t.removeEventListener(e,i,!1)}function n(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}var r=function(){if("undefined"==typeof navigator)return!1;var t=-1,e=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)):e.indexOf("Trident")>-1&&null!==new RegExp("rv:([0-9]{2,2}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)),t>=8}();return"undefined"!=typeof window&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage?{open:function(o,a){if(!a)throw"missing required callback argument";var s,l;o.url||(s="missing required 'url' parameter"),o.relay_url||(s="missing required 'relay_url' parameter"),s&&setTimeout(function(){a(s)},0),o.window_name||(o.window_name=null),o.window_features&&!function(){try{var t=navigator.userAgent;return-1!=t.indexOf("Fennec/")||-1!=t.indexOf("Firefox/")&&-1!=t.indexOf("Android")}catch(e){}return!1}()||(o.window_features=void 0);var h,u=o.origin||n(o.url);if(u!==n(o.relay_url))return setTimeout(function(){a("invalid arguments: origin of url and relay_url must match")},0);r&&((l=document.createElement("iframe")).setAttribute("src",o.relay_url),l.style.display="none",l.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(l),h=l.contentWindow);var c=o.popup||window.open(o.url,o.window_name,o.window_features);o.popup&&(c.location.href=o.url),h||(h=c);var p=setInterval(function(){c&&c.closed&&(f(),a&&(a("User closed the popup window"),a=null))},500),d=JSON.stringify({a:"request",d:o.params});function f(){if(l&&document.body.removeChild(l),l=void 0,p&&(p=clearInterval(p)),i(window,"message",g),i(window,"unload",f),c)try{c.close()}catch(e){h.postMessage(t,u)}c=h=void 0}function g(t){if(t.origin===u){try{var e=JSON.parse(t.data)}catch(s){if(a)return a(s);throw s}"ready"===e.a?h.postMessage(d,u):"error"===e.a?(f(),a&&(a(e.d),a=null)):"response"===e.a&&(f(),a&&(a(null,e.d),a=null))}}return e(window,"unload",f),e(window,"message",g),{close:f,focus:function(){if(c)try{c.focus()}catch(t){}}}},onOpen:function(n){var o="*",a=r?function(){for(var t=window.opener.frames,e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(i){}}():window.opener;if(!a)throw"can't find relay frame";function s(t){t=JSON.stringify(t),r?a.doPost(t,o):a.postMessage(t,o)}function l(e){if(e.data===t)try{window.close()}catch(i){}}e(r?a:window,"message",function t(e){var r;try{r=JSON.parse(e.data)}catch(a){}r&&"request"===r.a&&(i(window,"message",t),o=e.origin,n&&setTimeout(function(){n(o,r.d,function(t){n=void 0,s({a:"response",d:t})})},0))}),e(r?a:window,"message",l);try{s({a:"ready"})}catch(u){e(a,"load",function(t){s({a:"ready"})})}var h=function(){try{i(r?a:window,"message",l)}catch(t){}n&&s({a:"error",d:"client closed window"}),n=void 0;try{window.close()}catch(u){}};return e(window,"unload",h),{detach:function(){i(window,"unload",h)}}}}:{open:function(t,e,i,n){setTimeout(function(){n("unsupported browser")},0)},onOpen:function(t){setTimeout(function(){t("unsupported browser")},0)}}}();t.exports&&(t.exports=e)});function Wt(){this._current_popup=null}function zt(t,e){this.baseOptions=e,this.baseOptions.popupOrigin=e.popupOrigin,this.client=t.client,this.webAuth=t,this.transactionManager=new Ut(this.baseOptions),this.crossOriginAuthentication=new Vt(t,this.baseOptions),this.warn=new nt({disableWarnings:!!e._disableDeprecationWarnings})}function Zt(t){this.authenticationUrl=t.authenticationUrl,this.timeout=t.timeout||6e4,this.handler=null,this.postMessageDataType=t.postMessageDataType||!1,this.postMessageOrigin=t.postMessageOrigin||Q.getWindow().location.origin||Q.getWindow().location.protocol+"//"+Q.getWindow().location.hostname+(Q.getWindow().location.port?":"+Q.getWindow().location.port:"")}function Gt(t){this.baseOptions=t,this.request=new J(t),this.transactionManager=new Ut(this.baseOptions)}function Kt(t,e){this.baseOptions=e,this.client=t,this.baseOptions.universalLoginPage=!0,this.request=new J(this.baseOptions),this.warn=new nt({disableWarnings:!!e._disableDeprecationWarnings})}function Jt(t){B.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},popupOrigin:{optional:!0,type:"string",message:"popupOrigin is not valid"},leeway:{optional:!0,type:"number",message:"leeway is not valid"},plugins:{optional:!0,type:"array",message:"plugins is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"},_timesToRetryFailedRequests:{optional:!0,type:"number",message:"_timesToRetryFailedRequests option is not valid"}}),t.overrides&&B.check(t.overrides,{type:"object",message:"overrides option is not valid"},{__tenant:{optional:!0,type:"string",message:"__tenant option is required"},__token_issuer:{optional:!0,type:"string",message:"__token_issuer option is required"},__jwks_uri:{optional:!0,type:"string",message:"__jwks_uri is required"}}),this.baseOptions=t,this.baseOptions.plugins=new It(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=t._timesToRetryFailedRequests?parseInt(t._timesToRetryFailedRequests,0):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(".")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||"https://"+this.baseOptions.domain+"/",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,this.transactionManager=new Ut(this.baseOptions),this.client=new te(this.baseOptions),this.redirect=new qt(this,this.baseOptions),this.popup=new zt(this,this.baseOptions),this.crossOriginAuthentication=new Vt(this,this.baseOptions),this.webMessageHandler=new Bt(this),this._universalLogin=new Kt(this,this.baseOptions),this.ssodataStorage=new at(this.baseOptions)}function $t(t,e){this.baseOptions=e,this.request=t}function Qt(t,e){this.baseOptions=e,this.request=t}function te(t,e){2===arguments.length?this.auth0=t:e=t,B.check(e,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=e,this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl="https://"+this.baseOptions.domain,this.request=new J(this.baseOptions),this.passwordless=new $t(this.request,this.baseOptions),this.dbConnection=new Qt(this.request,this.baseOptions),this.warn=new nt({disableWarnings:!!e._disableDeprecationWarnings}),this.ssodataStorage=new at(this.baseOptions)}function ee(t){B.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=t,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new J(this.baseOptions),this.baseOptions.rootUrl=n("https://"+this.baseOptions.domain,"api","v2")}Wt.prototype.calculatePosition=function(t){var e=t.width||500,i=t.height||600,n=Q.getWindow();return{width:e,height:i,left:(void 0!==n.screenX?n.screenX:n.screenLeft)+((void 0!==n.outerWidth?n.outerWidth:n.document.body.clientWidth)-e)/2,top:(void 0!==n.screenY?n.screenY:n.screenTop)+((void 0!==n.outerHeight?n.outerHeight:n.document.body.clientHeight)-i)/2}},Wt.prototype.preload=function(t){var e=this,i=Q.getWindow(),n=this.calculatePosition(t.popupOptions||{}),r=Z.merge(n).with(t.popupOptions),o=t.url||"about:blank",a=y(r,{encode:!1,delimiter:","});return this._current_popup&&!this._current_popup.closed?this._current_popup:(this._current_popup=i.open(o,"auth0_signup_popup",a),this._current_popup.kill=function(){this.close(),e._current_popup=null},this._current_popup)},Wt.prototype.load=function(t,e,i,n){var r=this,o=this.calculatePosition(i.popupOptions||{}),a=Z.merge(o).with(i.popupOptions),s=Z.merge({url:t,relay_url:e,window_features:y(a,{delimiter:",",encode:!1}),popup:this._current_popup}).with(i),l=Xt.open(s,function(t,e){return r._current_popup=null,n(t,e)});return l.focus(),l},zt.prototype.buildPopupHandler=function(){var t=this.baseOptions.plugins.get("popup.getPopupHandler");return t?t.getPopupHandler():new Wt},zt.prototype.preload=function(t){t=t||{};var e=this.buildPopupHandler();return e.preload(t),e},zt.prototype.getPopupHandler=function(t,e){return t.popupHandler?t.popupHandler:e?this.preload(t):this.buildPopupHandler()},zt.prototype.callback=function(t){var e=this,i=Q.getWindow(),n=(t=t||{}).popupOrigin||this.baseOptions.popupOrigin||Q.getOrigin();i.opener?Xt.onOpen(function(i,r,o){if(i!==n)return o({error:"origin_mismatch",error_description:"The popup's origin ("+i+") should match the `popupOrigin` parameter ("+n+")."});e.webAuth.parseHash(t||{},function(t,e){return o(t||e)})}):i.doPost=function(t){i.parent&&i.parent.postMessage(t,n)}},zt.prototype.authorize=function(t,e){var i,r,o={},a=this.baseOptions.plugins.get("popup.authorize"),s=Z.merge(this.baseOptions,["clientID","scope","domain","audience","tenant","responseType","redirectUri","_csrf","state","_intstate","nonce"]).with(Z.blacklist(t,["popupHandler"]));return B.check(s,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),r=n(this.baseOptions.rootUrl,"relay.html"),t.owp?s.owp=!0:(o.origin=function(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[-_a-zA-Z.0-9:]+)/.exec(t);return e?e[1]:t}(s.redirectUri),r=s.redirectUri),t.popupOptions&&(o.popupOptions=Z.pick(t.popupOptions,["width","height"])),a&&(s=a.processParams(s)),(s=this.transactionManager.process(s)).scope=s.scope||"openid profile email",delete s.domain,i=this.client.buildAuthorizeUrl(s),this.getPopupHandler(t).load(i,r,o,ht(e,{keepOriginalCasing:!0}))},zt.prototype.loginWithCredentials=function(t,e){t.realm=t.realm||t.connection,t.popup=!0,t=Z.merge(this.baseOptions,["redirectUri","responseType","state","nonce"]).with(Z.blacklist(t,["popupHandler","connection"])),t=this.transactionManager.process(t),this.crossOriginAuthentication.login(t,e)},zt.prototype.passwordlessVerify=function(t,e){var i=this;return this.client.passwordless.verify(Z.blacklist(t,["popupHandler"]),function(n){if(n)return e(n);t.username=t.phoneNumber||t.email,t.password=t.verificationCode,delete t.email,delete t.phoneNumber,delete t.verificationCode,delete t.type,i.client.loginWithResourceOwner(t,e)})},zt.prototype.signupAndLogin=function(t,e){var i=this,n=this.getPopupHandler(t,!0);return t.popupHandler=n,this.client.dbConnection.signup(Z.blacklist(t,["popupHandler"]),function(r){if(r)return n._current_popup&&n._current_popup.kill(),e(r);i.loginWithCredentials(t,e)})},Zt.create=function(t){return new Zt(t)},Zt.prototype.login=function(t,e){this.handler=new jt({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:t?"message":"load",callback:this.getCallbackHandler(e,t),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){e(null,"#error=timeout&error_description=Timeout+during+authentication+renew.")},usePostMessage:t||!1}),this.handler.init()},Zt.prototype.getEventValidator=function(){var t=this;return{isValid:function(e){switch(e.event.type){case"message":return e.event.origin===t.postMessageOrigin&&e.event.source===t.handler.iframe.contentWindow&&(!1===t.postMessageDataType||e.event.data.type&&e.event.data.type===t.postMessageDataType);case"load":if("about:"===e.sourceObject.contentWindow.location.protocol)return!1;default:return!0}}}},Zt.prototype.getCallbackHandler=function(t,e){return function(i){t(null,e?"object"==typeof i.event.data&&i.event.data.hash?i.event.data.hash:i.event.data:i.sourceObject.contentWindow.location.hash)}},Gt.prototype.login=function(t,e){var i,r;return i=n(this.baseOptions.rootUrl,"usernamepassword","login"),t.username=t.username||t.email,t=Z.blacklist(t,["email"]),r=Z.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience"]).with(t),r=this.transactionManager.process(r),r=Z.toSnakeCase(r,["auth0Client"]),this.request.post(i).send(r).end(ht(e))},Gt.prototype.callback=function(t){var e,i=Q.getDocument();(e=i.createElement("div")).innerHTML=t,i.body.appendChild(e).children[0].submit()},Kt.prototype.login=function(t,e){if(Q.getWindow().location.host!==this.baseOptions.domain)throw new Error("This method is meant to be used only inside the Universal Login Page.");var i,n=Z.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return B.check(n,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(i=new Gt(this.baseOptions)).login(n,function(t,n){return t?e(t):i.callback(n)})},Kt.prototype.signupAndLogin=function(t,e){var i=this;return i.client.client.dbConnection.signup(t,function(n){return n?e(n):i.login(t,e)})},Kt.prototype.getSSOData=function(t,e){var i,r="";return"function"==typeof t&&(e=t,t=!1),B.check(t,{type:"boolean",message:"withActiveDirectories parameter is not valid"}),B.check(e,{type:"function",message:"cb parameter is not valid"}),t&&(r="?"+y({ldaps:1,client_id:this.baseOptions.clientID})),i=n(this.baseOptions.rootUrl,"user","ssodata",r),this.request.get(i,{noHeaders:!0}).withCredentials().end(ht(e))},Jt.prototype.parseHash=function(t,e){var i,n;e||"function"!=typeof t?t=t||{}:(e=t,t={});var o=Q.getWindow(),a=void 0===t.hash?o.location.hash:t.hash;if((i=function(t,e){var i={};if(null!=i.decoder&&"function"!=typeof i.decoder)throw new TypeError("Decoder has to be a function.");if(i.delimiter="string"==typeof i.delimiter||r.isRegExp(i.delimiter)?i.delimiter:d.delimiter,i.depth="number"==typeof i.depth?i.depth:d.depth,i.arrayLimit="number"==typeof i.arrayLimit?i.arrayLimit:d.arrayLimit,i.parseArrays=!1!==i.parseArrays,i.decoder="function"==typeof i.decoder?i.decoder:d.decoder,i.allowDots="boolean"==typeof i.allowDots?i.allowDots:d.allowDots,i.plainObjects="boolean"==typeof i.plainObjects?i.plainObjects:d.plainObjects,i.allowPrototypes="boolean"==typeof i.allowPrototypes?i.allowPrototypes:d.allowPrototypes,i.parameterLimit="number"==typeof i.parameterLimit?i.parameterLimit:d.parameterLimit,i.strictNullHandling="boolean"==typeof i.strictNullHandling?i.strictNullHandling:d.strictNullHandling,""===t||null==t)return i.plainObjects?Object.create(null):{};for(var n="string"==typeof t?function(t,e){for(var i={},n=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),r=0;r<n.length;++r){var o,a,s=n[r],l=-1===s.indexOf("]=")?s.indexOf("="):s.indexOf("]=")+1;-1===l?(o=e.decoder(s),a=e.strictNullHandling?null:""):(o=e.decoder(s.slice(0,l)),a=e.decoder(s.slice(l+1))),i[o]=p.call(i,o)?[].concat(i[o]).concat(a):a}return i}(t,i):t,o=i.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var l=a[s],h=g(l,n[l],i);o=r.merge(o,h,i)}return r.compact(o)}(a=a.replace(/^#?\/?/,""))).hasOwnProperty("error"))return n=lt.buildResponse(i.error,i.error_description),i.state&&(n.state=i.state),e(n);if(!i.hasOwnProperty("access_token")&&!i.hasOwnProperty("id_token")&&!i.hasOwnProperty("refresh_token"))return e(null,null);var s=(this.baseOptions.responseType||t.responseType||"").split(" ");return s.length>0&&-1!==s.indexOf("token")&&!i.hasOwnProperty("access_token")?e(lt.buildResponse("invalid_hash","response_type contains `token`, but the parsed hash does not contain an `access_token` property")):s.length>0&&-1!==s.indexOf("id_token")&&!i.hasOwnProperty("id_token")?e(lt.buildResponse("invalid_hash","response_type contains `id_token`, but the parsed hash does not contain an `id_token` property")):this.validateAuthenticationResponse(t,i,e)},Jt.prototype.validateAuthenticationResponse=function(t,e,i){var n=this;t.__enableIdPInitiatedLogin=t.__enableIdPInitiatedLogin||t.__enableImpersonation;var r=e.state,o=this.transactionManager.getStoredTransaction(r),a=t.state||o&&o.state||null;if((r||a||!t.__enableIdPInitiatedLogin)&&a!==r)return i({error:"invalid_token",errorDescription:"`state` does not match."});var s=t.state||o&&o.appState||null,l=function(t,r){return t?i(t):(o&&o.lastUsedConnection&&(r&&(a=r.sub),n.ssodataStorage.set(o.lastUsedConnection,a)),i(null,function(t,e,i){return{accessToken:t.access_token||null,idToken:t.id_token||null,idTokenPayload:r||null,appState:e||null,refreshToken:t.refresh_token||null,state:t.state||null,expiresIn:t.expires_in?parseInt(t.expires_in,10):null,tokenType:t.token_type||null,scope:t.scope||null}}(e,s)));var a};return e.id_token?this.validateToken(e.id_token,t.nonce||o&&o.nonce||null,function(t,i){return t?"invalid_token"!==t.error||"Nonce does not match."===t.errorDescription?l(t):"HS256"!==(new Nt).decode(e.id_token).header.alg?l(t):e.access_token?n.client.userInfo(e.access_token,function(t,e){return t?l(t):l(null,e)}):l({error:"invalid_token",description:"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) can\u2019t store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token"}):e.access_token&&i.at_hash?(new Nt).validateAccessToken(e.access_token,"RS256",i.at_hash,function(t){return t?l(lt.invalidToken(t.message)):l(null,i)}):l(null,i)}):l(null,null)},Jt.prototype.validateToken=function(t,e,i){new Nt({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||0,__disableExpirationCheck:this.baseOptions.__disableExpirationCheck}).verify(t,e,function(t,e){if(t)return i(lt.invalidToken(t.message));i(null,e)})},Jt.prototype.renewAuth=function(t,e){var i=!!t.usePostMessage,n=t.postMessageDataType||!1,r=t.postMessageOrigin||Q.getWindow().origin,o=t.timeout,a=this,s=Z.merge(this.baseOptions,["clientID","redirectUri","responseType","scope","audience","_csrf","state","_intstate","nonce"]).with(t);s.responseType=s.responseType||"token",s.responseMode=s.responseMode||"fragment",s=this.transactionManager.process(s),B.check(s,{type:"object",message:"options parameter is not valid"}),B.check(e,{type:"function",message:"cb parameter is not valid"}),s.prompt="none",s=Z.blacklist(s,["usePostMessage","tenant","postMessageDataType","postMessageOrigin"]),Zt.create({authenticationUrl:this.client.buildAuthorizeUrl(s),postMessageDataType:n,postMessageOrigin:r,timeout:o}).login(i,function(t,i){if("object"==typeof i)return e(t,i);a.parseHash({hash:i},e)})},Jt.prototype.checkSession=function(t,e){var i=Z.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return"code"===i.responseType?e({error:"error",error_description:"responseType can't be `code`"}):(t.nonce||(i=this.transactionManager.process(i)),i.redirectUri?(B.check(i,{type:"object",message:"options parameter is not valid"}),B.check(e,{type:"function",message:"cb parameter is not valid"}),i=Z.blacklist(i,["usePostMessage","tenant","postMessageDataType"]),void this.webMessageHandler.run(i,e)):e({error:"error",error_description:"redirectUri can't be empty"}))},Jt.prototype.changePassword=function(t,e){return this.client.dbConnection.changePassword(t,e)},Jt.prototype.passwordlessStart=function(t,e){var i=Z.merge(this.baseOptions,["responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t.authParams);return t.authParams=this.transactionManager.process(i),this.client.passwordless.start(t,e)},Jt.prototype.signup=function(t,e){return this.client.dbConnection.signup(t,e)},Jt.prototype.authorize=function(t){var e=Z.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);B.check(e,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(e=this.transactionManager.process(e)).scope=e.scope||"openid profile email",Q.redirect(this.client.buildAuthorizeUrl(e))},Jt.prototype.signupAndAuthorize=function(t,e){var i=this;return this.client.dbConnection.signup(Z.blacklist(t,["popupHandler"]),function(n){if(n)return e(n);t.realm=t.connection,t.username||(t.username=t.email),i.client.login(t,e)})},Jt.prototype.login=function(t,e){var i=Z.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);i=this.transactionManager.process(i),Q.getWindow().location.host===this.baseOptions.domain?(i.connection=i.realm,delete i.realm,this._universalLogin.login(i,e)):this.crossOriginAuthentication.login(i,e)},Jt.prototype.passwordlessLogin=function(t,e){var i=Z.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);if(i=this.transactionManager.process(i),Q.getWindow().location.host===this.baseOptions.domain)this.passwordlessVerify(i,e);else{var n=Z.extend({credentialType:"http://auth0.com/oauth/grant-type/passwordless/otp",realm:i.connection,username:i.email||i.phoneNumber,otp:i.verificationCode},Z.blacklist(i,["connection","email","phoneNumber","verificationCode"]));this.crossOriginAuthentication.login(n,e)}},Jt.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},Jt.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},Jt.prototype.logout=function(t){Q.redirect(this.client.buildLogoutUrl(t))},Jt.prototype.passwordlessVerify=function(t,e){var i=this,n=Z.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return B.check(n,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),n=this.transactionManager.process(n),this.client.passwordless.verify(n,function(t){return t?e(t):Q.redirect(i.client.passwordless.buildVerifyUrl(n))})},$t.prototype.buildVerifyUrl=function(t){var e,i;return B.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(t){return!t.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(t){return!t.phoneNumber}}}),e=Z.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","protocol","nonce"]).with(t),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e=Z.toSnakeCase(e,["auth0Client"]),i=y(e),n(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+i)},$t.prototype.start=function(t,e){var i,r;return B.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},send:{type:"string",message:"send option is required",values:["link","code"],value_message:"send is not valid ([link, code])"},phoneNumber:{optional:!0,type:"string",message:"phoneNumber option is required",condition:function(t){return"code"===t.send||!t.email}},email:{optional:!0,type:"string",message:"email option is required",condition:function(t){return"link"===t.send||!t.phoneNumber}},authParams:{optional:!0,type:"object",message:"authParams option is required"}}),B.check(e,{type:"function",message:"cb parameter is not valid"}),i=n(this.baseOptions.rootUrl,"passwordless","start"),(r=Z.merge(this.baseOptions,["clientID","responseType","redirectUri","scope"]).with(t)).scope&&(r.authParams=r.authParams||{},r.authParams.scope=r.scope),r.redirectUri&&(r.authParams=r.authParams||{},r.authParams.redirect_uri=r.redirectUri),r.responseType&&(r.authParams=r.authParams||{},r.authParams.response_type=r.responseType),delete r.redirectUri,delete r.responseType,delete r.scope,r=Z.toSnakeCase(r,["auth0Client","authParams"]),this.request.post(i).send(r).end(ht(e))},$t.prototype.verify=function(t,e){var i,r;return B.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(t){return!t.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(t){return!t.phoneNumber}}}),B.check(e,{type:"function",message:"cb parameter is not valid"}),r=Z.pick(t,["connection","verificationCode","phoneNumber","email","auth0Client"]),r=Z.toSnakeCase(r,["auth0Client"]),i=n(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(i).send(r).end(ht(e))},Qt.prototype.signup=function(t,e){var i,r,o;return B.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),B.check(e,{type:"function",message:"cb parameter is not valid"}),i=n(this.baseOptions.rootUrl,"dbconnections","signup"),o=(r=Z.merge(this.baseOptions,["clientID"]).with(t)).user_metadata||r.userMetadata,r=Z.blacklist(r,["scope","userMetadata","user_metadata"]),r=Z.toSnakeCase(r,["auth0Client"]),o&&(r.user_metadata=o),this.request.post(i).send(r).end(ht(e))},Qt.prototype.changePassword=function(t,e){var i,r;return B.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),B.check(e,{type:"function",message:"cb parameter is not valid"}),i=n(this.baseOptions.rootUrl,"dbconnections","change_password"),r=Z.merge(this.baseOptions,["clientID"]).with(t,["email","connection"]),r=Z.toSnakeCase(r,["auth0Client"]),this.request.post(i).send(r).end(ht(e))},te.prototype.buildAuthorizeUrl=function(t){var e,i;return B.check(t,{type:"object",message:"options parameter is not valid"}),e=Z.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience"]).with(t),B.check(e,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},redirectUri:{optional:!0,type:"string",message:"redirectUri option is required"},responseType:{type:"string",message:"responseType option is required"},nonce:{type:"string",message:"nonce option is required",condition:function(t){return-1===t.responseType.indexOf("code")&&-1!==t.responseType.indexOf("id_token")}},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e.connection_scope&&B.isArray(e.connection_scope)&&(e.connection_scope=e.connection_scope.join(",")),e=Z.blacklist(e,["username","popupOptions","domain","tenant","timeout"]),e=Z.toSnakeCase(e,["auth0Client"]),e=function(t,e){var i=Z.getKeysNotIn(e,ct);return i.length>0&&t.warning("Following parameters are not allowed on the `/authorize` endpoint: ["+i.join(",")+"]"),e}(this.warn,e),i=y(e),n(this.baseOptions.rootUrl,"authorize","?"+i)},te.prototype.buildLogoutUrl=function(t){var e,i;return B.check(t,{optional:!0,type:"object",message:"options parameter is not valid"}),e=Z.merge(this.baseOptions,["clientID"]).with(t||{}),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e=Z.toSnakeCase(e,["auth0Client","returnTo"]),i=y(Z.blacklist(e,["federated"])),t&&void 0!==t.federated&&!1!==t.federated&&"false"!==t.federated&&(i+="&federated"),n(this.baseOptions.rootUrl,"v2","logout","?"+i)},te.prototype.loginWithDefaultDirectory=function(t,e){return B.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),t.grantType="password",this.oauthToken(t,e)},te.prototype.login=function(t,e){return B.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},realm:{type:"string",message:"realm option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),t.grantType="http://auth0.com/oauth/grant-type/password-realm",this.oauthToken(t,e)},te.prototype.oauthToken=function(t,e){var i,r;return B.check(t,{type:"object",message:"options parameter is not valid"}),B.check(e,{type:"function",message:"cb parameter is not valid"}),i=n(this.baseOptions.rootUrl,"oauth","token"),r=Z.merge(this.baseOptions,["clientID","scope","audience"]).with(t),B.check(r,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},grantType:{type:"string",message:"grantType option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),r=function(t,e){return Z.pick(e,ut)}(0,r=Z.toSnakeCase(r,["auth0Client"])),this.request.post(i).send(r).end(ht(e))},te.prototype.loginWithResourceOwner=function(t,e){var i,r;return B.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{optional:!0,type:"string",message:"scope option is required"}}),B.check(e,{type:"function",message:"cb parameter is not valid"}),i=n(this.baseOptions.rootUrl,"oauth","ro"),r=Z.merge(this.baseOptions,["clientID","scope"]).with(t,["username","password","scope","connection","device"]),(r=Z.toSnakeCase(r,["auth0Client"])).grant_type=r.grant_type||"password",this.request.post(i).send(r).end(ht(e))},te.prototype.getSSOData=function(t,e){if(this.auth0||(this.auth0=new Jt(this.baseOptions)),Q.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(t,e);"function"==typeof t&&(e=t),B.check(e,{type:"function",message:"cb parameter is not valid"});var i=this.baseOptions.clientID,n=this.ssodataStorage.get()||{};this.auth0.checkSession({responseType:"token id_token",scope:"openid profile email",connection:n.lastUsedConnection,timeout:5e3},function(t,r){return t?"login_required"===t.error?e(null,{sso:!1}):("consent_required"===t.error&&(t.error_description="Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`."),e(t,{sso:!1})):n.lastUsedSub&&n.lastUsedSub!==r.idTokenPayload.sub?e(t,{sso:!1}):e(null,{lastUsedConnection:{name:n.lastUsedConnection},lastUsedUserID:r.idTokenPayload.sub,lastUsedUsername:r.idTokenPayload.email||r.idTokenPayload.name,lastUsedClientID:i,sessionClients:[i],sso:!0})})},te.prototype.userInfo=function(t,e){var i;return B.check(t,{type:"string",message:"accessToken parameter is not valid"}),B.check(e,{type:"function",message:"cb parameter is not valid"}),i=n(this.baseOptions.rootUrl,"userinfo"),this.request.get(i).set("Authorization","Bearer "+t).end(ht(e,{ignoreCasing:!0}))},te.prototype.delegation=function(t,e){var i,r;return B.check(t,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),B.check(e,{type:"function",message:"cb parameter is not valid"}),i=n(this.baseOptions.rootUrl,"delegation"),r=Z.merge(this.baseOptions,["clientID"]).with(t),r=Z.toSnakeCase(r,["auth0Client"]),this.request.post(i).send(r).end(ht(e))},te.prototype.getUserCountry=function(t){var e;return B.check(t,{type:"function",message:"cb parameter is not valid"}),e=n(this.baseOptions.rootUrl,"user","geoloc","country"),this.request.get(e).end(ht(t))},ee.prototype.getUser=function(t,e){var i;return B.check(t,{type:"string",message:"userId parameter is not valid"}),B.check(e,{type:"function",message:"cb parameter is not valid"}),i=n(this.baseOptions.rootUrl,"users",t),this.request.get(i).end(ht(e,{ignoreCasing:!0}))},ee.prototype.patchUserMetadata=function(t,e,i){var r;return B.check(t,{type:"string",message:"userId parameter is not valid"}),B.check(e,{type:"object",message:"userMetadata parameter is not valid"}),B.check(i,{type:"function",message:"cb parameter is not valid"}),r=n(this.baseOptions.rootUrl,"users",t),this.request.patch(r).send({user_metadata:e}).end(ht(i,{ignoreCasing:!0}))},ee.prototype.linkUser=function(t,e,i){var r;return B.check(t,{type:"string",message:"userId parameter is not valid"}),B.check(e,{type:"string",message:"secondaryUserToken parameter is not valid"}),B.check(i,{type:"function",message:"cb parameter is not valid"}),r=n(this.baseOptions.rootUrl,"users",t,"identities"),this.request.post(r).send({link_with:e}).end(ht(i,{ignoreCasing:!0}))};var ie={Authentication:te,Management:ee,WebAuth:Jt,version:I};t.Authentication=te,t.Management=ee,t.WebAuth=Jt,t.version=I,t.default=ie,Object.defineProperty(t,"__esModule",{value:!0})}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Dygraph=t()}(function(){return function t(e,i,n){function r(a,s){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){return r(e[a][1][t]||t)},u,u.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(t,e,i){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function a(){g&&d&&(g=!1,d.length?f=d.concat(f):y=-1,f.length&&s())}function s(){if(!g){var t=o(a);g=!0;for(var e=f.length;e;){for(d=f,f=[];++y<e;)d&&d[y].run();y=-1,e=f.length}d=null,g=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function h(){}var u,c,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(t){c=r}}();var d,f=[],g=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];f.push(new l(t,e)),1!==f.length||g||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=h,p.addListener=h,p.once=h,p.off=h,p.removeListener=h,p.removeAllListeners=h,p.emit=h,p.prependListener=h,p.prependOnceListener=h,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./bars"),r=function(){};(r.prototype=new(n&&n.__esModule?n:{default:n}).default).extractSeries=function(t,e,i){for(var n,r,o,a=[],s=i.get("logscale"),l=0;l<t.length;l++)n=t[l][0],o=t[l][e],s&&null!==o&&(o[0]<=0||o[1]<=0||o[2]<=0)&&(o=null),null!==o?null===(r=o[1])||isNaN(r)?a.push([n,r,[r,r]]):a.push([n,r,[o[0],o[2]]]):a.push([n,null,[null,null]]);return a},r.prototype.rollingAverage=function(t,e,i){e=Math.min(e,t.length);var n,r,o,a,s,l,h,u=[];for(r=0,a=0,o=0,s=0,l=0;l<t.length;l++){if(n=t[l][1],h=t[l][2],u[l]=t[l],null===n||isNaN(n)||(r+=h[0],a+=n,o+=h[1],s+=1),l-e>=0){var c=t[l-e];null===c[1]||isNaN(c[1])||(r-=c[2][0],a-=c[1],o-=c[2][1],s-=1)}u[l]=s?[t[l][0],1*a/s,[1*r/s,1*o/s]]:[t[l][0],null,[null,null]]}return u},i.default=r,e.exports=i.default},{"./bars":5}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./bars"),r=function(){};(r.prototype=new(n&&n.__esModule?n:{default:n}).default).extractSeries=function(t,e,i){for(var n,r,o,a,s=[],l=i.get("sigma"),h=i.get("logscale"),u=0;u<t.length;u++)n=t[u][0],a=t[u][e],h&&null!==a&&(a[0]<=0||a[0]-l*a[1]<=0)&&(a=null),null!==a?null===(r=a[0])||isNaN(r)?s.push([n,r,[r,r,r]]):s.push([n,r,[r-(o=l*a[1]),r+o,a[1]]]):s.push([n,null,[null,null,null]]);return s},r.prototype.rollingAverage=function(t,e,i){e=Math.min(e,t.length);var n,r,o,a,s,l,h,u,c,p=[],d=i.get("sigma");for(n=0;n<t.length;n++){for(s=0,u=0,l=0,r=Math.max(0,n-e+1);r<n+1;r++)null===(o=t[r][1])||isNaN(o)||(l++,s+=o,u+=Math.pow(t[r][2][2],2));l?(h=Math.sqrt(u)/l,p[n]=[t[n][0],c=s/l,[c-d*h,c+d*h]]):p[n]=[t[n][0],a=1==e?t[n][1]:null,[a,a]]}return p},i.default=r,e.exports=i.default},{"./bars":5}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./bars"),r=function(){};(r.prototype=new(n&&n.__esModule?n:{default:n}).default).extractSeries=function(t,e,i){for(var n,r,o,a,s,l,h,u,c=[],p=i.get("sigma"),d=i.get("logscale"),f=0;f<t.length;f++)n=t[f][0],o=t[f][e],d&&null!==o&&(o[0]<=0||o[1]<=0)&&(o=null),null!==o?(s=o[1],null===(a=o[0])||isNaN(a)?c.push([n,a,[a,a,a,s]]):(l=s?a/s:0,h=s?p*Math.sqrt(l*(1-l)/s):1,c.push([n,r=100*l,[r-(u=100*h),r+u,a,s]]))):c.push([n,null,[null,null,null,null]]);return c},r.prototype.rollingAverage=function(t,e,i){e=Math.min(e,t.length);var n,r,o=[],a=i.get("sigma"),s=i.get("wilsonInterval"),l=0,h=0;for(n=0;n<t.length;n++){l+=t[n][2][2],h+=t[n][2][3],n-e>=0&&(l-=t[n-e][2][2],h-=t[n-e][2][3]);var u=t[n][0],c=h?l/h:0;if(s)if(h){var p=c<0?0:c,d=a*Math.sqrt(p*(1-p)/h+a*a/(4*h*h)),f=1+a*a/h;o[n]=[u,100*p,[(p+a*a/(2*h)-d)/f*100,(p+a*a/(2*h)+d)/f*100]]}else o[n]=[u,0,[0,0]];else r=h?a*Math.sqrt(c*(1-c)/h):1,o[n]=[u,100*c,[100*(c-r),100*(c+r)]]}return o},i.default=r,e.exports=i.default},{"./bars":5}],5:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var r=n(t("./datahandler")),o=n(t("../dygraph-layout")),a=function(){r.default.call(this)};(a.prototype=new r.default).extractSeries=function(t,e,i){},a.prototype.rollingAverage=function(t,e,i){},a.prototype.onPointsCreated_=function(t,e){for(var i=0;i<t.length;++i){var n=t[i],o=e[i];o.y_top=NaN,o.y_bottom=NaN,o.yval_minus=r.default.parseFloat(n[2][0]),o.yval_plus=r.default.parseFloat(n[2][1])}},a.prototype.getExtremeYValues=function(t,e,i){for(var n,r=null,o=null,a=t.length-1,s=0;s<=a;s++)if(null!==(n=t[s][1])&&!isNaN(n)){var l=t[s][2][0],h=t[s][2][1];l>n&&(l=n),h<n&&(h=n),(null===o||h>o)&&(o=h),(null===r||l<r)&&(r=l)}return[r,o]},a.prototype.onLineEvaluated=function(t,e,i){for(var n,r=0;r<t.length;r++)(n=t[r]).y_top=o.default.calcYNormal_(e,n.yval_minus,i),n.y_bottom=o.default.calcYNormal_(e,n.yval_plus,i)},i.default=a,e.exports=i.default},{"../dygraph-layout":13,"./datahandler":6}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){},r=n;r.X=0,r.Y=1,r.EXTRAS=2,r.prototype.extractSeries=function(t,e,i){},r.prototype.seriesToPoints=function(t,e,i){for(var n=[],o=0;o<t.length;++o){var a=t[o],s=a[1],l=null===s?null:r.parseFloat(s),h={x:NaN,y:NaN,xval:r.parseFloat(a[0]),yval:l,name:e,idx:o+i};n.push(h)}return this.onPointsCreated_(t,n),n},r.prototype.onPointsCreated_=function(t,e){},r.prototype.rollingAverage=function(t,e,i){},r.prototype.getExtremeYValues=function(t,e,i){},r.prototype.onLineEvaluated=function(t,e,i){},r.parseFloat=function(t){return null===t?NaN:t},i.default=n,e.exports=i.default},{}],7:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var r=(n(t("./datahandler")),t("./default")),o=n(r),a=function(){};(a.prototype=new o.default).extractSeries=function(t,e,i){for(var n,r,o,a,s=[],l=i.get("logscale"),h=0;h<t.length;h++)n=t[h][0],r=t[h][e],l&&null!==r&&(r[0]<=0||r[1]<=0)&&(r=null),null!==r?(a=r[1],null===(o=r[0])||isNaN(o)?s.push([n,o,[o,a]]):s.push([n,100*(a?o/a:0),[o,a]])):s.push([n,null,[null,null]]);return s},a.prototype.rollingAverage=function(t,e,i){e=Math.min(e,t.length);var n,r=[],o=0,a=0;for(n=0;n<t.length;n++)o+=t[n][2][0],a+=t[n][2][1],n-e>=0&&(o-=t[n-e][2][0],a-=t[n-e][2][1]),r[n]=[t[n][0],100*(a?o/a:0)];return r},i.default=a,e.exports=i.default},{"./datahandler":6,"./default":8}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./datahandler"),r=function(){};(r.prototype=new(n&&n.__esModule?n:{default:n}).default).extractSeries=function(t,e,i){for(var n=[],r=i.get("logscale"),o=0;o<t.length;o++){var a=t[o][e];r&&a<=0&&(a=null),n.push([t[o][0],a])}return n},r.prototype.rollingAverage=function(t,e,i){var n,r,o,a,s,l=[];if(1==(e=Math.min(e,t.length)))return t;for(n=0;n<t.length;n++){for(a=0,s=0,r=Math.max(0,n-e+1);r<n+1;r++)null===(o=t[r][1])||isNaN(o)||(s++,a+=t[r][1]);l[n]=s?[t[n][0],a/s]:[t[n][0],null]}return l},r.prototype.getExtremeYValues=function(t,e,i){for(var n,r=null,o=null,a=t.length-1,s=0;s<=a;s++)null===(n=t[s][1])||isNaN(n)||((null===o||n>o)&&(o=n),(null===r||n<r)&&(r=n));return[r,o]},i.default=r,e.exports=i.default},{"./datahandler":6}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./dygraph-utils")),r=t("./dygraph"),o=r&&r.__esModule?r:{default:r},a=function(t,e,i,r){if(this.dygraph_=t,this.layout=r,this.element=e,this.elementContext=i,this.height=t.height_,this.width=t.width_,!n.isCanvasSupported(this.element))throw"Canvas is not supported.";this.area=r.getPlotArea();var o=this.dygraph_.canvas_ctx_;o.beginPath(),o.rect(this.area.x,this.area.y,this.area.w,this.area.h),o.clip(),(o=this.dygraph_.hidden_ctx_).beginPath(),o.rect(this.area.x,this.area.y,this.area.w,this.area.h),o.clip()};a.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)},a.prototype.render=function(){this._updatePoints(),this._renderLineChart()},a._getIteratorPredicate=function(t){return t?a._predicateThatSkipsEmptyPoints:null},a._predicateThatSkipsEmptyPoints=function(t,e){return null!==t[e].yval},a._drawStyledLine=function(t,e,i,r,o,s,l){var h=t.dygraph,u=h.getBooleanOption("stepPlot",t.setName);n.isArrayLike(r)||(r=null);var c=h.getBooleanOption("drawGapEdgePoints",t.setName),p=t.points,d=n.createIterator(p,0,p.length,a._getIteratorPredicate(h.getBooleanOption("connectSeparatedPoints",t.setName))),f=r&&r.length>=2,g=t.drawingContext;g.save(),f&&g.setLineDash&&g.setLineDash(r);var y=a._drawSeries(t,d,i,l,o,c,u,e);a._drawPointsOnLine(t,y,s,e,l),f&&g.setLineDash&&g.setLineDash([]),g.restore()},a._drawSeries=function(t,e,i,n,r,o,a,s){var l,h,u=null,c=null,p=null,d=[],f=!0,g=t.drawingContext;g.beginPath(),g.strokeStyle=s,g.lineWidth=i;for(var y=e.array_,v=e.end_,m=e.predicate_,_=e.start_;_<v;_++){if(h=y[_],m){for(;_<v&&!m(y,_);)_++;if(_==v)break;h=y[_]}if(null===h.canvasy||h.canvasy!=h.canvasy)a&&null!==u&&(g.moveTo(u,c),g.lineTo(h.canvasx,c)),u=c=null;else{if(l=!1,o||null===u){e.nextIdx_=_,e.next();var b=null===(p=e.hasNext?e.peek.canvasy:null)||p!=p;l=null===u&&b,o&&(!f&&null===u||e.hasNext&&b)&&(l=!0)}null!==u?i&&(a&&(g.moveTo(u,c),g.lineTo(h.canvasx,c)),g.lineTo(h.canvasx,h.canvasy)):g.moveTo(h.canvasx,h.canvasy),(r||l)&&d.push([h.canvasx,h.canvasy,h.idx]),u=h.canvasx,c=h.canvasy}f=!1}return g.stroke(),d},a._drawPointsOnLine=function(t,e,i,n,r){for(var o=t.drawingContext,a=0;a<e.length;a++){var s=e[a];o.save(),i.call(t.dygraph,t.dygraph,t.setName,o,s[0],s[1],n,r,s[2]),o.restore()}},a.prototype._updatePoints=function(){for(var t=this.layout.points,e=t.length;e--;)for(var i=t[e],n=i.length;n--;){var r=i[n];r.canvasx=this.area.w*r.x+this.area.x,r.canvasy=this.area.h*r.y+this.area.y}},a.prototype._renderLineChart=function(t,e){var i,r,o=e||this.elementContext,a=this.layout.points,s=this.layout.setNames;this.colors=this.dygraph_.colorsMap_;var l=this.dygraph_.getOption("plotter"),h=l;n.isArrayLike(h)||(h=[h]);var u={};for(i=0;i<s.length;i++){var c=this.dygraph_.getOption("plotter",r=s[i]);c!=l&&(u[r]=c)}for(i=0;i<h.length;i++)for(var p=h[i],d=i==h.length-1,f=0;f<a.length;f++)if(r=s[f],!t||r==t){var g=a[f],y=p;if(r in u){if(!d)continue;y=u[r]}var v=this.colors[r],m=this.dygraph_.getOption("strokeWidth",r);o.save(),o.strokeStyle=v,o.lineWidth=m,y({points:g,setName:r,drawingContext:o,color:v,strokeWidth:m,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(r),plotArea:this.area,seriesIndex:f,seriesCount:a.length,singleSeriesName:t,allSeriesPoints:a}),o.restore()}},a._Plotters={linePlotter:function(t){a._linePlotter(t)},fillPlotter:function(t){a._fillPlotter(t)},errorPlotter:function(t){a._errorPlotter(t)}},a._linePlotter=function(t){var e=t.dygraph,i=t.setName,r=t.strokeWidth,o=e.getNumericOption("strokeBorderWidth",i),s=e.getOption("drawPointCallback",i)||n.Circles.DEFAULT,l=e.getOption("strokePattern",i),h=e.getBooleanOption("drawPoints",i),u=e.getNumericOption("pointSize",i);o&&r&&a._drawStyledLine(t,e.getOption("strokeBorderColor",i),r+2*o,l,h,s,u),a._drawStyledLine(t,t.color,r,l,h,s,u)},a._errorPlotter=function(t){var e=t.dygraph,i=t.setName;if(e.getBooleanOption("errorBars")||e.getBooleanOption("customBars")){e.getBooleanOption("fillGraph",i)&&console.warn("Can't use fillGraph option with error bars");var r,o=t.drawingContext,s=t.color,l=e.getNumericOption("fillAlpha",i),h=e.getBooleanOption("stepPlot",i),u=t.points,c=n.createIterator(u,0,u.length,a._getIteratorPredicate(e.getBooleanOption("connectSeparatedPoints",i))),p=NaN,d=NaN,f=[-1,-1],g=n.toRGB_(s);o.fillStyle="rgba("+g.r+","+g.g+","+g.b+","+l+")",o.beginPath();for(var y=function(t){return null==t||isNaN(t)};c.hasNext;){var v=c.next();!h&&y(v.y)||h&&!isNaN(d)&&y(d)?p=NaN:(r=[v.y_bottom,v.y_top],h&&(d=v.y),isNaN(r[0])&&(r[0]=v.y),isNaN(r[1])&&(r[1]=v.y),r[0]=t.plotArea.h*r[0]+t.plotArea.y,r[1]=t.plotArea.h*r[1]+t.plotArea.y,isNaN(p)||(h?(o.moveTo(p,f[0]),o.lineTo(v.canvasx,f[0]),o.lineTo(v.canvasx,f[1])):(o.moveTo(p,f[0]),o.lineTo(v.canvasx,r[0]),o.lineTo(v.canvasx,r[1])),o.lineTo(p,f[1]),o.closePath()),f=r,p=v.canvasx)}o.fill()}},a._fastCanvasProxy=function(t){var e=[],i=null,n=null,r=0,o=function(i){!function(t){if(!(e.length<=1)){for(var i=e.length-1;i>0;i--)if(2==(s=e[i])[0]){var n=e[i-1];n[1]==s[1]&&n[2]==s[2]&&e.splice(i,1)}for(i=0;i<e.length-1;)2==(s=e[i])[0]&&2==e[i+1][0]?e.splice(i,1):i++;if(e.length>2&&!t){var r=0;2==e[0][0]&&r++;var o=null,a=null;for(i=r;i<e.length;i++){var s;if(1==(s=e[i])[0])if(null===o&&null===a)o=i,a=i;else{var l=s[2];l<e[o][2]?o=i:l>e[a][2]&&(a=i)}}var h=e[o],u=e[a];e.splice(r,e.length-r),o<a?(e.push(h),e.push(u)):o>a?(e.push(u),e.push(h)):e.push(h)}}}(i);for(var o=0,a=e.length;o<a;o++){var s=e[o];1==s[0]?t.lineTo(s[1],s[2]):2==s[0]&&t.moveTo(s[1],s[2])}e.length&&(n=e[e.length-1][1]),r+=e.length,e=[]},a=function(t,r,a){var s=Math.round(r);null!==i&&s==i||(o(i-n>1||s-i>1),i=s),e.push([t,r,a])};return{moveTo:function(t,e){a(2,t,e)},lineTo:function(t,e){a(1,t,e)},stroke:function(){o(!0),t.stroke()},fill:function(){o(!0),t.fill()},beginPath:function(){o(!0),t.beginPath()},closePath:function(){o(!0),t.closePath()},_count:function(){return r}}},a._fillPlotter=function(t){if(!t.singleSeriesName&&0===t.seriesIndex){for(var e=t.dygraph,i=e.getLabels().slice(1),r=i.length;r>=0;r--)e.visibility()[r]||i.splice(r,1);if(function(){for(var t=0;t<i.length;t++)if(e.getBooleanOption("fillGraph",i[t]))return!0;return!1}())for(var s,l,h=t.plotArea,u=t.allSeriesPoints,c=u.length,p=e.getBooleanOption("stackedGraph"),d=e.getColors(),f={},g=function(t,e,i,n){if(t.lineTo(e,i),p)for(var r=n.length-1;r>=0;r--){var o=n[r];t.lineTo(o[0],o[1])}},y=c-1;y>=0;y--){var v=t.drawingContext,m=i[y];if(e.getBooleanOption("fillGraph",m)){var _=e.getNumericOption("fillAlpha",m),b=e.getBooleanOption("stepPlot",m),w=d[y],x=e.axisPropertiesForSeries(m),T=1+x.minyval*x.yscale;T<0?T=0:T>1&&(T=1),T=h.h*T+h.y;var O,A=u[y],k=n.createIterator(A,0,A.length,a._getIteratorPredicate(e.getBooleanOption("connectSeparatedPoints",m))),C=NaN,S=[-1,-1],D=n.toRGB_(w);v.fillStyle="rgba("+D.r+","+D.g+","+D.b+","+_+")",v.beginPath();var E,P=!0;(A.length>2*e.width_||o.default.FORCE_FAST_PROXY)&&(v=a._fastCanvasProxy(v));for(var L,M=[];k.hasNext;)if(L=k.next(),n.isOK(L.y)||b){if(p){if(!P&&E==L.xval)continue;P=!1,E=L.xval,O=[L.canvasy,void 0===(s=f[L.canvasx])?T:l?s[0]:s],f[L.canvasx]=b?-1===S[0]?[L.canvasy,T]:[L.canvasy,S[0]]:L.canvasy}else O=isNaN(L.canvasy)&&b?[h.y+h.h,T]:[L.canvasy,T];isNaN(C)?(v.moveTo(L.canvasx,O[1]),v.lineTo(L.canvasx,O[0])):(b?(v.lineTo(L.canvasx,S[0]),v.lineTo(L.canvasx,O[0])):v.lineTo(L.canvasx,O[0]),p&&(M.push([C,S[1]]),M.push(l&&s?[L.canvasx,s[1]]:[L.canvasx,O[1]]))),S=O,C=L.canvasx}else g(v,C,S[1],M),M=[],C=NaN,null===L.y_stacked||isNaN(L.y_stacked)||(f[L.canvasx]=h.h*L.y_stacked+h.y);l=b,O&&L&&(g(v,L.canvasx,O[1],M),M=[]),v.fill()}}}},i.default=a,e.exports=i.default},{"./dygraph":18,"./dygraph-utils":17}],10:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(i,"__esModule",{value:!0});var o=r(t("./dygraph-tickers")),a=n(t("./dygraph-interaction-model")),s=n(t("./dygraph-canvas")),l=r(t("./dygraph-utils"));i.default={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,highlightSeriesBackgroundColor:"rgb(255, 255, 255)",labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:void 0,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:a.default.defaultModel,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:.6,showInRangeSelector:null,plotter:[s.default._fillPlotter,s.default._errorPlotter,s.default._linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:l.dateAxisLabelFormatter,valueFormatter:l.dateValueFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:o.dateTicker},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:l.numberValueFormatter,axisLabelFormatter:l.numberAxisLabelFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:o.numericTicks},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:l.numberValueFormatter,axisLabelFormatter:l.numberAxisLabelFormatter,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:o.numericTicks}}},e.exports=i.default},{"./dygraph-canvas":9,"./dygraph-interaction-model":12,"./dygraph-tickers":16,"./dygraph-utils":17}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./dygraph"),r=n&&n.__esModule?n:{default:n},o=function(t){this.container=t};o.prototype.draw=function(t,e){this.container.innerHTML="",void 0!==this.date_graph&&this.date_graph.destroy(),this.date_graph=new r.default(this.container,t,e)},o.prototype.setSelection=function(t){var e=!1;t.length&&(e=t[0].row),this.date_graph.setSelection(e)},o.prototype.getSelection=function(){var t=[],e=this.date_graph.getSelection();if(e<0)return t;for(var i=this.date_graph.layout_.points,n=0;n<i.length;++n)t.push({row:e,column:n+1});return t},i.default=o,e.exports=i.default},{"./dygraph":18}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./dygraph-utils")),r={maybeTreatMouseOpAsClick:function(t,e,i){i.dragEndX=n.dragGetX_(t,i),i.dragEndY=n.dragGetY_(t,i);var o=Math.abs(i.dragEndX-i.dragStartX),a=Math.abs(i.dragEndY-i.dragStartY);o<2&&a<2&&void 0!==e.lastx_&&-1!=e.lastx_&&r.treatMouseOpAsClick(e,t,i),i.regionWidth=o,i.regionHeight=a},startPan:function(t,e,i){var r,o;i.isPanning=!0;var a=e.xAxisRange();if(e.getOptionForAxis("logscale","x")?(i.initialLeftmostDate=n.log10(a[0]),i.dateRange=n.log10(a[1])-n.log10(a[0])):(i.initialLeftmostDate=a[0],i.dateRange=a[1]-a[0]),i.xUnitsPerPixel=i.dateRange/(e.plotter_.area.w-1),e.getNumericOption("panEdgeFraction")){var s=e.width_*e.getNumericOption("panEdgeFraction"),l=e.xAxisExtremes(),h=e.toDomXCoord(l[0])-s,u=e.toDomXCoord(l[1])+s,c=e.toDataXCoord(h),p=e.toDataXCoord(u);i.boundedDates=[c,p];var d=[],f=e.height_*e.getNumericOption("panEdgeFraction");for(r=0;r<e.axes_.length;r++){var g=(o=e.axes_[r]).extremeRange,y=e.toDomYCoord(g[0],r)+f,v=e.toDomYCoord(g[1],r)-f,m=e.toDataYCoord(y,r),_=e.toDataYCoord(v,r);d[r]=[m,_]}i.boundedValues=d}for(i.is2DPan=!1,i.axes=[],r=0;r<e.axes_.length;r++){o=e.axes_[r];var b={},w=e.yAxisRange(r);e.attributes_.getForAxis("logscale",r)?(b.initialTopValue=n.log10(w[1]),b.dragValueRange=n.log10(w[1])-n.log10(w[0])):(b.initialTopValue=w[1],b.dragValueRange=w[1]-w[0]),b.unitsPerPixel=b.dragValueRange/(e.plotter_.area.h-1),i.axes.push(b),o.valueRange&&(i.is2DPan=!0)}},movePan:function(t,e,i){i.dragEndX=n.dragGetX_(t,i),i.dragEndY=n.dragGetY_(t,i);var r=i.initialLeftmostDate-(i.dragEndX-i.dragStartX)*i.xUnitsPerPixel;i.boundedDates&&(r=Math.max(r,i.boundedDates[0]));var o=r+i.dateRange;if(i.boundedDates&&o>i.boundedDates[1]&&(o=(r-=o-i.boundedDates[1])+i.dateRange),e.dateWindow_=e.getOptionForAxis("logscale","x")?[Math.pow(n.LOG_SCALE,r),Math.pow(n.LOG_SCALE,o)]:[r,o],i.is2DPan)for(var a=i.dragEndY-i.dragStartY,s=0;s<e.axes_.length;s++){var l=e.axes_[s],h=i.axes[s],u=i.boundedValues?i.boundedValues[s]:null,c=h.initialTopValue+a*h.unitsPerPixel;u&&(c=Math.min(c,u[1]));var p=c-h.dragValueRange;u&&p<u[0]&&(p=(c-=p-u[0])-h.dragValueRange),l.valueRange=e.attributes_.getForAxis("logscale",s)?[Math.pow(n.LOG_SCALE,p),Math.pow(n.LOG_SCALE,c)]:[p,c]}e.drawGraph_(!1)}};r.endPan=r.maybeTreatMouseOpAsClick,r.startZoom=function(t,e,i){i.isZooming=!0,i.zoomMoved=!1},r.moveZoom=function(t,e,i){i.zoomMoved=!0,i.dragEndX=n.dragGetX_(t,i),i.dragEndY=n.dragGetY_(t,i);var r=Math.abs(i.dragStartX-i.dragEndX),o=Math.abs(i.dragStartY-i.dragEndY);i.dragDirection=r<o/2?n.VERTICAL:n.HORIZONTAL,e.drawZoomRect_(i.dragDirection,i.dragStartX,i.dragEndX,i.dragStartY,i.dragEndY,i.prevDragDirection,i.prevEndX,i.prevEndY),i.prevEndX=i.dragEndX,i.prevEndY=i.dragEndY,i.prevDragDirection=i.dragDirection},r.treatMouseOpAsClick=function(t,e,i){for(var n=t.getFunctionOption("clickCallback"),r=t.getFunctionOption("pointClickCallback"),o=null,a=-1,s=Number.MAX_VALUE,l=0;l<t.selPoints_.length;l++){var h=t.selPoints_[l],u=Math.pow(h.canvasx-i.dragEndX,2)+Math.pow(h.canvasy-i.dragEndY,2);!isNaN(u)&&(-1==a||u<s)&&(s=u,a=l)}var c=t.getNumericOption("highlightCircleSize")+2;if(s<=c*c&&(o=t.selPoints_[a]),o){if(t.cascadeEvents_("pointClick",{cancelable:!0,point:o,canvasx:i.dragEndX,canvasy:i.dragEndY}))return;r&&r.call(t,e,o)}t.cascadeEvents_("click",{cancelable:!0,xval:t.lastx_,pts:t.selPoints_,canvasx:i.dragEndX,canvasy:i.dragEndY})||n&&n.call(t,e,t.lastx_,t.selPoints_)},r.endZoom=function(t,e,i){e.clearZoomRect_(),i.isZooming=!1,r.maybeTreatMouseOpAsClick(t,e,i);var o=e.getArea();if(i.regionWidth>=10&&i.dragDirection==n.HORIZONTAL){var a=Math.min(i.dragStartX,i.dragEndX),s=Math.max(i.dragStartX,i.dragEndX);(a=Math.max(a,o.x))<(s=Math.min(s,o.x+o.w))&&e.doZoomX_(a,s),i.cancelNextDblclick=!0}else if(i.regionHeight>=10&&i.dragDirection==n.VERTICAL){var l=Math.min(i.dragStartY,i.dragEndY),h=Math.max(i.dragStartY,i.dragEndY);(l=Math.max(l,o.y))<(h=Math.min(h,o.y+o.h))&&e.doZoomY_(l,h),i.cancelNextDblclick=!0}i.dragStartX=null,i.dragStartY=null},r.startTouch=function(t,e,i){t.preventDefault(),t.touches.length>1&&(i.startTimeForDoubleTapMs=null);for(var n=[],r=0;r<t.touches.length;r++){var o=t.touches[r];n.push({pageX:o.pageX,pageY:o.pageY,dataX:e.toDataXCoord(o.pageX),dataY:e.toDataYCoord(o.pageY)})}if(i.initialTouches=n,1==n.length)i.initialPinchCenter=n[0],i.touchDirections={x:!0,y:!0};else if(n.length>=2){i.initialPinchCenter={pageX:.5*(n[0].pageX+n[1].pageX),pageY:.5*(n[0].pageY+n[1].pageY),dataX:.5*(n[0].dataX+n[1].dataX),dataY:.5*(n[0].dataY+n[1].dataY)};var a=180/Math.PI*Math.atan2(i.initialPinchCenter.pageY-n[0].pageY,n[0].pageX-i.initialPinchCenter.pageX);(a=Math.abs(a))>90&&(a=90-a),i.touchDirections={x:a<67.5,y:a>22.5}}i.initialRange={x:e.xAxisRange(),y:e.yAxisRange()}},r.moveTouch=function(t,e,i){i.startTimeForDoubleTapMs=null;var n,r=[];for(n=0;n<t.touches.length;n++){var o=t.touches[n];r.push({pageX:o.pageX,pageY:o.pageY})}var a,s,l,h=i.initialTouches,u=i.initialPinchCenter,c={pageX:(a=1==r.length?r[0]:{pageX:.5*(r[0].pageX+r[1].pageX),pageY:.5*(r[0].pageY+r[1].pageY)}).pageX-u.pageX,pageY:a.pageY-u.pageY},p=i.initialRange.y[0]-i.initialRange.y[1];c.dataX=c.pageX/e.plotter_.area.w*(i.initialRange.x[1]-i.initialRange.x[0]),c.dataY=c.pageY/e.plotter_.area.h*p,1==r.length?(s=1,l=1):r.length>=2&&(s=(r[1].pageX-a.pageX)/(h[1].pageX-u.pageX),l=(r[1].pageY-a.pageY)/(h[1].pageY-u.pageY)),s=Math.min(8,Math.max(.125,s)),l=Math.min(8,Math.max(.125,l));var d=!1;if(i.touchDirections.x&&(e.dateWindow_=[u.dataX-c.dataX+(i.initialRange.x[0]-u.dataX)/s,u.dataX-c.dataX+(i.initialRange.x[1]-u.dataX)/s],d=!0),i.touchDirections.y)for(n=0;n<1;n++){var f=e.axes_[n];e.attributes_.getForAxis("logscale",n)||(f.valueRange=[u.dataY-c.dataY+(i.initialRange.y[0]-u.dataY)/l,u.dataY-c.dataY+(i.initialRange.y[1]-u.dataY)/l],d=!0)}if(e.drawGraph_(!1),d&&r.length>1&&e.getFunctionOption("zoomCallback")){var g=e.xAxisRange();e.getFunctionOption("zoomCallback").call(e,g[0],g[1],e.yAxisRanges())}},r.endTouch=function(t,e,i){if(0!==t.touches.length)r.startTouch(t,e,i);else if(1==t.changedTouches.length){var n=(new Date).getTime(),o=t.changedTouches[0];i.startTimeForDoubleTapMs&&n-i.startTimeForDoubleTapMs<500&&i.doubleTapX&&Math.abs(i.doubleTapX-o.screenX)<50&&i.doubleTapY&&Math.abs(i.doubleTapY-o.screenY)<50?e.resetZoom():(i.startTimeForDoubleTapMs=n,i.doubleTapX=o.screenX,i.doubleTapY=o.screenY)}};var o=function(t,e,i){return t<e?e-t:t>i?t-i:0};r.defaultModel={mousedown:function(t,e,i){if(!t.button||2!=t.button){i.initializeMouseDown(t,e,i),t.altKey||t.shiftKey?r.startPan(t,e,i):r.startZoom(t,e,i);var a=function(t){i.isZooming?function(t,e){var i=n.findPos(e.canvas_),r={left:i.x,right:i.x+e.canvas_.offsetWidth,top:i.y,bottom:i.y+e.canvas_.offsetHeight},a={x:n.pageX(t),y:n.pageY(t)},s=o(a.x,r.left,r.right),l=o(a.y,r.top,r.bottom);return Math.max(s,l)}(t,e)<100?r.moveZoom(t,e,i):null!==i.dragEndX&&(i.dragEndX=null,i.dragEndY=null,e.clearZoomRect_()):i.isPanning&&r.movePan(t,e,i)};e.addAndTrackEvent(document,"mousemove",a),e.addAndTrackEvent(document,"mouseup",function t(o){i.isZooming?null!==i.dragEndX?r.endZoom(o,e,i):r.maybeTreatMouseOpAsClick(o,e,i):i.isPanning&&r.endPan(o,e,i),n.removeEvent(document,"mousemove",a),n.removeEvent(document,"mouseup",t),i.destroy()})}},willDestroyContextMyself:!0,touchstart:function(t,e,i){r.startTouch(t,e,i)},touchmove:function(t,e,i){r.moveTouch(t,e,i)},touchend:function(t,e,i){r.endTouch(t,e,i)},dblclick:function(t,e,i){i.cancelNextDblclick?i.cancelNextDblclick=!1:e.cascadeEvents_("dblclick",{canvasx:i.dragEndX,canvasy:i.dragEndY,cancelable:!0})||t.altKey||t.shiftKey||e.resetZoom()}},r.nonInteractiveModel_={mousedown:function(t,e,i){i.initializeMouseDown(t,e,i)},mouseup:r.maybeTreatMouseOpAsClick},r.dragIsPanInteractionModel={mousedown:function(t,e,i){i.initializeMouseDown(t,e,i),r.startPan(t,e,i)},mousemove:function(t,e,i){i.isPanning&&r.movePan(t,e,i)},mouseup:function(t,e,i){i.isPanning&&r.endPan(t,e,i)}},i.default=r,e.exports=i.default},{"./dygraph-utils":17}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./dygraph-utils")),r=function(t){this.dygraph_=t,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};r.prototype.addDataset=function(t,e){this.points.push(e),this.setNames.push(t)},r.prototype.getPlotArea=function(){return this.area_},r.prototype.computePlotArea=function(){var t={x:0,y:0};t.w=this.dygraph_.width_-t.x-this.dygraph_.getOption("rightGap"),t.h=this.dygraph_.height_,this.dygraph_.cascadeEvents_("layout",{chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(e){var i={x:t.x,y:t.y,w:e,h:t.h};return t.x+=e,t.w-=e,i},reserveSpaceRight:function(e){var i={x:t.x+t.w-e,y:t.y,w:e,h:t.h};return t.w-=e,i},reserveSpaceTop:function(e){var i={x:t.x,y:t.y,w:t.w,h:e};return t.y+=e,t.h-=e,i},reserveSpaceBottom:function(e){var i={x:t.x,y:t.y+t.h-e,w:t.w,h:e};return t.h-=e,i},chartRect:function(){return{x:t.x,y:t.y,w:t.w,h:t.h}}}),this.area_=t},r.prototype.setAnnotations=function(t){this.annotations=[];for(var e=this.dygraph_.getOption("xValueParser")||function(t){return t},i=0;i<t.length;i++){var r={};if(!t[i].xval&&void 0===t[i].x)return void console.error("Annotations must have an 'x' property");if(t[i].icon&&(!t[i].hasOwnProperty("width")||!t[i].hasOwnProperty("height")))return void console.error("Must set width and height when setting annotation.icon property");n.update(r,t[i]),r.xval||(r.xval=e(r.x)),this.annotations.push(r)}},r.prototype.setXTicks=function(t){this.xTicks_=t},r.prototype.setYAxes=function(t){this.yAxes_=t},r.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()},r.prototype._evaluateLimits=function(){var t=this.dygraph_.xAxisRange();this._xAxis.minval=t[0],this._xAxis.maxval=t[1];var e=t[1]-t[0];this._xAxis.scale=0!==e?1/e:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=n.log10(this._xAxis.maxval)-n.log10(this._xAxis.minval),this._xAxis.xlogscale=0!==this._xAxis.xlogrange?1/this._xAxis.xlogrange:1);for(var i=0;i<this.yAxes_.length;i++){var r=this.yAxes_[i];r.minyval=r.computedValueRange[0],r.maxyval=r.computedValueRange[1],r.yrange=r.maxyval-r.minyval,r.yscale=0!==r.yrange?1/r.yrange:1,this.dygraph_.getOption("logscale")&&(r.ylogrange=n.log10(r.maxyval)-n.log10(r.minyval),r.ylogscale=0!==r.ylogrange?1/r.ylogrange:1,isFinite(r.ylogrange)&&!isNaN(r.ylogrange)||console.error("axis "+i+" of graph at "+r.g+" can't be displayed in log scale for range ["+r.minyval+" - "+r.maxyval+"]"))}},r.calcXNormal_=function(t,e,i){return i?(n.log10(t)-n.log10(e.minval))*e.xlogscale:(t-e.minval)*e.scale},r.calcYNormal_=function(t,e,i){if(i){var r=1-(n.log10(e)-n.log10(t.minyval))*t.ylogscale;return isFinite(r)?r:NaN}return 1-(e-t.minyval)*t.yscale},r.prototype._evaluateLineCharts=function(){for(var t=this.dygraph_.getOption("stackedGraph"),e=this.dygraph_.getOptionForAxis("logscale","x"),i=0;i<this.points.length;i++){for(var n=this.points[i],o=this.setNames[i],a=this.dygraph_.getOption("connectSeparatedPoints",o),s=this.dygraph_.axisPropertiesForSeries(o),l=this.dygraph_.attributes_.getForSeries("logscale",o),h=0;h<n.length;h++){var u=n[h];u.x=r.calcXNormal_(u.xval,this._xAxis,e);var c=u.yval;t&&(u.y_stacked=r.calcYNormal_(s,u.yval_stacked,l),null===c||isNaN(c)||(c=u.yval_stacked)),null===c&&(c=NaN,a||(u.yval=NaN)),u.y=r.calcYNormal_(s,c,l)}this.dygraph_.dataHandler_.onLineEvaluated(n,s,l)}},r.prototype._evaluateLineTicks=function(){var t,e,i,n,r;for(this.xticks=[],t=0;t<this.xTicks_.length;t++)i=(e=this.xTicks_[t]).label,(n=this.dygraph_.toPercentXCoord((r=!("label_v"in e))?e.v:e.label_v))>=0&&n<1&&this.xticks.push({pos:n,label:i,has_tick:r});for(this.yticks=[],t=0;t<this.yAxes_.length;t++)for(var o=this.yAxes_[t],a=0;a<o.ticks.length;a++)i=(e=o.ticks[a]).label,(n=this.dygraph_.toPercentYCoord((r=!("label_v"in e))?e.v:e.label_v,t))>0&&n<=1&&this.yticks.push({axis:t,pos:n,label:i,has_tick:r})},r.prototype._evaluateAnnotations=function(){var t,e={};for(t=0;t<this.annotations.length;t++){var i=this.annotations[t];e[i.xval+","+i.series]=i}if(this.annotated_points=[],this.annotations&&this.annotations.length)for(var n=0;n<this.points.length;n++){var r=this.points[n];for(t=0;t<r.length;t++){var o=r[t],a=o.xval+","+o.name;a in e&&(o.annotation=e[a],this.annotated_points.push(o))}}},r.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]},i.default=r,e.exports=i.default},{"./dygraph-utils":17}],14:[function(t,e,i){(function(t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=null,e.exports=i.default}).call(this,t("_process"))},{_process:1}],15:[function(t,e,i){(function(n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./dygraph-utils")),a=r(t("./dygraph-default-attrs")),s=(r(t("./dygraph-options-reference")),function(t){this.dygraph_=t,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()});s.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1},s.axisToIndex_=function(t){if("string"==typeof t){if(s.AXIS_STRING_MAPPINGS_.hasOwnProperty(t))return s.AXIS_STRING_MAPPINGS_[t];throw"Unknown axis : "+t}if("number"==typeof t){if(0===t||1===t)return t;throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(t)throw"Unknown axis : "+t;return 0},s.prototype.reparseSeries=function(){var t=this.get("labels");if(t){this.labels_=t.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};for(var e=this.user_.series||{},i=0;i<this.labels_.length;i++){var n=this.labels_[i],r=e[n]||{},a=s.axisToIndex_(r.axis);this.series_[n]={idx:i,yAxis:a,options:r},this.yAxes_[a]?this.yAxes_[a].series.push(n):this.yAxes_[a]={series:[n],options:{}}}var l=this.user_.axes||{};o.update(this.yAxes_[0].options,l.y||{}),this.yAxes_.length>1&&o.update(this.yAxes_[1].options,l.y2||{}),o.update(this.xAxis_.options,l.x||{})}},s.prototype.get=function(t){var e=this.getGlobalUser_(t);return null!==e?e:this.getGlobalDefault_(t)},s.prototype.getGlobalUser_=function(t){return this.user_.hasOwnProperty(t)?this.user_[t]:null},s.prototype.getGlobalDefault_=function(t){return this.global_.hasOwnProperty(t)?this.global_[t]:a.default.hasOwnProperty(t)?a.default[t]:null},s.prototype.getForAxis=function(t,e){var i,n;if("number"==typeof e)n=0===(i=e)?"y":"y2";else{if("y1"==e&&(e="y"),"y"==e)i=0;else if("y2"==e)i=1;else{if("x"!=e)throw"Unknown axis "+e;i=-1}n=e}var r=-1==i?this.xAxis_:this.yAxes_[i];if(r){var o=r.options;if(o.hasOwnProperty(t))return o[t]}if("x"!==e||"logscale"!==t){var s=this.getGlobalUser_(t);if(null!==s)return s}var l=a.default.axes[n];return l.hasOwnProperty(t)?l[t]:this.getGlobalDefault_(t)},s.prototype.getForSeries=function(t,e){if(e===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(t))return this.highlightSeries_[t];if(!this.series_.hasOwnProperty(e))throw"Unknown series: "+e;var i=this.series_[e],n=i.options;return n.hasOwnProperty(t)?n[t]:this.getForAxis(t,i.yAxis)},s.prototype.numAxes=function(){return this.yAxes_.length},s.prototype.axisForSeries=function(t){return this.series_[t].yAxis},s.prototype.axisOptions=function(t){return this.yAxes_[t].options},s.prototype.seriesForAxis=function(t){return this.yAxes_[t].series},s.prototype.seriesNames=function(){return this.labels_},i.default=s,e.exports=i.default}).call(this,t("_process"))},{"./dygraph-default-attrs":10,"./dygraph-options-reference":14,"./dygraph-utils":17,_process:1}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./dygraph-utils"));i.numericLinearTicks=function(t,e,i,n,o,a){return r(t,e,i,function(t){return"logscale"!==t&&n(t)},o,a)};var r=function(t,e,i,r,o,a){var l,h,u,c=r("pixelsPerLabel"),p=[];if(a)for(l=0;l<a.length;l++)p.push({v:a[l]});else{if(r("logscale")){u=Math.floor(i/c);var d=n.binarySearch(t,s,1),f=n.binarySearch(e,s,-1);-1==d&&(d=0),-1==f&&(f=s.length-1);var g=null;if(f-d>=u/4){for(var y=f;y>=d;y--){var v=s[y],m=Math.log(v/t)/Math.log(e/t)*i,_={v:v};null===g?g={tickValue:v,pixel_coord:m}:Math.abs(m-g.pixel_coord)>=c?g={tickValue:v,pixel_coord:m}:_.label="",p.push(_)}p.reverse()}}if(0===p.length){var b,w;r("labelsKMG2")?(b=[1,2,4,8,16,32,64,128,256],w=16):(b=[1,2,5,10,20,50,100],w=10);var x,T,O,A=Math.ceil(i/c),k=Math.abs(e-t)/A,C=Math.floor(Math.log(k)/Math.log(w)),S=Math.pow(w,C);for(h=0;h<b.length&&(x=S*b[h],T=Math.floor(t/x)*x,O=Math.ceil(e/x)*x,!(i/(u=Math.abs(O-T)/x)>c));h++);for(T>O&&(x*=-1),l=0;l<=u;l++)p.push({v:T+l*x})}}var D=r("axisLabelFormatter");for(l=0;l<p.length;l++)void 0===p[l].label&&(p[l].label=D.call(o,p[l].v,0,r,o));return p};i.numericTicks=r,i.dateTicker=function(t,e,i,n,r,o){var a=l(t,e,i,n);return a>=0?u(t,e,a,n,r):[]};var o={MILLISECONDLY:0,TWO_MILLISECONDLY:1,FIVE_MILLISECONDLY:2,TEN_MILLISECONDLY:3,FIFTY_MILLISECONDLY:4,HUNDRED_MILLISECONDLY:5,FIVE_HUNDRED_MILLISECONDLY:6,SECONDLY:7,TWO_SECONDLY:8,FIVE_SECONDLY:9,TEN_SECONDLY:10,THIRTY_SECONDLY:11,MINUTELY:12,TWO_MINUTELY:13,FIVE_MINUTELY:14,TEN_MINUTELY:15,THIRTY_MINUTELY:16,HOURLY:17,TWO_HOURLY:18,SIX_HOURLY:19,DAILY:20,TWO_DAILY:21,WEEKLY:22,MONTHLY:23,QUARTERLY:24,BIANNUAL:25,ANNUAL:26,DECADAL:27,CENTENNIAL:28,NUM_GRANULARITIES:29};i.Granularity=o;var a=[];a[o.MILLISECONDLY]={datefield:6,step:1,spacing:1},a[o.TWO_MILLISECONDLY]={datefield:6,step:2,spacing:2},a[o.FIVE_MILLISECONDLY]={datefield:6,step:5,spacing:5},a[o.TEN_MILLISECONDLY]={datefield:6,step:10,spacing:10},a[o.FIFTY_MILLISECONDLY]={datefield:6,step:50,spacing:50},a[o.HUNDRED_MILLISECONDLY]={datefield:6,step:100,spacing:100},a[o.FIVE_HUNDRED_MILLISECONDLY]={datefield:6,step:500,spacing:500},a[o.SECONDLY]={datefield:5,step:1,spacing:1e3},a[o.TWO_SECONDLY]={datefield:5,step:2,spacing:2e3},a[o.FIVE_SECONDLY]={datefield:5,step:5,spacing:5e3},a[o.TEN_SECONDLY]={datefield:5,step:10,spacing:1e4},a[o.THIRTY_SECONDLY]={datefield:5,step:30,spacing:3e4},a[o.MINUTELY]={datefield:4,step:1,spacing:6e4},a[o.TWO_MINUTELY]={datefield:4,step:2,spacing:12e4},a[o.FIVE_MINUTELY]={datefield:4,step:5,spacing:3e5},a[o.TEN_MINUTELY]={datefield:4,step:10,spacing:6e5},a[o.THIRTY_MINUTELY]={datefield:4,step:30,spacing:18e5},a[o.HOURLY]={datefield:3,step:1,spacing:36e5},a[o.TWO_HOURLY]={datefield:3,step:2,spacing:72e5},a[o.SIX_HOURLY]={datefield:3,step:6,spacing:216e5},a[o.DAILY]={datefield:2,step:1,spacing:864e5},a[o.TWO_DAILY]={datefield:2,step:2,spacing:1728e5},a[o.WEEKLY]={datefield:2,step:7,spacing:6048e5},a[o.MONTHLY]={datefield:1,step:1,spacing:2629817280},a[o.QUARTERLY]={datefield:1,step:3,spacing:216e5*365.2524},a[o.BIANNUAL]={datefield:1,step:6,spacing:432e5*365.2524},a[o.ANNUAL]={datefield:0,step:1,spacing:864e5*365.2524},a[o.DECADAL]={datefield:0,step:10,spacing:315578073600},a[o.CENTENNIAL]={datefield:0,step:100,spacing:3155780736e3};var s=function(){for(var t=[],e=-39;e<=39;e++)for(var i=Math.pow(10,e),n=1;n<=9;n++)t.push(i*n);return t}(),l=function(t,e,i,n){for(var r=n("pixelsPerLabel"),a=0;a<o.NUM_GRANULARITIES;a++)if(i/h(t,e,a)>=r)return a;return-1},h=function(t,e,i){return Math.round(1*(e-t)/a[i].spacing)},u=function(t,e,i,r,s){var l=r("axisLabelFormatter"),h=r("labelsUTC")?n.DateAccessorsUTC:n.DateAccessorsLocal,u=a[i].datefield,c=a[i].step,p=a[i].spacing,d=new Date(t),f=[];f[0]=h.getFullYear(d),f[1]=h.getMonth(d),f[2]=h.getDate(d),f[3]=h.getHours(d),f[4]=h.getMinutes(d),f[5]=h.getSeconds(d),f[6]=h.getMilliseconds(d);var g=f[u]%c;i==o.WEEKLY&&(g=h.getDay(d)),f[u]-=g;for(var y=u+1;y<7;y++)f[y]=2===y?1:0;var v=[],m=h.makeDate.apply(null,f),_=m.getTime();if(i<=o.HOURLY)for(_<t&&(_+=p,m=new Date(_));_<=e;)v.push({v:_,label:l.call(s,m,i,r,s)}),_+=p,m=new Date(_);else for(_<t&&(f[u]+=c,_=(m=h.makeDate.apply(null,f)).getTime());_<=e;)(i>=o.DAILY||h.getHours(m)%c==0)&&v.push({v:_,label:l.call(s,m,i,r,s)}),f[u]+=c,_=(m=h.makeDate.apply(null,f)).getTime();return v};i.getDateAxis=u},{"./dygraph-utils":17}],17:[function(t,e,i){"use strict";function n(t){return!t.pageX||t.pageX<0?0:t.pageX}function r(t){return!t.pageY||t.pageY<0?0:t.pageY}function o(t,e){var i=Math.min(Math.max(1,e||2),21);return Math.abs(t)<.001&&0!==t?t.toExponential(i-1):t.toPrecision(i)}function a(t){return t<10?"0"+t:""+t}function s(t,e,i,n){var r=a(t)+":"+a(e);if(i&&(r+=":"+a(i),n)){var o=""+n;r+="."+("000"+o).substring(o.length)}return r}function l(t,e){var i=e?b:_,n=new Date(t),r=i.getFullYear(n),o=i.getMonth(n),l=i.getDate(n),h=i.getHours(n),u=i.getMinutes(n),c=i.getSeconds(n),p=i.getMilliseconds(n),d=r+"/"+a(o+1)+"/"+a(l);return 3600*h+60*u+c+.001*p&&(d+=" "+s(h,u,c,p)),d}function h(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i}function u(t){return new Date(t).getTime()}function c(t){var e=typeof t;return("object"==e||"function"==e&&"function"==typeof t.item)&&null!==t&&"number"==typeof t.length&&3!==t.nodeType}function p(t,e,i,n){e=e||0,i=i||t.length,this.hasNext=!0,this.peek=null,this.start_=e,this.array_=t,this.predicate_=n,this.end_=Math.min(t.length,e+i),this.nextIdx_=e-1,this.next()}function d(t,e){return e<0?1/Math.pow(t,-e):Math.pow(t,e)}function f(t){var e=O.exec(t);if(!e)return null;var i=parseInt(e[1],10),n=parseInt(e[2],10),r=parseInt(e[3],10);return e[4]?{r:i,g:n,b:r,a:parseFloat(e[4])}:{r:i,g:n,b:r}}function g(t,e){var i=e("sigFigs");if(null!==i)return o(t,i);var n,r=e("digitsAfterDecimal"),a=e("maxNumberWidth"),s=e("labelsKMB"),l=e("labelsKMG2");if(n=0!==t&&(Math.abs(t)>=Math.pow(10,a)||Math.abs(t)<Math.pow(10,-r))?t.toExponential(r):""+h(t,r),s||l){var u,c=[],p=[];s&&(u=1e3,c=A),l&&(s&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),u=1024,c=k,p=C);for(var f=Math.abs(t),g=d(u,c.length),y=c.length-1;y>=0;y--,g/=u)if(f>=g){n=h(t/g,r)+c[y];break}if(l){var v=String(t.toExponential()).split("e-");2===v.length&&v[1]>=3&&v[1]<=24&&(n=v[1]%3>0?h(v[0]/d(10,v[1]%3),r):Number(v[0]).toFixed(2),n+=p[Math.floor(v[1]/3)-1])}}return n}Object.defineProperty(i,"__esModule",{value:!0}),i.removeEvent=function(t,e,i){t.removeEventListener(e,i,!1)},i.cancelEvent=function(t){return(t=t||window.event).stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1,!1},i.hsvToRGB=function(t,e,i){var n,r,o;if(0===e)n=i,r=i,o=i;else{var a=Math.floor(6*t),s=6*t-a,l=i*(1-e),h=i*(1-e*s),u=i*(1-e*(1-s));switch(a){case 1:n=h,r=i,o=l;break;case 2:n=l,r=i,o=u;break;case 3:n=l,r=h,o=i;break;case 4:n=u,r=l,o=i;break;case 5:n=i,r=l,o=h;break;case 6:case 0:n=i,r=u,o=l}}return"rgb("+(n=Math.floor(255*n+.5))+","+(r=Math.floor(255*r+.5))+","+(o=Math.floor(255*o+.5))+")"},i.findPos=function(t){var e=t.getBoundingClientRect(),i=window,n=document.documentElement;return{x:e.left+(i.pageXOffset||n.scrollLeft),y:e.top+(i.pageYOffset||n.scrollTop)}},i.pageX=n,i.pageY=r,i.dragGetX_=function(t,e){return n(t)-e.px},i.dragGetY_=function(t,e){return r(t)-e.py},i.isOK=function(t){return!!t&&!isNaN(t)},i.isValidPoint=function(t,e){return!!t&&null!==t.yval&&null!=t.x&&null!=t.y&&!(isNaN(t.x)||!e&&isNaN(t.y))},i.floatFormat=o,i.zeropad=a,i.hmsString_=s,i.dateString_=l,i.round_=h,i.binarySearch=function(t,e,i,n,r){for(var o=!0;o;){var a=t,s=e,l=i,h=n,u=r;if(o=!1,null!=h&&null!=u||(h=0,u=s.length-1),h>u)return-1;null!=l||(l=0);var c,p=function(t){return t>=0&&t<s.length},d=parseInt((h+u)/2,10),f=s[d];if(f==a)return d;if(f>a){if(l>0&&p(c=d-1)&&s[c]<a)return d;t=a,e=s,i=l,n=h,r=d-1,o=!0,p=d=f=c=void 0}else{if(!(f<a))return-1;if(l<0&&p(c=d+1)&&s[c]>a)return d;t=a,e=s,i=l,n=d+1,r=u,o=!0,p=d=f=c=void 0}}},i.dateParser=function(t){var e,i;if((-1==t.search("-")||-1!=t.search("T")||-1!=t.search("Z"))&&(i=u(t))&&!isNaN(i))return i;if(-1!=t.search("-")){for(e=t.replace("-","/","g");-1!=e.search("-");)e=e.replace("-","/");i=u(e)}else i=u(8==t.length?e=t.substr(0,4)+"/"+t.substr(4,2)+"/"+t.substr(6,2):t);return i&&!isNaN(i)||console.error("Couldn't parse "+t+" as a date"),i},i.dateStrToMillis=u,i.update=function(t,e){if(null!=e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},i.updateDeep=function t(e,i){if(null!=i)for(var n in i)i.hasOwnProperty(n)&&(null===i[n]?e[n]=null:c(i[n])?e[n]=i[n].slice():function(t){return"object"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}(i[n])||"object"!=typeof i[n]?e[n]=i[n]:("object"==typeof e[n]&&null!==e[n]||(e[n]={}),t(e[n],i[n])));return e},i.isArrayLike=c,i.isDateLike=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},i.clone=function t(e){for(var i=[],n=0;n<e.length;n++)c(e[n])?i.push(t(e[n])):i.push(e[n]);return i},i.createCanvas=function(){return document.createElement("canvas")},i.getContextPixelRatio=function(t){try{var e=window.devicePixelRatio;return void 0!==e?e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1):1}catch(t){return 1}},i.Iterator=p,i.createIterator=function(t,e,i,n){return new p(t,e,i,n)},i.repeatAndCleanup=function(t,e,i,n){var r,o=0,a=(new Date).getTime();if(t(o),1!=e){var s=e-1;!function l(){o>=e||w.call(window,function(){var e=(new Date).getTime();r=o;var h=(o=Math.floor((e-a)/i))-r;o+h>s||o>=s?(t(s),n()):(0!==h&&t(o),l())})}()}else n()},i.isPixelChangingOptionList=function(t,e){var i={};if(t)for(var n=1;n<t.length;n++)i[t[n]]=!0;var r=function(t){for(var e in t)if(t.hasOwnProperty(e)&&!x[e])return!0;return!1};for(var o in e)if(e.hasOwnProperty(o))if("highlightSeriesOpts"==o||i[o]&&!e.series){if(r(e[o]))return!0}else if("series"==o||"axes"==o){var a=e[o];for(var s in a)if(a.hasOwnProperty(s)&&r(a[s]))return!0}else if(!x[o])return!0;return!1},i.detectLineDelimiter=function(t){for(var e=0;e<t.length;e++){var i=t.charAt(e);if("\r"===i)return e+1<t.length&&"\n"===t.charAt(e+1)?"\r\n":i;if("\n"===i)return e+1<t.length&&"\r"===t.charAt(e+1)?"\n\r":i}return null},i.isNodeContainedBy=function(t,e){if(null===e||null===t)return!1;for(var i=t;i&&i!==e;)i=i.parentNode;return i===e},i.pow=d,i.toRGB_=function(t){var e=f(t);if(e)return e;var i=document.createElement("div");i.style.backgroundColor=t,i.style.visibility="hidden",document.body.appendChild(i);var n=window.getComputedStyle(i,null).backgroundColor;return document.body.removeChild(i),f(n)},i.isCanvasSupported=function(t){try{(t||document.createElement("canvas")).getContext("2d")}catch(t){return!1}return!0},i.parseFloat_=function(t,e,i){var n=parseFloat(t);if(!isNaN(n))return n;if(/^ *$/.test(t))return null;if(/^ *nan *$/i.test(t))return NaN;var r="Unable to parse '"+t+"' as a number";return void 0!==i&&void 0!==e&&(r+=" on line "+(1+(e||0))+" ('"+i+"') of CSV."),console.error(r),null},i.numberValueFormatter=g,i.numberAxisLabelFormatter=function(t,e,i){return g.call(this,t,i)},i.dateAxisLabelFormatter=function(t,e,i){var n=i("labelsUTC")?b:_,r=n.getFullYear(t),o=n.getMonth(t),l=n.getDate(t),h=n.getHours(t),u=n.getMinutes(t),c=n.getSeconds(t),p=n.getMilliseconds(t);if(e>=y.Granularity.DECADAL)return""+r;if(e>=y.Granularity.MONTHLY)return S[o]+"&#160;"+r;if(0===3600*h+60*u+c+.001*p||e>=y.Granularity.DAILY)return a(l)+"&#160;"+S[o];if(e<y.Granularity.SECONDLY){var d=""+p;return a(c)+"."+("000"+d).substring(d.length)}return s(h,u,c,e>y.Granularity.MINUTELY?0:p)},i.dateValueFormatter=function(t,e){return l(t,e("labelsUTC"))};var y=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./dygraph-tickers"));i.LOG_SCALE=10;var v=Math.log(10);i.LN_TEN=v;var m=function(t){return Math.log(t)/v};i.log10=m,i.logRangeFraction=function(t,e,i){var n=m(t),r=m(e);return Math.pow(10,n+i*(r-n))},i.DOTTED_LINE=[2,2],i.DASHED_LINE=[7,3],i.DOT_DASH_LINE=[7,2,2,2],i.HORIZONTAL=1,i.VERTICAL=2,i.getContext=function(t){return t.getContext("2d")},i.addEvent=function(t,e,i){t.addEventListener(e,i,!1)};var _={getFullYear:function(t){return t.getFullYear()},getMonth:function(t){return t.getMonth()},getDate:function(t){return t.getDate()},getHours:function(t){return t.getHours()},getMinutes:function(t){return t.getMinutes()},getSeconds:function(t){return t.getSeconds()},getMilliseconds:function(t){return t.getMilliseconds()},getDay:function(t){return t.getDay()},makeDate:function(t,e,i,n,r,o,a){return new Date(t,e,i,n,r,o,a)}};i.DateAccessorsLocal=_;var b={getFullYear:function(t){return t.getUTCFullYear()},getMonth:function(t){return t.getUTCMonth()},getDate:function(t){return t.getUTCDate()},getHours:function(t){return t.getUTCHours()},getMinutes:function(t){return t.getUTCMinutes()},getSeconds:function(t){return t.getUTCSeconds()},getMilliseconds:function(t){return t.getUTCMilliseconds()},getDay:function(t){return t.getUTCDay()},makeDate:function(t,e,i,n,r,o,a){return new Date(Date.UTC(t,e,i,n,r,o,a))}};i.DateAccessorsUTC=b,p.prototype.next=function(){if(!this.hasNext)return null;for(var t=this.peek,e=this.nextIdx_+1,i=!1;e<this.end_;){if(!this.predicate_||this.predicate_(this.array_,e)){this.peek=this.array_[e],i=!0;break}e++}return this.nextIdx_=e,i||(this.hasNext=!1,this.peek=null),t};var w=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};i.requestAnimFrame=w;var x={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,labelsDiv:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0},T={DEFAULT:function(t,e,i,n,r,o,a){i.beginPath(),i.fillStyle=o,i.arc(n,r,a,0,2*Math.PI,!1),i.fill()}};i.Circles=T;var O=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/,A=["K","M","B","T","Q"],k=["k","M","G","T","P","E","Z","Y"],C=["m","u","n","p","f","a","z","y"],S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},{"./dygraph-tickers":16}],18:[function(t,e,i){(function(n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var a=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=o(t("./dygraph-layout")),l=o(t("./dygraph-canvas")),h=o(t("./dygraph-options")),u=o(t("./dygraph-interaction-model")),c=r(t("./dygraph-tickers")),p=r(t("./dygraph-utils")),d=o(t("./dygraph-default-attrs")),f=(o(t("./dygraph-options-reference")),t("./iframe-tarp")),g=o(f),y=o(t("./datahandler/default")),v=o(t("./datahandler/bars-error")),m=o(t("./datahandler/bars-custom")),_=o(t("./datahandler/default-fractions")),b=o(t("./datahandler/bars-fractions")),w=o(t("./datahandler/bars")),x=o(t("./plugins/annotations")),T=o(t("./plugins/axes")),O=o(t("./plugins/chart-labels")),A=o(t("./plugins/grid")),k=o(t("./plugins/legend")),C=o(t("./plugins/range-selector")),S=o(t("./dygraph-gviz")),D=function(t,e,i){this.__init__(t,e,i)};D.NAME="Dygraph",D.VERSION="2.0.0",D.DEFAULT_ROLL_PERIOD=1,D.DEFAULT_WIDTH=480,D.DEFAULT_HEIGHT=320,D.ANIMATION_STEPS=12,D.ANIMATION_DURATION=200,D.Plotters=l.default._Plotters,D.addedAnnotationCSS=!1,D.prototype.__init__=function(t,e,i){if(this.is_initial_draw_=!0,this.readyFns_=[],null!=i||(i={}),i=D.copyUserAttrs_(i),"string"==typeof t&&(t=document.getElementById(t)),!t)throw new Error("Constructing dygraph with a non-existent div!");this.maindiv_=t,this.file_=e,this.rollPeriod_=i.rollPeriod||D.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=i.fractions||!1,this.dateWindow_=i.dateWindow||null,this.annotations_=[],t.innerHTML="",""===t.style.width&&i.width&&(t.style.width=i.width+"px"),""===t.style.height&&i.height&&(t.style.height=i.height+"px"),""===t.style.height&&0===t.clientHeight&&(t.style.height=D.DEFAULT_HEIGHT+"px",""===t.style.width&&(t.style.width=D.DEFAULT_WIDTH+"px")),this.width_=t.clientWidth||i.width||0,this.height_=t.clientHeight||i.height||0,i.stackedGraph&&(i.fillGraph=!0),this.user_attrs_={},p.update(this.user_attrs_,i),this.attrs_={},p.updateDeep(this.attrs_,d.default),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new h.default(this),this.createInterface_(),this.plugins_=[];for(var n=D.PLUGINS.concat(this.getOption("plugins")),r=0;r<n.length;r++){var o,a=n[r],s={plugin:o=void 0!==a.activate?a:new a,events:{},options:{},pluginOptions:{}},l=o.activate(this);for(var u in l)l.hasOwnProperty(u)&&(s.events[u]=l[u]);this.plugins_.push(s)}for(r=0;r<this.plugins_.length;r++){var c=this.plugins_[r];for(var u in c.events)if(c.events.hasOwnProperty(u)){var f=[c.plugin,c.events[u]];u in this.eventListeners_?this.eventListeners_[u].push(f):this.eventListeners_[u]=[f]}}this.createDragInterface_(),this.start_()},D.prototype.cascadeEvents_=function(t,e){if(!(t in this.eventListeners_))return!1;var i={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!i.cancelable)throw"Cannot call preventDefault on non-cancelable event.";i.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){i.propagationStopped=!0}};p.update(i,e);var n=this.eventListeners_[t];if(n)for(var r=n.length-1;r>=0&&(n[r][1].call(n[r][0],i),!i.propagationStopped);r--);return i.defaultPrevented},D.prototype.getPluginInstance_=function(t){for(var e=0;e<this.plugins_.length;e++){var i=this.plugins_[e];if(i.plugin instanceof t)return i.plugin}return null},D.prototype.isZoomed=function(t){var e=!!this.dateWindow_;if("x"===t)return e;var i=this.axes_.map(function(t){return!!t.valueRange}).indexOf(!0)>=0;if(null==t)return e||i;if("y"===t)return i;throw new Error("axis parameter is ["+t+"] must be null, 'x' or 'y'.")},D.prototype.toString=function(){var t=this.maindiv_;return"[Dygraph "+(t&&t.id?t.id:t)+"]"},D.prototype.attr_=function(t,e){return e?this.attributes_.getForSeries(t,e):this.attributes_.get(t)},D.prototype.getOption=function(t,e){return this.attr_(t,e)},D.prototype.getNumericOption=function(t,e){return this.getOption(t,e)},D.prototype.getStringOption=function(t,e){return this.getOption(t,e)},D.prototype.getBooleanOption=function(t,e){return this.getOption(t,e)},D.prototype.getFunctionOption=function(t,e){return this.getOption(t,e)},D.prototype.getOptionForAxis=function(t,e){return this.attributes_.getForAxis(t,e)},D.prototype.optionsViewForAxis_=function(t){var e=this;return function(i){var n=e.user_attrs_.axes;return n&&n[t]&&n[t].hasOwnProperty(i)?n[t][i]:("x"!==t||"logscale"!==i)&&(void 0!==e.user_attrs_[i]?e.user_attrs_[i]:(n=e.attrs_.axes)&&n[t]&&n[t].hasOwnProperty(i)?n[t][i]:"y"==t&&e.axes_[0].hasOwnProperty(i)?e.axes_[0][i]:"y2"==t&&e.axes_[1].hasOwnProperty(i)?e.axes_[1][i]:e.attr_(i))}},D.prototype.rollPeriod=function(){return this.rollPeriod_},D.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()},D.prototype.xAxisExtremes=function(){var t=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(0===this.numRows())return[0-t,1+t];var e=this.rawData_[0][0],i=this.rawData_[this.rawData_.length-1][0];if(t){var n=i-e;e-=n*t,i+=n*t}return[e,i]},D.prototype.yAxisExtremes=function(){var t=this.gatherDatasets_(this.rolledSeries_,null),e=this.axes_;this.computeYAxisRanges_(t.extremes);var i=this.axes_;return this.axes_=e,i.map(function(t){return t.extremeRange})},D.prototype.yAxisRange=function(t){if(void 0===t&&(t=0),t<0||t>=this.axes_.length)return null;var e=this.axes_[t];return[e.computedValueRange[0],e.computedValueRange[1]]},D.prototype.yAxisRanges=function(){for(var t=[],e=0;e<this.axes_.length;e++)t.push(this.yAxisRange(e));return t},D.prototype.toDomCoords=function(t,e,i){return[this.toDomXCoord(t),this.toDomYCoord(e,i)]},D.prototype.toDomXCoord=function(t){if(null===t)return null;var e=this.plotter_.area,i=this.xAxisRange();return e.x+(t-i[0])/(i[1]-i[0])*e.w},D.prototype.toDomYCoord=function(t,e){var i=this.toPercentYCoord(t,e);if(null===i)return null;var n=this.plotter_.area;return n.y+i*n.h},D.prototype.toDataCoords=function(t,e,i){return[this.toDataXCoord(t),this.toDataYCoord(e,i)]},D.prototype.toDataXCoord=function(t){if(null===t)return null;var e=this.plotter_.area,i=this.xAxisRange();return this.attributes_.getForAxis("logscale","x")?p.logRangeFraction(i[0],i[1],(t-e.x)/e.w):i[0]+(t-e.x)/e.w*(i[1]-i[0])},D.prototype.toDataYCoord=function(t,e){if(null===t)return null;var i=this.plotter_.area,n=this.yAxisRange(e);return void 0===e&&(e=0),this.attributes_.getForAxis("logscale",e)?p.logRangeFraction(n[1],n[0],(t-i.y)/i.h):n[0]+(i.y+i.h-t)/i.h*(n[1]-n[0])},D.prototype.toPercentYCoord=function(t,e){if(null===t)return null;void 0===e&&(e=0);var i,n=this.yAxisRange(e);if(this.attributes_.getForAxis("logscale",e)){var r=p.log10(n[0]),o=p.log10(n[1]);i=(o-p.log10(t))/(o-r)}else i=(n[1]-t)/(n[1]-n[0]);return i},D.prototype.toPercentXCoord=function(t){if(null===t)return null;var e,i=this.xAxisRange();if(!0===this.attributes_.getForAxis("logscale","x")){var n=p.log10(i[0]),r=p.log10(i[1]);e=(p.log10(t)-n)/(r-n)}else e=(t-i[0])/(i[1]-i[0]);return e},D.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0},D.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0},D.prototype.getValue=function(t,e){return t<0||t>this.rawData_.length?null:e<0||e>this.rawData_[t].length?null:this.rawData_[t][e]},D.prototype.createInterface_=function(){var t=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",t.appendChild(this.graphDiv),this.canvas_=p.createCanvas(),this.canvas_.style.position="absolute",this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=p.getContext(this.canvas_),this.hidden_ctx_=p.getContext(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new s.default(this);var e=this;this.mouseMoveHandler_=function(t){e.mouseMove_(t)},this.mouseOutHandler_=function(t){var i=t.relatedTarget||t.toElement;p.isNodeContainedBy(t.target||t.fromElement,e.graphDiv)&&!p.isNodeContainedBy(i,e.graphDiv)&&e.mouseOut_(t)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeHandler_||(this.resizeHandler_=function(t){e.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))},D.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var t=this.getNumericOption("pixelRatio"),e=t||p.getContextPixelRatio(this.canvas_ctx_);this.canvas_.width=this.width_*e,this.canvas_.height=this.height_*e,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",1!==e&&this.canvas_ctx_.scale(e,e);var i=t||p.getContextPixelRatio(this.hidden_ctx_);this.hidden_.width=this.width_*i,this.hidden_.height=this.height_*i,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",1!==i&&this.hidden_ctx_.scale(i,i)},D.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var t=this.plugins_.length-1;t>=0;t--){var e=this.plugins_.pop();e.plugin.destroy&&e.plugin.destroy()}this.removeTrackedEvents_(),p.removeEvent(window,"mouseout",this.mouseOutHandler_),p.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),p.removeEvent(window,"resize",this.resizeHandler_),this.resizeHandler_=null,function t(e){for(;e.hasChildNodes();)t(e.firstChild),e.removeChild(e.firstChild)}(this.maindiv_);var i=function(t){for(var e in t)"object"==typeof t[e]&&(t[e]=null)};i(this.layout_),i(this.plotter_),i(this)},D.prototype.createPlotKitCanvas_=function(t){var e=p.createCanvas();return e.style.position="absolute",e.style.top=t.style.top,e.style.left=t.style.left,e.width=this.width_,e.height=this.height_,e.style.width=this.width_+"px",e.style.height=this.height_+"px",e},D.prototype.createMouseEventElement_=function(){return this.canvas_},D.prototype.setColors_=function(){var t=this.getLabels(),e=t.length-1;this.colors_=[],this.colorsMap_={};for(var i=this.getNumericOption("colorSaturation")||1,n=this.getNumericOption("colorValue")||.5,r=Math.ceil(e/2),o=this.getOption("colors"),a=this.visibility(),s=0;s<e;s++)if(a[s]){var l=t[s+1],h=this.attributes_.getForSeries("color",l);if(!h)if(o)h=o[s%o.length];else{var u=s%2?r+(s+1)/2:Math.ceil((s+1)/2);h=p.hsvToRGB(1*u/(1+e),i,n)}this.colors_.push(h),this.colorsMap_[l]=h}},D.prototype.getColors=function(){return this.colors_},D.prototype.getPropertiesForSeries=function(t){for(var e=-1,i=this.getLabels(),n=1;n<i.length;n++)if(i[n]==t){e=n;break}return-1==e?null:{name:t,column:e,visible:this.visibility()[e-1],color:this.colorsMap_[t],axis:1+this.attributes_.axisForSeries(t)}},D.prototype.createRollInterface_=function(){var t=this,e=this.roller_;e||(this.roller_=e=document.createElement("input"),e.type="text",e.style.display="none",e.className="dygraph-roller",this.graphDiv.appendChild(e));var i=this.getBooleanOption("showRoller")?"block":"none",n=this.getArea(),r={top:n.y+n.h-25+"px",left:n.x+1+"px",display:i};e.size="2",e.value=this.rollPeriod_,p.update(e.style,r),e.onchange=function(){return t.adjustRoll(e.value)}},D.prototype.createDragInterface_=function(){var t={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new g.default,initializeMouseDown:function(t,e,i){t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0);var n=p.findPos(e.canvas_);i.px=n.x,i.py=n.y,i.dragStartX=p.dragGetX_(t,i),i.dragStartY=p.dragGetY_(t,i),i.cancelNextDblclick=!1,i.tarp.cover()},destroy:function(){var t=this;if((t.isZooming||t.isPanning)&&(t.isZooming=!1,t.dragStartX=null,t.dragStartY=null),t.isPanning){t.isPanning=!1,t.draggingDate=null,t.dateRange=null;for(var e=0;e<i.axes_.length;e++)delete i.axes_[e].draggingValue,delete i.axes_[e].dragValueRange}t.tarp.uncover()}},e=this.getOption("interactionModel"),i=this;for(var n in e)e.hasOwnProperty(n)&&this.addAndTrackEvent(this.mouseEventElement_,n,function(e){return function(n){e(n,i,t)}}(e[n]));e.willDestroyContextMyself||this.addAndTrackEvent(document,"mouseup",function(e){t.destroy()})},D.prototype.drawZoomRect_=function(t,e,i,n,r,o,a,s){var l=this.canvas_ctx_;o==p.HORIZONTAL?l.clearRect(Math.min(e,a),this.layout_.getPlotArea().y,Math.abs(e-a),this.layout_.getPlotArea().h):o==p.VERTICAL&&l.clearRect(this.layout_.getPlotArea().x,Math.min(n,s),this.layout_.getPlotArea().w,Math.abs(n-s)),t==p.HORIZONTAL?i&&e&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(Math.min(e,i),this.layout_.getPlotArea().y,Math.abs(i-e),this.layout_.getPlotArea().h)):t==p.VERTICAL&&r&&n&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(this.layout_.getPlotArea().x,Math.min(n,r),this.layout_.getPlotArea().w,Math.abs(r-n)))},D.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)},D.prototype.doZoomX_=function(t,e){this.currentZoomRectArgs_=null;var i=this.toDataXCoord(t),n=this.toDataXCoord(e);this.doZoomXDates_(i,n)},D.prototype.doZoomXDates_=function(t,e){var i=this,n=this.xAxisRange(),r=[t,e],o=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(n,r,null,null,function(){o&&o.call(i,t,e,i.yAxisRanges())})},D.prototype.doZoomY_=function(t,e){var i=this;this.currentZoomRectArgs_=null;for(var n=this.yAxisRanges(),r=[],o=0;o<this.axes_.length;o++){var s=this.toDataYCoord(t,o),l=this.toDataYCoord(e,o);r.push([l,s])}var h=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(null,null,n,r,function(){if(h){var t=i.xAxisRange(),e=a(t,2);h.call(i,e[0],e[1],i.yAxisRanges())}})},D.zoomAnimationFunction=function(t,e){return(1-Math.pow(1.5,-t))/(1-Math.pow(1.5,-e))},D.prototype.resetZoom=function(){var t=this,e=this.isZoomed("x"),i=this.isZoomed("y"),n=e||i;if(this.clearSelection(),n){var r=this.xAxisExtremes(),o=a(r,2),s=o[0],l=o[1],h=this.getBooleanOption("animatedZooms"),u=this.getFunctionOption("zoomCallback");if(!h)return this.dateWindow_=null,this.axes_.forEach(function(t){t.valueRange&&delete t.valueRange}),this.drawGraph_(),void(u&&u.call(this,s,l,this.yAxisRanges()));var c=null,p=null,d=null,f=null;e&&(c=this.xAxisRange(),p=[s,l]),i&&(d=this.yAxisRanges(),f=this.yAxisExtremes()),this.doAnimatedZoom(c,p,d,f,function(){t.dateWindow_=null,t.axes_.forEach(function(t){t.valueRange&&delete t.valueRange}),u&&u.call(t,s,l,t.yAxisRanges())})}},D.prototype.doAnimatedZoom=function(t,e,i,n,r){var o,a,s=this,l=this.getBooleanOption("animatedZooms")?D.ANIMATION_STEPS:1,h=[],u=[];if(null!==t&&null!==e)for(o=1;o<=l;o++)a=D.zoomAnimationFunction(o,l),h[o-1]=[t[0]*(1-a)+a*e[0],t[1]*(1-a)+a*e[1]];if(null!==i&&null!==n)for(o=1;o<=l;o++){a=D.zoomAnimationFunction(o,l);for(var c=[],d=0;d<this.axes_.length;d++)c.push([i[d][0]*(1-a)+a*n[d][0],i[d][1]*(1-a)+a*n[d][1]]);u[o-1]=c}p.repeatAndCleanup(function(t){if(u.length)for(var e=0;e<s.axes_.length;e++){var i=u[t][e];s.axes_[e].valueRange=[i[0],i[1]]}h.length&&(s.dateWindow_=h[t]),s.drawGraph_()},l,D.ANIMATION_DURATION/l,r)},D.prototype.getArea=function(){return this.plotter_.area},D.prototype.eventToDomCoords=function(t){if(t.offsetX&&t.offsetY)return[t.offsetX,t.offsetY];var e=p.findPos(this.mouseEventElement_);return[p.pageX(t)-e.x,p.pageY(t)-e.y]},D.prototype.findClosestRow=function(t){for(var e=1/0,i=-1,n=this.layout_.points,r=0;r<n.length;r++)for(var o=n[r],a=o.length,s=0;s<a;s++){var l=o[s];if(p.isValidPoint(l,!0)){var h=Math.abs(l.canvasx-t);h<e&&(e=h,i=l.idx)}}return i},D.prototype.findClosestPoint=function(t,e){for(var i,n,r,o,a,s,l,h=1/0,u=this.layout_.points.length-1;u>=0;--u)for(var c=this.layout_.points[u],d=0;d<c.length;++d)p.isValidPoint(o=c[d])&&(i=(n=o.canvasx-t)*n+(r=o.canvasy-e)*r)<h&&(h=i,a=o,s=u,l=o.idx);return{row:l,seriesName:this.layout_.setNames[s],point:a}},D.prototype.findStackedPoint=function(t,e){for(var i,n,r=this.findClosestRow(t),o=0;o<this.layout_.points.length;++o){var a=r-this.getLeftBoundary_(o),s=this.layout_.points[o];if(!(a>=s.length)){var l=s[a];if(p.isValidPoint(l)){var h=l.canvasy;if(t>l.canvasx&&a+1<s.length){var u=s[a+1];p.isValidPoint(u)&&(c=u.canvasx-l.canvasx)>0&&(h+=(t-l.canvasx)/c*(u.canvasy-l.canvasy))}else if(t<l.canvasx&&a>0){var c,d=s[a-1];p.isValidPoint(d)&&(c=l.canvasx-d.canvasx)>0&&(h+=(l.canvasx-t)/c*(d.canvasy-l.canvasy))}(0===o||h<e)&&(i=l,n=o)}}}return{row:r,seriesName:this.layout_.setNames[n],point:i}},D.prototype.mouseMove_=function(t){if(null!=this.layout_.points){var e=this.eventToDomCoords(t),i=e[0],n=e[1],r=!1;if(this.getOption("highlightSeriesOpts")&&!this.isSeriesLocked()){var o;o=this.getBooleanOption("stackedGraph")?this.findStackedPoint(i,n):this.findClosestPoint(i,n),r=this.setSelection(o.row,o.seriesName)}else{var a=this.findClosestRow(i);r=this.setSelection(a)}var s=this.getFunctionOption("highlightCallback");s&&r&&s.call(this,t,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}},D.prototype.getLeftBoundary_=function(t){if(this.boundaryIds_[t])return this.boundaryIds_[t][0];for(var e=0;e<this.boundaryIds_.length;e++)if(void 0!==this.boundaryIds_[e])return this.boundaryIds_[e][0];return 0},D.prototype.animateSelection_=function(t){void 0===this.fadeLevel&&(this.fadeLevel=0),void 0===this.animateId&&(this.animateId=0);var e=this.fadeLevel,i=t<0?e:10-e;if(i<=0)this.fadeLevel&&this.updateSelection_(1);else{var n=++this.animateId,r=this;p.repeatAndCleanup(function(e){r.animateId==n&&(r.fadeLevel+=t,0===r.fadeLevel?r.clearSelection():r.updateSelection_(r.fadeLevel/10))},i,30,function(){0!==r.fadeLevel&&t<0&&(r.fadeLevel=0,r.clearSelection())})}},D.prototype.updateSelection_=function(t){this.cascadeEvents_("select",{selectedRow:-1===this.lastRow_?void 0:this.lastRow_,selectedX:-1===this.lastx_?void 0:this.lastx_,selectedPoints:this.selPoints_});var e,i=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){i.clearRect(0,0,this.width_,this.height_);var n=1-this.getNumericOption("highlightSeriesBackgroundAlpha"),r=p.toRGB_(this.getOption("highlightSeriesBackgroundColor"));if(n){if(void 0===t)return void this.animateSelection_(1);i.fillStyle="rgba("+r.r+","+r.g+","+r.b+","+(n*=t)+")",i.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,i)}else if(this.previousVerticalX_>=0){var o=0,a=this.attr_("labels");for(e=1;e<a.length;e++){var s=this.getNumericOption("highlightCircleSize",a[e]);s>o&&(o=s)}i.clearRect(this.previousVerticalX_-o-1,0,2*o+2,this.height_)}if(this.selPoints_.length>0){var l=this.selPoints_[0].canvasx;for(i.save(),e=0;e<this.selPoints_.length;e++){var h=this.selPoints_[e];if(!isNaN(h.canvasy)){var u=this.getNumericOption("highlightCircleSize",h.name),c=this.getFunctionOption("drawHighlightPointCallback",h.name),d=this.plotter_.colors[h.name];c||(c=p.Circles.DEFAULT),i.lineWidth=this.getNumericOption("strokeWidth",h.name),i.strokeStyle=d,i.fillStyle=d,c.call(this,this,h.name,i,l,h.canvasy,d,u,h.idx)}}i.restore(),this.previousVerticalX_=l}},D.prototype.setSelection=function(t,e,i){this.selPoints_=[];var n=!1;if(!1!==t&&t>=0){t!=this.lastRow_&&(n=!0),this.lastRow_=t;for(var r=0;r<this.layout_.points.length;++r){var o=this.layout_.points[r],a=t-this.getLeftBoundary_(r);if(a>=0&&a<o.length&&o[a].idx==t)null!==(l=o[a]).yval&&this.selPoints_.push(l);else for(var s=0;s<o.length;++s){var l;if((l=o[s]).idx==t){null!==l.yval&&this.selPoints_.push(l);break}}}}else this.lastRow_>=0&&(n=!0),this.lastRow_=-1;return this.lastx_=this.selPoints_.length?this.selPoints_[0].xval:-1,void 0!==e&&(this.highlightSet_!==e&&(n=!0),this.highlightSet_=e),void 0!==i&&(this.lockedSet_=i),n&&this.updateSelection_(void 0),n},D.prototype.mouseOut_=function(t){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,t),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()},D.prototype.clearSelection=function(){this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel?this.animateSelection_(-1):(this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,this.highlightSet_=null)},D.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1)return-1;for(var t=0;t<this.layout_.points.length;t++)for(var e=this.layout_.points[t],i=0;i<e.length;i++)if(e[i].x==this.selPoints_[0].x)return e[i].idx;return-1},D.prototype.getHighlightSeries=function(){return this.highlightSet_},D.prototype.isSeriesLocked=function(){return this.lockedSet_},D.prototype.loadedEvent_=function(t){this.rawData_=this.parseCSV_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_()},D.prototype.addXTicks_=function(){var t;t=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:this.xAxisExtremes();var e=this.optionsViewForAxis_("x"),i=e("ticker")(t[0],t[1],this.plotter_.area.w,e,this);this.layout_.setXTicks(i)},D.prototype.getHandlerClass_=function(){return this.attr_("dataHandler")?this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?b.default:_.default:this.getBooleanOption("customBars")?m.default:this.getBooleanOption("errorBars")?v.default:y.default},D.prototype.predraw_=function(){var t=new Date;this.dataHandler_=new(this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new l.default(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var e=1;e<this.numColumns();e++){var i=this.dataHandler_.extractSeries(this.rawData_,e,this.attributes_);this.rollPeriod_>1&&(i=this.dataHandler_.rollingAverage(i,this.rollPeriod_,this.attributes_)),this.rolledSeries_.push(i)}this.drawGraph_();var n=new Date;this.drawingTimeMs_=n-t},D.PointType=void 0,D.stackPoints_=function(t,e,i,n){for(var r=null,o=null,a=null,s=-1,l=0;l<t.length;++l){var h=t[l],u=h.xval;void 0===e[u]&&(e[u]=0);var c=h.yval;isNaN(c)||null===c?"none"==n?c=0:(function(e){if(!(s>=l))for(var i=l;i<t.length;++i)if(a=null,!isNaN(t[i].yval)&&null!==t[i].yval){s=i,a=t[i];break}}(),c=o&&a&&"none"!=n?o.yval+(u-o.xval)/(a.xval-o.xval)*(a.yval-o.yval):o&&"all"==n?o.yval:a&&"all"==n?a.yval:0):o=h;var p=e[u];r!=u&&(e[u]=p+=c),r=u,h.yval_stacked=p,p>i[1]&&(i[1]=p),p<i[0]&&(i[0]=p)}},D.prototype.gatherDatasets_=function(t,e){var i,n,r,o,a,s,l=[],h=[],u=[],c={};for(i=t.length-1;i>=1;i--)if(this.visibility()[i-1]){if(e){s=t[i];var p=e[0],d=e[1];for(r=null,o=null,n=0;n<s.length;n++)s[n][0]>=p&&null===r&&(r=n),s[n][0]<=d&&(o=n);null===r&&(r=0);for(var f=r,g=!0;g&&f>0;)g=null===s[--f][1];null===o&&(o=s.length-1);var y=o;for(g=!0;g&&y<s.length-1;)g=null===s[++y][1];f!==r&&(r=f),y!==o&&(o=y),l[i-1]=[r,o],s=s.slice(r,o+1)}else l[i-1]=[0,(s=t[i]).length-1];var v=this.attr_("labels")[i],m=this.dataHandler_.getExtremeYValues(s,e,this.getBooleanOption("stepPlot",v)),_=this.dataHandler_.seriesToPoints(s,v,l[i-1][0]);this.getBooleanOption("stackedGraph")&&(void 0===u[a=this.attributes_.axisForSeries(v)]&&(u[a]=[]),D.stackPoints_(_,u[a],m,this.getBooleanOption("stackedGraphNaNFill"))),c[v]=m,h[i]=_}return{points:h,extremes:c,boundaryIds:l}},D.prototype.drawGraph_=function(){var t=new Date,e=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var i=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),n=i.points,r=i.extremes;this.boundaryIds_=i.boundaryIds,this.setIndexByName_={};for(var o=this.attr_("labels"),a=0,s=1;s<n.length;s++)this.visibility()[s-1]&&(this.layout_.addDataset(o[s],n[s]),this.datasetIndex_[s]=a++);for(s=0;s<o.length;s++)this.setIndexByName_[o[s]]=s;if(this.computeYAxisRanges_(r),this.layout_.setYAxes(this.axes_),this.addXTicks_(),this.layout_.evaluate(),this.renderGraph_(e),this.getStringOption("timingName")){var l=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(l-t)+"ms")}},D.prototype.renderGraph_=function(t){this.cascadeEvents_("clearChart"),this.plotter_.clear();var e=this.getFunctionOption("underlayCallback");e&&e.call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var i={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",i),this.plotter_.render(),this.cascadeEvents_("didDrawChart",i),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_);var n=this.getFunctionOption("drawCallback");if(null!==n&&n.call(this,this,t),t)for(this.readyFired_=!0;this.readyFns_.length>0;)this.readyFns_.pop()(this)},D.prototype.computeYAxes_=function(){var t,e,i;for(this.axes_=[],t=0;t<this.attributes_.numAxes();t++)p.update(e={g:this},this.attributes_.axisOptions(t)),this.axes_[t]=e;for(t=0;t<this.axes_.length;t++)if(0===t)(i=(e=this.optionsViewForAxis_("y"+(t?"2":"")))("valueRange"))&&(this.axes_[t].valueRange=i);else{var n=this.user_attrs_.axes;n&&n.y2&&(i=n.y2.valueRange)&&(this.axes_[t].valueRange=i)}},D.prototype.numAxes=function(){return this.attributes_.numAxes()},D.prototype.axisPropertiesForSeries=function(t){return this.axes_[this.attributes_.axisForSeries(t)]},D.prototype.computeYAxisRanges_=function(t){for(var e,i,n,r,o,a=function(t){return isNaN(parseFloat(t))},s=this.attributes_.numAxes(),l=0;l<s;l++){var h=this.axes_[l],u=this.attributes_.getForAxis("logscale",l),c=this.attributes_.getForAxis("includeZero",l),d=this.attributes_.getForAxis("independentTicks",l);n=this.attributes_.seriesForAxis(l),e=!0,r=.1;var f=this.getNumericOption("yRangePad");if(null!==f&&(e=!1,r=f/this.plotter_.area.h),0===n.length)h.extremeRange=[0,1];else{for(var g,y,v=1/0,m=-1/0,_=0;_<n.length;_++)t.hasOwnProperty(n[_])&&(null!==(g=t[n[_]][0])&&(v=Math.min(g,v)),null!==(y=t[n[_]][1])&&(m=Math.max(y,m)));c&&!u&&(v>0&&(v=0),m<0&&(m=0)),v==1/0&&(v=0),m==-1/0&&(m=1),0==(i=m-v)&&(0!==m?i=Math.abs(m):(m=1,i=1));var b=m,w=v;e&&(u?(b=m+r*i,w=v):((w=v-r*i)<0&&v>=0&&(w=0),(b=m+r*i)>0&&m<=0&&(b=0))),h.extremeRange=[w,b]}if(h.valueRange){var x=a(h.valueRange[0])?h.extremeRange[0]:h.valueRange[0],T=a(h.valueRange[1])?h.extremeRange[1]:h.valueRange[1];h.computedValueRange=[x,T]}else h.computedValueRange=h.extremeRange;if(!e)if(u){var O=(r-1)/(2*r-1);h.computedValueRange[0]=p.logRangeFraction(x=h.computedValueRange[0],T=h.computedValueRange[1],r/(2*r-1)),h.computedValueRange[1]=p.logRangeFraction(x,T,O)}else h.computedValueRange[0]=(x=h.computedValueRange[0])-(i=(T=h.computedValueRange[1])-x)*r,h.computedValueRange[1]=T+i*r;if(d){h.independentTicks=d;var A=(k=this.optionsViewForAxis_("y"+(l?"2":"")))("ticker");h.ticks=A(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,k,this),o||(o=h)}}if(void 0===o)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(l=0;l<s;l++)if(!(h=this.axes_[l]).independentTicks){A=(k=this.optionsViewForAxis_("y"+(l?"2":"")))("ticker");for(var k,C=o.ticks,S=o.computedValueRange[1]-o.computedValueRange[0],D=h.computedValueRange[1]-h.computedValueRange[0],E=[],P=0;P<C.length;P++)E.push(h.computedValueRange[0]+(C[P].v-o.computedValueRange[0])/S*D);h.ticks=A(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,k,this,E)}},D.prototype.detectTypeFromString_=function(t){var e=!1,i=t.indexOf("-");i>0&&"e"!=t[i-1]&&"E"!=t[i-1]||t.indexOf("/")>=0||isNaN(parseFloat(t))?e=!0:8==t.length&&t>"19700101"&&t<"20371231"&&(e=!0),this.setXAxisOptions_(e)},D.prototype.setXAxisOptions_=function(t){t?(this.attrs_.xValueParser=p.dateParser,this.attrs_.axes.x.valueFormatter=p.dateValueFormatter,this.attrs_.axes.x.ticker=c.dateTicker,this.attrs_.axes.x.axisLabelFormatter=p.dateAxisLabelFormatter):(this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=c.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)},D.prototype.parseCSV_=function(t){var e,i,n=[],r=p.detectLineDelimiter(t),o=t.split(r||"\n"),a=this.getStringOption("delimiter");-1==o[0].indexOf(a)&&o[0].indexOf("\t")>=0&&(a="\t");var s=0;"labels"in this.user_attrs_||(s=1,this.attrs_.labels=o[0].split(a),this.attributes_.reparseSeries());for(var l,h=!1,u=this.attr_("labels").length,c=!1,d=s;d<o.length;d++){var f=o[d];if(0!==f.length&&"#"!=f[0]){var g=f.split(a);if(!(g.length<2)){var y=[];if(h||(this.detectTypeFromString_(g[0]),l=this.getFunctionOption("xValueParser"),h=!0),y[0]=l(g[0],this),this.fractions_)for(i=1;i<g.length;i++)2!=(e=g[i].split("/")).length?(console.error('Expected fractional "num/den" values in CSV data but found a value \''+g[i]+"' on line "+(1+d)+" ('"+f+"') which is not of this form."),y[i]=[0,0]):y[i]=[p.parseFloat_(e[0],d,f),p.parseFloat_(e[1],d,f)];else if(this.getBooleanOption("errorBars"))for(g.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+d)+" has an odd number of values ("+(g.length-1)+"): '"+f+"'"),i=1;i<g.length;i+=2)y[(i+1)/2]=[p.parseFloat_(g[i],d,f),p.parseFloat_(g[i+1],d,f)];else if(this.getBooleanOption("customBars"))for(i=1;i<g.length;i++){var v=g[i];/^ *$/.test(v)?y[i]=[null,null,null]:3==(e=v.split(";")).length?y[i]=[p.parseFloat_(e[0],d,f),p.parseFloat_(e[1],d,f),p.parseFloat_(e[2],d,f)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+v+'" on line '+(1+d))}else for(i=1;i<g.length;i++)y[i]=p.parseFloat_(g[i],d,f);if(n.length>0&&y[0]<n[n.length-1][0]&&(c=!0),y.length!=u&&console.error("Number of columns in line "+d+" ("+y.length+") does not agree with number of labels ("+u+") "+f),0===d&&this.attr_("labels")){var m=!0;for(i=0;m&&i<y.length;i++)y[i]&&(m=!1);if(m){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+f+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}n.push(y)}}}return c&&(console.warn("CSV is out of order; order it correctly to speed loading."),n.sort(function(t,e){return t[0]-e[0]})),n},D.prototype.parseArray_=function(t){if(0===t.length)return console.error("Can't plot empty data set"),null;if(0===t[0].length)return console.error("Data set cannot contain an empty row"),null;var e;if(function(t){var e=t[0],i=e[0];if("number"!=typeof i&&!p.isDateLike(i))throw new Error("Expected number or date but got "+typeof i+": "+i+".");for(var n=1;n<e.length;n++){var r=e[n];if(null!=r&&"number"!=typeof r&&!p.isArrayLike(r))throw new Error("Expected number or array but got "+typeof r+": "+r+".")}}(t),null===this.attr_("labels")){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],e=1;e<t[0].length;e++)this.attrs_.labels.push("Y"+e);this.attributes_.reparseSeries()}else{var i=this.attr_("labels");if(i.length!=t[0].length)return console.error("Mismatch between number of labels ("+i+") and number of columns in array ("+t[0].length+")"),null}if(p.isDateLike(t[0][0])){this.attrs_.axes.x.valueFormatter=p.dateValueFormatter,this.attrs_.axes.x.ticker=c.dateTicker,this.attrs_.axes.x.axisLabelFormatter=p.dateAxisLabelFormatter;var n=p.clone(t);for(e=0;e<t.length;e++){if(0===n[e].length)return console.error("Row "+(1+e)+" of data is empty"),null;if(null===n[e][0]||"function"!=typeof n[e][0].getTime||isNaN(n[e][0].getTime()))return console.error("x value in row "+(1+e)+" is not a Date"),null;n[e][0]=n[e][0].getTime()}return n}return this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=c.numericTicks,this.attrs_.axes.x.axisLabelFormatter=p.numberAxisLabelFormatter,t},D.prototype.parseDataTable_=function(t){var e=t.getNumberOfColumns(),i=t.getNumberOfRows(),n=t.getColumnType(0);if("date"==n||"datetime"==n)this.attrs_.xValueParser=p.dateParser,this.attrs_.axes.x.valueFormatter=p.dateValueFormatter,this.attrs_.axes.x.ticker=c.dateTicker,this.attrs_.axes.x.axisLabelFormatter=p.dateAxisLabelFormatter;else{if("number"!=n)throw new Error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+n+"')");this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=c.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}var r,o,a=[],s={},l=!1;for(r=1;r<e;r++){var h=t.getColumnType(r);if("number"==h)a.push(r);else{if("string"!=h||!this.getBooleanOption("displayAnnotations"))throw new Error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true");var u=a[a.length-1];s.hasOwnProperty(u)?s[u].push(r):s[u]=[r],l=!0}}var d=[t.getColumnLabel(0)];for(r=0;r<a.length;r++)d.push(t.getColumnLabel(a[r])),this.getBooleanOption("errorBars")&&(r+=1);this.attrs_.labels=d,e=d.length;var f=[],g=!1,y=[];for(r=0;r<i;r++){var v=[];if(void 0!==t.getValue(r,0)&&null!==t.getValue(r,0)){if(v.push("date"==n||"datetime"==n?t.getValue(r,0).getTime():t.getValue(r,0)),this.getBooleanOption("errorBars"))for(o=0;o<e-1;o++)v.push([t.getValue(r,1+2*o),t.getValue(r,2+2*o)]);else{for(o=0;o<a.length;o++){var m=a[o];if(v.push(t.getValue(r,m)),l&&s.hasOwnProperty(m)&&null!==t.getValue(r,s[m][0])){var _={};_.series=t.getColumnLabel(m),_.xval=v[0],_.shortText=function(t){var e=String.fromCharCode(65+t%26);for(t=Math.floor(t/26);t>0;)e=String.fromCharCode(65+(t-1)%26)+e.toLowerCase(),t=Math.floor((t-1)/26);return e}(y.length),_.text="";for(var b=0;b<s[m].length;b++)b&&(_.text+="\n"),_.text+=t.getValue(r,s[m][b]);y.push(_)}}for(o=0;o<v.length;o++)isFinite(v[o])||(v[o]=null)}f.length>0&&v[0]<f[f.length-1][0]&&(g=!0),f.push(v)}else console.warn("Ignoring row "+r+" of DataTable because of undefined or null first column.")}g&&(console.warn("DataTable is out of order; order it correctly to speed loading."),f.sort(function(t,e){return t[0]-e[0]})),this.rawData_=f,y.length>0&&this.setAnnotations(y,!0),this.attributes_.reparseSeries()},D.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})},D.prototype.start_=function(){var t=this.file_;if("function"==typeof t&&(t=t()),p.isArrayLike(t))this.rawData_=this.parseArray_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("object"==typeof t&&"function"==typeof t.getColumnRange)this.parseDataTable_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("string"==typeof t)if(p.detectLineDelimiter(t))this.loadedEvent_(t);else{var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var i=this;e.onreadystatechange=function(){4==e.readyState&&(200!==e.status&&0!==e.status||i.loadedEvent_(e.responseText))},e.open("GET",t,!0),e.send(null)}else console.error("Unknown data format: "+typeof t)},D.prototype.updateOptions=function(t,e){void 0===e&&(e=!1);var i=t.file,n=D.copyUserAttrs_(t);"rollPeriod"in n&&(this.rollPeriod_=n.rollPeriod),"dateWindow"in n&&(this.dateWindow_=n.dateWindow);var r=p.isPixelChangingOptionList(this.attr_("labels"),n);p.updateDeep(this.user_attrs_,n),this.attributes_.reparseSeries(),i?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=i,e||this.start_()):e||(r?this.predraw_():this.renderGraph_(!1))},D.copyUserAttrs_=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&"file"!=i&&t.hasOwnProperty(i)&&(e[i]=t[i]);return e},D.prototype.resize=function(t,e){if(!this.resize_lock){this.resize_lock=!0,null===t!=(null===e)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),t=e=null);var i=this.width_,n=this.height_;t?(this.maindiv_.style.width=t+"px",this.maindiv_.style.height=e+"px",this.width_=t,this.height_=e):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),i==this.width_&&n==this.height_||(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}},D.prototype.adjustRoll=function(t){this.rollPeriod_=t,this.predraw_()},D.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")},D.prototype.setVisibility=function(t,e){var i=this.visibility(),n=!1;if(Array.isArray(t)||(null!==t&&"object"==typeof t?n=!0:t=[t]),n)for(var r in t)t.hasOwnProperty(r)&&(r<0||r>=i.length?console.warn("Invalid series number in setVisibility: "+r):i[r]=t[r]);else for(r=0;r<t.length;r++)"boolean"==typeof t[r]?r>=i.length?console.warn("Invalid series number in setVisibility: "+r):i[r]=t[r]:t[r]<0||t[r]>=i.length?console.warn("Invalid series number in setVisibility: "+t[r]):i[t[r]]=e;this.predraw_()},D.prototype.size=function(){return{width:this.width_,height:this.height_}},D.prototype.setAnnotations=function(t,e){this.annotations_=t,this.layout_?(this.layout_.setAnnotations(this.annotations_),e||this.predraw_()):console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html")},D.prototype.annotations=function(){return this.annotations_},D.prototype.getLabels=function(){var t=this.attr_("labels");return t?t.slice():null},D.prototype.indexFromSetName=function(t){return this.setIndexByName_[t]},D.prototype.getRowForX=function(t){for(var e=0,i=this.numRows()-1;e<=i;){var n=i+e>>1,r=this.getValue(n,0);if(r<t)e=n+1;else if(r>t)i=n-1;else{if(e==n)return n;i=n}}return null},D.prototype.ready=function(t){this.is_initial_draw_?this.readyFns_.push(t):t.call(this,this)},D.prototype.addAndTrackEvent=function(t,e,i){p.addEvent(t,e,i),this.registeredEvents_.push({elem:t,type:e,fn:i})},D.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var t=0;t<this.registeredEvents_.length;t++){var e=this.registeredEvents_[t];p.removeEvent(e.elem,e.type,e.fn)}this.registeredEvents_=[]},D.PLUGINS=[k.default,T.default,C.default,O.default,x.default,A.default],D.GVizChart=S.default,D.DASHED_LINE=p.DASHED_LINE,D.DOT_DASH_LINE=p.DOT_DASH_LINE,D.dateAxisLabelFormatter=p.dateAxisLabelFormatter,D.toRGB_=p.toRGB_,D.findPos=p.findPos,D.pageX=p.pageX,D.pageY=p.pageY,D.dateString_=p.dateString_,D.defaultInteractionModel=u.default.defaultModel,D.nonInteractiveModel=D.nonInteractiveModel_=u.default.nonInteractiveModel_,D.Circles=p.Circles,D.Plugins={Legend:k.default,Axes:T.default,Annotations:x.default,ChartLabels:O.default,Grid:A.default,RangeSelector:C.default},D.DataHandlers={DefaultHandler:y.default,BarsHandler:w.default,CustomBarsHandler:m.default,DefaultFractionHandler:_.default,ErrorBarsHandler:v.default,FractionsBarsHandler:b.default},D.startPan=u.default.startPan,D.startZoom=u.default.startZoom,D.movePan=u.default.movePan,D.moveZoom=u.default.moveZoom,D.endPan=u.default.endPan,D.endZoom=u.default.endZoom,D.numericLinearTicks=c.numericLinearTicks,D.numericTicks=c.numericTicks,D.dateTicker=c.dateTicker,D.Granularity=c.Granularity,D.getDateAxis=c.getDateAxis,D.floatFormat=p.floatFormat,i.default=D,e.exports=i.default}).call(this,t("_process"))},{"./datahandler/bars":5,"./datahandler/bars-custom":2,"./datahandler/bars-error":3,"./datahandler/bars-fractions":4,"./datahandler/default":8,"./datahandler/default-fractions":7,"./dygraph-canvas":9,"./dygraph-default-attrs":10,"./dygraph-gviz":11,"./dygraph-interaction-model":12,"./dygraph-layout":13,"./dygraph-options":15,"./dygraph-options-reference":14,"./dygraph-tickers":16,"./dygraph-utils":17,"./iframe-tarp":19,"./plugins/annotations":20,"./plugins/axes":21,"./plugins/chart-labels":22,"./plugins/grid":23,"./plugins/legend":24,"./plugins/range-selector":25,_process:1}],19:[function(t,e,i){"use strict";function n(){this.tarps=[]}Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./dygraph-utils"));n.prototype.cover=function(){for(var t=document.getElementsByTagName("iframe"),e=0;e<t.length;e++){var i=t[e],n=r.findPos(i),o=n.x,a=n.y,s=i.offsetWidth,l=i.offsetHeight,h=document.createElement("div");h.style.position="absolute",h.style.left=o+"px",h.style.top=a+"px",h.style.width=s+"px",h.style.height=l+"px",h.style.zIndex=999,document.body.appendChild(h),this.tarps.push(h)}},n.prototype.uncover=function(){for(var t=0;t<this.tarps.length;t++)this.tarps[t].parentNode.removeChild(this.tarps[t]);this.tarps=[]},i.default=n,e.exports=i.default},{"./dygraph-utils":17}],20:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){this.annotations_=[]};n.prototype.toString=function(){return"Annotations Plugin"},n.prototype.activate=function(t){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}},n.prototype.detachLabels=function(){for(var t=0;t<this.annotations_.length;t++){var e=this.annotations_[t];e.parentNode&&e.parentNode.removeChild(e),this.annotations_[t]=null}this.annotations_=[]},n.prototype.clearChart=function(t){this.detachLabels()},n.prototype.didDrawChart=function(t){var e=t.dygraph,i=e.layout_.annotated_points;if(i&&0!==i.length)for(var n=t.canvas.parentNode,r=function(t,i,n){return function(r){var o=n.annotation;o.hasOwnProperty(t)?o[t](o,n,e,r):e.getOption(i)&&e.getOption(i)(o,n,e,r)}},o=t.dygraph.getArea(),a={},s=0;s<i.length;s++){var l=i[s];if(!(l.canvasx<o.x||l.canvasx>o.x+o.w||l.canvasy<o.y||l.canvasy>o.y+o.h)){var h=l.annotation,u=6;h.hasOwnProperty("tickHeight")&&(u=h.tickHeight);var c=document.createElement("div");c.style.fontSize=e.getOption("axisLabelFontSize")+"px";var p="dygraph-annotation";h.hasOwnProperty("icon")||(p+=" dygraphDefaultAnnotation dygraph-default-annotation"),h.hasOwnProperty("cssClass")&&(p+=" "+h.cssClass),c.className=p;var d=h.hasOwnProperty("width")?h.width:16,f=h.hasOwnProperty("height")?h.height:16;if(h.hasOwnProperty("icon")){var g=document.createElement("img");g.src=h.icon,g.width=d,g.height=f,c.appendChild(g)}else l.annotation.hasOwnProperty("shortText")&&c.appendChild(document.createTextNode(l.annotation.shortText));var y=l.canvasx-d/2;c.style.left=y+"px";var v=0;if(h.attachAtBottom){var m=o.y+o.h-f-u;a[y]?m-=a[y]:a[y]=0,a[y]+=u+f,v=m}else v=l.canvasy-f-u;c.style.top=v+"px",c.style.width=d+"px",c.style.height=f+"px",c.title=l.annotation.text,c.style.color=e.colorsMap_[l.name],c.style.borderColor=e.colorsMap_[l.name],h.div=c,e.addAndTrackEvent(c,"click",r("clickHandler","annotationClickHandler",l)),e.addAndTrackEvent(c,"mouseover",r("mouseOverHandler","annotationMouseOverHandler",l)),e.addAndTrackEvent(c,"mouseout",r("mouseOutHandler","annotationMouseOutHandler",l)),e.addAndTrackEvent(c,"dblclick",r("dblClickHandler","annotationDblClickHandler",l)),n.appendChild(c),this.annotations_.push(c);var _=t.drawingContext;_.save(),_.strokeStyle=h.hasOwnProperty("tickColor")?h.tickColor:e.colorsMap_[l.name],_.lineWidth=h.hasOwnProperty("tickWidth")?h.tickWidth:e.getOption("strokeWidth"),_.beginPath(),h.attachAtBottom?(_.moveTo(l.canvasx,m=v+f),_.lineTo(l.canvasx,m+u)):(_.moveTo(l.canvasx,l.canvasy),_.lineTo(l.canvasx,l.canvasy-2-u)),_.closePath(),_.stroke(),_.restore()}}},n.prototype.destroy=function(){this.detachLabels()},i.default=n,e.exports=i.default},{}],21:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../dygraph-utils")),r=function(){this.xlabels_=[],this.ylabels_=[]};r.prototype.toString=function(){return"Axes Plugin"},r.prototype.activate=function(t){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}},r.prototype.layout=function(t){var e,i=t.dygraph;if(i.getOptionForAxis("drawAxis","y")){var n=i.getOptionForAxis("axisLabelWidth","y")+2*i.getOptionForAxis("axisTickSize","y");t.reserveSpaceLeft(n)}i.getOptionForAxis("drawAxis","x")&&(e=i.getOption("xAxisHeight")?i.getOption("xAxisHeight"):i.getOptionForAxis("axisLabelFontSize","x")+2*i.getOptionForAxis("axisTickSize","x"),t.reserveSpaceBottom(e)),2==i.numAxes()?i.getOptionForAxis("drawAxis","y2")&&(n=i.getOptionForAxis("axisLabelWidth","y2")+2*i.getOptionForAxis("axisTickSize","y2"),t.reserveSpaceRight(n)):i.numAxes()>2&&i.error("Only two y-axes are supported at this time. (Trying to use "+i.numAxes()+")")},r.prototype.detachLabels=function(){function t(t){for(var e=0;e<t.length;e++){var i=t[e];i.parentNode&&i.parentNode.removeChild(i)}}t(this.xlabels_),t(this.ylabels_),this.xlabels_=[],this.ylabels_=[]},r.prototype.clearChart=function(t){this.detachLabels()},r.prototype.willDrawChart=function(t){function e(t){return Math.round(t)+.5}function i(t){return Math.round(t)-.5}var r=this,o=t.dygraph;if(o.getOptionForAxis("drawAxis","x")||o.getOptionForAxis("drawAxis","y")||o.getOptionForAxis("drawAxis","y2")){var a,s,l,h=t.drawingContext,u=t.canvas.parentNode,c=o.width_,p=o.height_,d=function(t){return{position:"absolute",fontSize:o.getOptionForAxis("axisLabelFontSize",t)+"px",width:o.getOptionForAxis("axisLabelWidth",t)+"px"}},f={x:d("x"),y:d("y"),y2:d("y2")},g=function(t,e,i){var r=document.createElement("div");n.update(r.style,f["y2"==i?"y2":e]);var o=document.createElement("div");return o.className="dygraph-axis-label dygraph-axis-label-"+e+(i?" dygraph-axis-label-"+i:""),o.innerHTML=t,r.appendChild(o),r};h.save();var y=o.layout_,v=t.dygraph.plotter_.area,m=function(t){return function(e){return o.getOptionForAxis(e,t)}};if(o.getOptionForAxis("drawAxis","y")){if(y.yticks&&y.yticks.length>0){var _=o.numAxes(),b=[m("y"),m("y2")];y.yticks.forEach(function(t){if(void 0!==t.label){s=v.x;var e="y1",i=b[0];1==t.axis&&(s=v.x+v.w,e="y2",i=b[1]);var n=i("axisLabelFontSize");l=v.y+t.pos*v.h,a=g(t.label,"y",2==_?e:null);var o=l-n/2;o<0&&(o=0),o+n+3>p?a.style.bottom="0":a.style.top=o+"px",0===t.axis?(a.style.left=v.x-i("axisLabelWidth")-i("axisTickSize")+"px",a.style.textAlign="right"):1==t.axis&&(a.style.left=v.x+v.w+i("axisTickSize")+"px",a.style.textAlign="left"),a.style.width=i("axisLabelWidth")+"px",u.appendChild(a),r.ylabels_.push(a)}});var w=this.ylabels_[0],x=o.getOptionForAxis("axisLabelFontSize","y");parseInt(w.style.top,10)+x>p-x&&(w.style.top=parseInt(w.style.top,10)-x/2+"px")}var T;o.getOption("drawAxesAtZero")?(((k=o.toPercentXCoord(0))>1||k<0||isNaN(k))&&(k=0),T=e(v.x+k*v.w)):T=e(v.x),h.strokeStyle=o.getOptionForAxis("axisLineColor","y"),h.lineWidth=o.getOptionForAxis("axisLineWidth","y"),h.beginPath(),h.moveTo(T,i(v.y)),h.lineTo(T,i(v.y+v.h)),h.closePath(),h.stroke(),2==o.numAxes()&&(h.strokeStyle=o.getOptionForAxis("axisLineColor","y2"),h.lineWidth=o.getOptionForAxis("axisLineWidth","y2"),h.beginPath(),h.moveTo(i(v.x+v.w),i(v.y)),h.lineTo(i(v.x+v.w),i(v.y+v.h)),h.closePath(),h.stroke())}if(o.getOptionForAxis("drawAxis","x")){if(y.xticks){var O=m("x");y.xticks.forEach(function(t){if(void 0!==t.label){s=v.x+t.pos*v.w,l=v.y+v.h,(a=g(t.label,"x")).style.textAlign="center",a.style.top=l+O("axisTickSize")+"px";var e=s-O("axisLabelWidth")/2;e+O("axisLabelWidth")>c&&(e=c-O("axisLabelWidth"),a.style.textAlign="right"),e<0&&(e=0,a.style.textAlign="left"),a.style.left=e+"px",a.style.width=O("axisLabelWidth")+"px",u.appendChild(a),r.xlabels_.push(a)}})}var A,k;h.strokeStyle=o.getOptionForAxis("axisLineColor","x"),h.lineWidth=o.getOptionForAxis("axisLineWidth","x"),h.beginPath(),o.getOption("drawAxesAtZero")?(((k=o.toPercentYCoord(0,0))>1||k<0)&&(k=1),A=i(v.y+k*v.h)):A=i(v.y+v.h),h.moveTo(e(v.x),A),h.lineTo(e(v.x+v.w),A),h.closePath(),h.stroke()}h.restore()}},i.default=r,e.exports=i.default},{"../dygraph-utils":17}],22:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};n.prototype.toString=function(){return"ChartLabels Plugin"},n.prototype.activate=function(t){return{layout:this.layout,didDrawChart:this.didDrawChart}};var r=function(t){var e=document.createElement("div");return e.style.position="absolute",e.style.left=t.x+"px",e.style.top=t.y+"px",e.style.width=t.w+"px",e.style.height=t.h+"px",e};n.prototype.detachLabels_=function(){for(var t=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],e=0;e<t.length;e++){var i=t[e];i&&i.parentNode&&i.parentNode.removeChild(i)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var o=function(t,e,i,n,r){var o=document.createElement("div");o.style.position="absolute",o.style.left=1==i?"0px":e.x+"px",o.style.top=e.y+"px",o.style.width=e.w+"px",o.style.height=e.h+"px",o.style.fontSize=t.getOption("yLabelWidth")-2+"px";var a=document.createElement("div");a.style.position="absolute",a.style.width=e.h+"px",a.style.height=e.w+"px",a.style.top=e.h/2-e.w/2+"px",a.style.left=e.w/2-e.h/2+"px",a.className="dygraph-label-rotate-"+(1==i?"right":"left");var s=document.createElement("div");return s.className=n,s.innerHTML=r,a.appendChild(s),o.appendChild(a),o};n.prototype.layout=function(t){this.detachLabels_();var e=t.dygraph,i=t.chart_div;if(e.getOption("title")){var n=t.reserveSpaceTop(e.getOption("titleHeight"));this.title_div_=r(n),this.title_div_.style.fontSize=e.getOption("titleHeight")-8+"px",(a=document.createElement("div")).className="dygraph-label dygraph-title",a.innerHTML=e.getOption("title"),this.title_div_.appendChild(a),i.appendChild(this.title_div_)}if(e.getOption("xlabel")){var a,s=t.reserveSpaceBottom(e.getOption("xLabelHeight"));this.xlabel_div_=r(s),this.xlabel_div_.style.fontSize=e.getOption("xLabelHeight")-2+"px",(a=document.createElement("div")).className="dygraph-label dygraph-xlabel",a.innerHTML=e.getOption("xlabel"),this.xlabel_div_.appendChild(a),i.appendChild(this.xlabel_div_)}if(e.getOption("ylabel")){var l=t.reserveSpaceLeft(0);this.ylabel_div_=o(e,l,1,"dygraph-label dygraph-ylabel",e.getOption("ylabel")),i.appendChild(this.ylabel_div_)}if(e.getOption("y2label")&&2==e.numAxes()){var h=t.reserveSpaceRight(0);this.y2label_div_=o(e,h,2,"dygraph-label dygraph-y2label",e.getOption("y2label")),i.appendChild(this.y2label_div_)}},n.prototype.didDrawChart=function(t){var e=t.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=e.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=e.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=e.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=e.getOption("y2label"))},n.prototype.clearChart=function(){},n.prototype.destroy=function(){this.detachLabels_()},i.default=n,e.exports=i.default},{}],23:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){};n.prototype.toString=function(){return"Gridline Plugin"},n.prototype.activate=function(t){return{willDrawChart:this.willDrawChart}},n.prototype.willDrawChart=function(t){function e(t){return Math.round(t)+.5}function i(t){return Math.round(t)-.5}var n,r,o,a=t.dygraph,s=t.drawingContext,l=a.layout_,h=t.dygraph.plotter_.area;if(a.getOptionForAxis("drawGrid","y")){for(var u=["y","y2"],c=[],p=[],d=[],f=[],g=[],y=0;y<u.length;y++)d[y]=a.getOptionForAxis("drawGrid",u[y]),d[y]&&(c[y]=a.getOptionForAxis("gridLineColor",u[y]),p[y]=a.getOptionForAxis("gridLineWidth",u[y]),g[y]=a.getOptionForAxis("gridLinePattern",u[y]),f[y]=g[y]&&g[y].length>=2);o=l.yticks,s.save(),o.forEach(function(t){if(t.has_tick){var o=t.axis;d[o]&&(s.save(),f[o]&&s.setLineDash&&s.setLineDash(g[o]),s.strokeStyle=c[o],s.lineWidth=p[o],n=e(h.x),r=i(h.y+t.pos*h.h),s.beginPath(),s.moveTo(n,r),s.lineTo(n+h.w,r),s.stroke(),s.restore())}}),s.restore()}a.getOptionForAxis("drawGrid","x")&&(o=l.xticks,s.save(),g=a.getOptionForAxis("gridLinePattern","x"),(f=g&&g.length>=2)&&s.setLineDash&&s.setLineDash(g),s.strokeStyle=a.getOptionForAxis("gridLineColor","x"),s.lineWidth=a.getOptionForAxis("gridLineWidth","x"),o.forEach(function(t){t.has_tick&&(n=e(h.x+t.pos*h.w),r=i(h.y+h.h),s.beginPath(),s.moveTo(n,r),s.lineTo(n,h.y),s.closePath(),s.stroke())}),f&&s.setLineDash&&s.setLineDash([]),s.restore())},n.prototype.destroy=function(){},i.default=n,e.exports=i.default},{}],24:[function(t,e,i){"use strict";function n(t,e,i){if(!t||t.length<=1)return'<div class="dygraph-legend-line" style="border-bottom-color: '+e+';"></div>';var n,r,o,a=0,s=0,l=[];for(n=0;n<=t.length;n++)a+=t[n%t.length];if((o=Math.floor(i/(a-t[0])))>1){for(n=0;n<t.length;n++)l[n]=t[n]/i;s=l.length}else{for(o=1,n=0;n<t.length;n++)l[n]=t[n]/a;s=l.length+1}var h="";for(r=0;r<o;r++)for(n=0;n<s;n+=2)h+='<div class="dygraph-legend-dash" style="margin-right: '+(n<t.length?l[(n+1)%l.length]:0)+"em; padding-left: "+l[n%l.length]+'em;"></div>';return h}Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../dygraph-utils")),o=function(){this.legend_div_=null,this.is_generated_div_=!1};o.prototype.toString=function(){return"Legend Plugin"},o.prototype.activate=function(t){var e,i=t.getOption("labelsDiv");return i&&null!==i?e="string"==typeof i||i instanceof String?document.getElementById(i):i:((e=document.createElement("div")).className="dygraph-legend",t.graphDiv.appendChild(e),this.is_generated_div_=!0),this.legend_div_=e,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var a=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};o.prototype.select=function(t){var e=t.selectedX,i=t.selectedPoints,n=t.selectedRow,r=t.dygraph.getOption("legend");if("never"!==r){if("follow"===r){var a=t.dygraph.plotter_.area,s=this.legend_div_.offsetWidth,l=t.dygraph.getOptionForAxis("axisLabelWidth","y"),h=i[0].x*a.w+50,u=i[0].y*a.h-50;h+s+1>a.w&&(h=h-100-s-(l-a.x)),t.dygraph.graphDiv.appendChild(this.legend_div_),this.legend_div_.style.left=l+h+"px",this.legend_div_.style.top=u+"px"}var c=o.generateLegendHTML(t.dygraph,e,i,this.one_em_width_,n);this.legend_div_.innerHTML=c,this.legend_div_.style.display=""}else this.legend_div_.style.display="none"},o.prototype.deselect=function(t){"always"!==t.dygraph.getOption("legend")&&(this.legend_div_.style.display="none");var e=function(t){var e=document.createElement("span");e.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),t.appendChild(e);var i=e.offsetWidth;return t.removeChild(e),i}(this.legend_div_);this.one_em_width_=e;var i=o.generateLegendHTML(t.dygraph,void 0,void 0,e,null);this.legend_div_.innerHTML=i},o.prototype.didDrawChart=function(t){this.deselect(t)},o.prototype.predraw=function(t){if(this.is_generated_div_){t.dygraph.graphDiv.appendChild(this.legend_div_);var e=t.dygraph.getArea();this.legend_div_.style.left=e.x+e.w-this.legend_div_.offsetWidth-1+"px",this.legend_div_.style.top=e.y+"px"}},o.prototype.destroy=function(){this.legend_div_=null},o.generateLegendHTML=function(t,e,i,s,l){var h={dygraph:t,x:e,series:[]},u={},c=t.getLabels();if(c)for(var p=1;p<c.length;p++){var d=t.getPropertiesForSeries(c[p]),f={dashHTML:n(t.getOption("strokePattern",c[p]),d.color,s),label:c[p],labelHTML:a(c[p]),isVisible:d.visible,color:d.color};h.series.push(f),u[c[p]]=f}if(void 0!==e){var g=t.optionsViewForAxis_("x"),y=g("valueFormatter");h.xHTML=y.call(t,e,g,c[0],t,l,0);var v=[],m=t.numAxes();for(p=0;p<m;p++)v[p]=t.optionsViewForAxis_("y"+(p?1+p:""));var _=t.getOption("labelsShowZeroValues"),b=t.getHighlightSeries();for(p=0;p<i.length;p++){var w=i[p];if((f=u[w.name]).y=w.yval,0===w.yval&&!_||isNaN(w.canvasy))f.isVisible=!1;else{var x=v[(d=t.getPropertiesForSeries(w.name)).axis-1],T=x("valueFormatter").call(t,w.yval,x,w.name,t,l,c.indexOf(w.name));r.update(f,{yHTML:T}),w.name==b&&(f.isHighlighted=!0)}}}return(t.getOption("legendFormatter")||o.defaultFormatter).call(t,h)},o.defaultFormatter=function(t){var e=t.dygraph;if(!0!==e.getOption("showLabelsOnHighlight"))return"";var i,n=e.getOption("labelsSeparateLines");if(void 0===t.x){if("always"!=e.getOption("legend"))return"";i="";for(var r=0;r<t.series.length;r++)(o=t.series[r]).isVisible&&(""!==i&&(i+=n?"<br/>":" "),i+="<span style='font-weight: bold; color: "+o.color+";'>"+o.dashHTML+" "+o.labelHTML+"</span>");return i}for(i=t.xHTML+":",r=0;r<t.series.length;r++){var o;(o=t.series[r]).isVisible&&(n&&(i+="<br>"),i+="<span"+(o.isHighlighted?' class="highlight"':"")+"> <b><span style='color: "+o.color+";'>"+o.labelHTML+"</span></b>:&#160;"+o.yHTML+"</span>")}return i},i.default=o,e.exports=i.default},{"../dygraph-utils":17}],25:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../dygraph-utils")),o=n(t("../dygraph-interaction-model")),a=n(t("../iframe-tarp")),s=function(){this.hasTouchInterface_="undefined"!=typeof TouchEvent,this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};s.prototype.toString=function(){return"RangeSelector Plugin"},s.prototype.activate=function(t){return this.dygraph_=t,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}},s.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null},s.prototype.getOption_=function(t,e){return this.dygraph_.getOption(t,e)},s.prototype.setDefaultOption_=function(t,e){this.dygraph_.attrs_[t]=e},s.prototype.createInterface_=function(){this.createCanvases_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()},s.prototype.addToGraph_=function(){var t=this.graphDiv_=this.dygraph_.graphDiv;t.appendChild(this.bgcanvas_),t.appendChild(this.fgcanvas_),t.appendChild(this.leftZoomHandle_),t.appendChild(this.rightZoomHandle_)},s.prototype.removeFromGraph_=function(){var t=this.graphDiv_;t.removeChild(this.bgcanvas_),t.removeChild(this.fgcanvas_),t.removeChild(this.leftZoomHandle_),t.removeChild(this.rightZoomHandle_),this.graphDiv_=null},s.prototype.reserveSpace_=function(t){this.getOption_("showRangeSelector")&&t.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)},s.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())},s.prototype.renderInteractiveLayer_=function(){this.updateVisibility_()&&!this.isChangingRange_&&(this.placeZoomHandles_(),this.drawInteractiveLayer_())},s.prototype.updateVisibility_=function(){var t=this.getOption_("showRangeSelector");if(t)this.interfaceCreated_?this.graphDiv_&&this.graphDiv_.parentNode||this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var e=this.dygraph_;setTimeout(function(){e.width_=0,e.resize()},1)}return t},s.prototype.resize_=function(){function t(t,e,i,n){var o=n||r.getContextPixelRatio(e);t.style.top=i.y+"px",t.style.left=i.x+"px",t.width=i.w*o,t.height=i.h*o,t.style.width=i.w+"px",t.style.height=i.h+"px",1!=o&&e.scale(o,o)}var e=this.dygraph_.layout_.getPlotArea(),i=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(i=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:e.x,y:e.y+e.h+i+4,w:e.w,h:this.getOption_("rangeSelectorHeight")};var n=this.dygraph_.getNumericOption("pixelRatio");t(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_,n),t(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_,n)},s.prototype.createCanvases_=function(){this.bgcanvas_=r.createCanvas(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=r.getContext(this.bgcanvas_),this.fgcanvas_=r.createCanvas(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=r.getContext(this.fgcanvas_)},s.prototype.createZoomHandles_=function(){var t=new Image;t.className="dygraph-rangesel-zoomhandle",t.style.position="absolute",t.style.zIndex=10,t.style.visibility="hidden",t.style.cursor="col-resize",t.width=9,t.height=16,t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=",this.isMobileDevice_&&(t.width*=2,t.height*=2),this.leftZoomHandle_=t,this.rightZoomHandle_=t.cloneNode(!1)},s.prototype.initInteraction_=function(){var t,e,i,n,s,l,h,u,c,p,d,f,g,y,v=this,m=document,_=0,b=null,w=!1,x=!1,T=!this.isMobileDevice_,O=new a.default;t=function(t){var e=v.dygraph_.xAxisExtremes(),i=(e[1]-e[0])/v.canvasRect_.w;return[e[0]+(t.leftHandlePos-v.canvasRect_.x)*i,e[0]+(t.rightHandlePos-v.canvasRect_.x)*i]},e=function(t){return r.cancelEvent(t),w=!0,_=t.clientX,b=t.target?t.target:t.srcElement,"mousedown"!==t.type&&"dragstart"!==t.type||(r.addEvent(m,"mousemove",i),r.addEvent(m,"mouseup",n)),v.fgcanvas_.style.cursor="col-resize",O.cover(),!0},i=function(t){if(!w)return!1;r.cancelEvent(t);var e=t.clientX-_;if(Math.abs(e)<4)return!0;_=t.clientX;var i,n=v.getZoomHandleStatus_();return b==v.leftZoomHandle_?(i=n.leftHandlePos+e,i=Math.min(i,n.rightHandlePos-b.width-3),i=Math.max(i,v.canvasRect_.x)):(i=n.rightHandlePos+e,i=Math.min(i,v.canvasRect_.x+v.canvasRect_.w),i=Math.max(i,n.leftHandlePos+b.width+3)),b.style.left=i-b.width/2+"px",v.drawInteractiveLayer_(),T&&s(),!0},n=function(t){return!!w&&(w=!1,O.uncover(),r.removeEvent(m,"mousemove",i),r.removeEvent(m,"mouseup",n),v.fgcanvas_.style.cursor="default",T||s(),!0)},s=function(){try{var e=v.getZoomHandleStatus_();if(v.isChangingRange_=!0,e.isZoomed){var i=t(e);v.dygraph_.doZoomXDates_(i[0],i[1])}else v.dygraph_.resetZoom()}finally{v.isChangingRange_=!1}},l=function(t){var e=v.leftZoomHandle_.getBoundingClientRect(),i=e.left+e.width/2;return e=v.rightZoomHandle_.getBoundingClientRect(),t.clientX>i&&t.clientX<e.left+e.width/2},h=function(t){return!(x||!l(t)||!v.getZoomHandleStatus_().isZoomed||(r.cancelEvent(t),x=!0,_=t.clientX,"mousedown"===t.type&&(r.addEvent(m,"mousemove",u),r.addEvent(m,"mouseup",c)),0))},u=function(t){if(!x)return!1;r.cancelEvent(t);var e=t.clientX-_;if(Math.abs(e)<4)return!0;_=t.clientX;var i=v.getZoomHandleStatus_(),n=i.leftHandlePos,o=i.rightHandlePos,a=o-n;n+e<=v.canvasRect_.x?o=(n=v.canvasRect_.x)+a:o+e>=v.canvasRect_.x+v.canvasRect_.w?n=(o=v.canvasRect_.x+v.canvasRect_.w)-a:(n+=e,o+=e);var s=v.leftZoomHandle_.width/2;return v.leftZoomHandle_.style.left=n-s+"px",v.rightZoomHandle_.style.left=o-s+"px",v.drawInteractiveLayer_(),T&&p(),!0},c=function(t){return!!x&&(x=!1,r.removeEvent(m,"mousemove",u),r.removeEvent(m,"mouseup",c),T||p(),!0)},p=function(){try{v.isChangingRange_=!0,v.dygraph_.dateWindow_=t(v.getZoomHandleStatus_()),v.dygraph_.drawGraph_(!1)}finally{v.isChangingRange_=!1}},d=function(t){if(!w&&!x){var e=l(t)?"move":"default";e!=v.fgcanvas_.style.cursor&&(v.fgcanvas_.style.cursor=e)}},f=function(t){"touchstart"==t.type&&1==t.targetTouches.length?e(t.targetTouches[0])&&r.cancelEvent(t):"touchmove"==t.type&&1==t.targetTouches.length?i(t.targetTouches[0])&&r.cancelEvent(t):n(t)},g=function(t){"touchstart"==t.type&&1==t.targetTouches.length?h(t.targetTouches[0])&&r.cancelEvent(t):"touchmove"==t.type&&1==t.targetTouches.length?u(t.targetTouches[0])&&r.cancelEvent(t):c(t)},y=function(t,e){for(var i=["touchstart","touchend","touchmove","touchcancel"],n=0;n<i.length;n++)v.dygraph_.addAndTrackEvent(t,i[n],e)},this.setDefaultOption_("interactionModel",o.default.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",1e-4);var A=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,A,e),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,A,e),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",h),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",d),this.hasTouchInterface_&&(y(this.leftZoomHandle_,f),y(this.rightZoomHandle_,f),y(this.fgcanvas_,g))},s.prototype.drawStaticLayer_=function(){var t=this.bgcanvas_ctx_;t.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(t){console.warn(t)}this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth"),t.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor"),t.beginPath(),t.moveTo(.5,.5),t.lineTo(.5,this.canvasRect_.h-.5),t.lineTo(this.canvasRect_.w-.5,this.canvasRect_.h-.5),t.lineTo(this.canvasRect_.w-.5,.5),t.stroke()},s.prototype.drawMiniPlot_=function(){var t=this.getOption_("rangeSelectorPlotFillColor"),e=this.getOption_("rangeSelectorPlotFillGradientColor"),i=this.getOption_("rangeSelectorPlotStrokeColor");if(t||i){var n=this.getOption_("stepPlot"),r=this.computeCombinedSeriesAndLimits_(),o=r.yMax-r.yMin,a=this.bgcanvas_ctx_,s=this.dygraph_.xAxisExtremes(),l=Math.max(s[1]-s[0],1e-30),h=(this.canvasRect_.w-.5)/l,u=(this.canvasRect_.h-.5)/o,c=this.canvasRect_.w-.5,p=this.canvasRect_.h-.5,d=null,f=null;a.beginPath(),a.moveTo(.5,p);for(var g=0;g<r.data.length;g++){var y=r.data[g],v=null!==y[0]?(y[0]-s[0])*h:NaN,m=null!==y[1]?p-(y[1]-r.yMin)*u:NaN;(n||null===d||Math.round(v)!=Math.round(d))&&(isFinite(v)&&isFinite(m)?(null===d?a.lineTo(v,p):n&&a.lineTo(v,f),a.lineTo(v,m),d=v,f=m):(null!==d&&(n?(a.lineTo(v,f),a.lineTo(v,p)):a.lineTo(d,p)),d=f=null))}if(a.lineTo(c,p),a.closePath(),t){var _=this.bgcanvas_ctx_.createLinearGradient(0,0,0,p);e&&_.addColorStop(0,e),_.addColorStop(1,t),this.bgcanvas_ctx_.fillStyle=_,a.fill()}i&&(this.bgcanvas_ctx_.strokeStyle=i,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),a.stroke())}},s.prototype.computeCombinedSeriesAndLimits_=function(){var t,e=this.dygraph_,i=this.getOption_("logscale"),n=e.numColumns(),o=e.getLabels(),a=new Array(n),s=!1,l=e.visibility(),h=[];for(t=1;t<n;t++){var u=this.getOption_("showInRangeSelector",o[t]);h.push(u),null!==u&&(s=!0)}if(s)for(t=1;t<n;t++)a[t]=h[t-1];else for(t=1;t<n;t++)a[t]=l[t-1];var c=[],p=e.dataHandler_,d=e.attributes_;for(t=1;t<e.numColumns();t++)if(a[t]){var f=p.extractSeries(e.rawData_,t,d);e.rollPeriod()>1&&(f=p.rollingAverage(f,e.rollPeriod(),d)),c.push(f)}var g=[];for(t=0;t<c[0].length;t++){for(var y=0,v=0,m=0;m<c.length;m++){var _=c[m][t][1];null===_||isNaN(_)||(v++,y+=_)}g.push([c[0][t][0],y/v])}var b=Number.MAX_VALUE,w=-Number.MAX_VALUE;for(t=0;t<g.length;t++){var x=g[t][1];null!==x&&isFinite(x)&&(!i||x>0)&&(b=Math.min(b,x),w=Math.max(w,x))}if(i)for(w=r.log10(w),w+=.25*w,b=r.log10(b),t=0;t<g.length;t++)g[t][1]=r.log10(g[t][1]);else{var T,O=w-b;w+=T=O<=Number.MIN_VALUE?.25*w:.25*O,b-=T}return{data:g,yMin:b,yMax:w}},s.prototype.placeZoomHandles_=function(){var t=this.dygraph_.xAxisExtremes(),e=this.dygraph_.xAxisRange(),i=t[1]-t[0],n=Math.max(0,(e[0]-t[0])/i),r=Math.max(0,(t[1]-e[1])/i),o=this.canvasRect_.x+this.canvasRect_.w*n,a=this.canvasRect_.x+this.canvasRect_.w*(1-r),s=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),l=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=o-l+"px",this.leftZoomHandle_.style.top=s+"px",this.rightZoomHandle_.style.left=a-l+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"},s.prototype.drawInteractiveLayer_=function(){var t=this.fgcanvas_ctx_;t.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var e=this.canvasRect_.w-1,i=this.canvasRect_.h-1,n=this.getZoomHandleStatus_();if(t.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),t.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),n.isZoomed){var r=Math.max(1,n.leftHandlePos-this.canvasRect_.x),o=Math.min(e,n.rightHandlePos-this.canvasRect_.x);t.fillStyle="rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")",t.fillRect(0,0,r,this.canvasRect_.h),t.fillRect(o,0,this.canvasRect_.w-o,this.canvasRect_.h),t.beginPath(),t.moveTo(1,1),t.lineTo(r,1),t.lineTo(r,i),t.lineTo(o,i),t.lineTo(o,1),t.lineTo(e,1),t.stroke()}else t.beginPath(),t.moveTo(1,1),t.lineTo(1,i),t.lineTo(e,i),t.lineTo(e,1),t.stroke()},s.prototype.getZoomHandleStatus_=function(){var t=this.leftZoomHandle_.width/2,e=parseFloat(this.leftZoomHandle_.style.left)+t,i=parseFloat(this.rightZoomHandle_.style.left)+t;return{leftHandlePos:e,rightHandlePos:i,isZoomed:e-1>this.canvasRect_.x||i+1<this.canvasRect_.x+this.canvasRect_.w}},i.default=s,e.exports=i.default},{"../dygraph-interaction-model":12,"../dygraph-utils":17,"../iframe-tarp":19}]},{},[18])(18)});